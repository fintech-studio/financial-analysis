(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55777,(e,t,r)=>{e.e,t.exports=function(e){var t=[function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(14)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},!0)}else e.exports=r(16)()}).call(t,r(2))},function(t,r){t.exports=e},function(e,t){var r,a,n,l=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var c=[],d=!1,u=-1;function m(){d&&n&&(d=!1,n.length?c=n.concat(c):u=-1,c.length&&p())}function p(){if(!d){var e=s(m);d=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function f(){}l.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t)),1!==c.length||d||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=f,l.addListener=f,l.once=f,l.off=f,l.removeListener=f,l.removeAllListeners=f,l.emit=f,l.prependListener=f,l.prependOnceListener=f,l.listeners=function(e){return[]},l.binding=function(e){throw Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.reduce(function(e,t){return e+t})/e.length}},function(e,t,r){"use strict";function a(e){return function(){return e}}var n=function(){};n.thatReturns=a,n.thatReturnsFalse=a(!1),n.thatReturnsTrue=a(!0),n.thatReturnsNull=a(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";(function(t){var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw Error("invariant requires an error message argument")}),e.exports=function(e,t,a,n,l,i,o,s){if(r(t),!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,n,l,i,o,s],u=0;(c=Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,r(2))},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.min.apply(Math,e)}},function(e,t,r){"use strict";(function(t){var a=r(4);if("production"!==t.env.NODE_ENV){var n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n=0,l="Warning: "+e.replace(/%s/g,function(){return r[n++]});"undefined"!=typeof console&&console.error(l);try{throw Error(l)}catch(e){}};a=function(e,t){if(void 0===t)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,a=Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];n.apply(void 0,[t].concat(a))}}}e.exports=a}).call(t,r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.max.apply(Math,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=(a=r(3))&&a.__esModule?a:{default:a};t.default=function(e){var t=(0,n.default)(e),r=e.map(function(e){return Math.pow(e-t,2)});return Math.sqrt((0,n.default)(r))}},function(e,t,r){e.exports=r(12)},function(e,t,r){"use strict";e.exports=r(13)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparklinesText=t.SparklinesNormalBand=t.SparklinesReferenceLine=t.SparklinesSpots=t.SparklinesBars=t.SparklinesCurve=t.SparklinesLine=t.Sparklines=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=f(r(0)),l=r(1),i=f(l),o=f(r(17)),s=f(r(18)),c=f(r(19)),d=f(r(20)),u=f(r(21)),m=f(r(22)),p=f(r(27)),y=f(r(28));function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=(t.__proto__||Object.getPrototypeOf(t)).call(this,e);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&("object"==typeof r||"function"==typeof r)?r:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.data,r=e.limit,a=e.width,n=e.height,l=e.svgWidth,o=e.svgHeight,s=e.preserveAspectRatio,c=e.margin,d=e.style,u=e.max,m=e.min;if(0===t.length)return null;var p=(0,y.default)({data:t,limit:r,width:a,height:n,margin:c,max:u,min:m}),f={style:d,viewBox:"0 0 "+a+" "+n,preserveAspectRatio:s};return l>0&&(f.width=l),o>0&&(f.height=o),i.default.createElement("svg",f,i.default.Children.map(this.props.children,function(e){return i.default.cloneElement(e,{data:t,points:p,width:a,height:n,margin:c})}))}}]),t}(l.PureComponent);g.propTypes={data:n.default.array,limit:n.default.number,width:n.default.number,height:n.default.number,svgWidth:n.default.number,svgHeight:n.default.number,preserveAspectRatio:n.default.string,margin:n.default.number,style:n.default.object,min:n.default.number,max:n.default.number,onMouseMove:n.default.func},g.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},t.Sparklines=g,t.SparklinesLine=s.default,t.SparklinesCurve=c.default,t.SparklinesBars=d.default,t.SparklinesSpots=u.default,t.SparklinesReferenceLine=m.default,t.SparklinesNormalBand=p.default,t.SparklinesText=o.default},function(e,t,r){"use strict";(function(t){var a=r(4),n=r(5),l=r(8),i=r(6),o=r(15);e.exports=function(e,r){var s="function"==typeof Symbol&&Symbol.iterator,c="<<anonymous>>",d={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:m(a.thatReturnsNull),arrayOf:function(e){return m(function(t,r,a,n,l){if("function"!=typeof e)return new u("Property `"+l+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var o=t[r];if(!Array.isArray(o))return new u("Invalid "+n+" `"+l+"` of type "+("`"+y(o)+"` supplied to `")+a+"`, expected an array.");for(var s=0;s<o.length;s++){var c=e(o,s,a,n,l+"["+s+"]",i);if(c instanceof Error)return c}return null})},element:m(function(t,r,a,n,l){var i=t[r];return e(i)?null:new u("Invalid "+n+" `"+l+"` of type "+("`"+y(i)+"` supplied to `")+a+"`, expected a single ReactElement.")}),instanceOf:function(e){return m(function(t,r,a,n,l){if(!(t[r]instanceof e)){var i,o=e.name||c;return new u("Invalid "+n+" `"+l+"` of type "+("`"+((i=t[r]).constructor&&i.constructor.name?i.constructor.name:c)+"` supplied to `")+a+"`, expected instance of `"+o+"`.")}return null})},node:m(function(t,r,a,n,l){return!function t(r){switch(typeof r){case"number":case"string":case"undefined":return!0;case"boolean":return!r;case"object":if(Array.isArray(r))return r.every(t);if(null===r||e(r))return!0;var a=function(e){var t=e&&(s&&e[s]||e["@@iterator"]);if("function"==typeof t)return t}(r);if(!a)return!1;var n,l=a.call(r);if(a!==r.entries){for(;!(n=l.next()).done;)if(!t(n.value))return!1}else for(;!(n=l.next()).done;){var i=n.value;if(i&&!t(i[1]))return!1}return!0;default:return!1}}(t[r])?new u("Invalid "+n+" `"+l+"` supplied to `"+a+"`, expected a ReactNode."):null}),objectOf:function(e){return m(function(t,r,a,n,l){if("function"!=typeof e)return new u("Property `"+l+"` of component `"+a+"` has invalid PropType notation inside objectOf.");var o=t[r],s=y(o);if("object"!==s)return new u("Invalid "+n+" `"+l+"` of type "+("`"+s+"` supplied to `")+a+"`, expected an object.");for(var c in o)if(o.hasOwnProperty(c)){var d=e(o,c,a,n,l+"."+c,i);if(d instanceof Error)return d}return null})},oneOf:function(e){return Array.isArray(e)?m(function(t,r,a,n,l){for(var i,o=t[r],s=0;s<e.length;s++)if(o===(i=e[s])?0!==o||1/o==1/i:o!=o&&i!=i)return null;return new u("Invalid "+n+" `"+l+"` of value `"+o+"` "+("supplied to `"+a+"`, expected one of ")+JSON.stringify(e)+".")}):("production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",function(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}(n),r),a.thatReturnsNull}return m(function(t,r,a,n,l){for(var o=0;o<e.length;o++)if(null==(0,e[o])(t,r,a,n,l,i))return null;return new u("Invalid "+n+" `"+l+"` supplied to `"+a+"`.")})},shape:function(e){return m(function(t,r,a,n,l){var o=t[r],s=y(o);if("object"!==s)return new u("Invalid "+n+" `"+l+"` of type `"+s+"` supplied to `"+a+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var m=d(o,c,a,n,l+"."+c,i);if(m)return m}}return null})}};function u(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var a={},o=0;function s(s,d,m,p,y,f,g){if(p=p||c,f=f||m,g!==i){if(r)n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var h=p+":"+m;!a[h]&&o<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,p),a[h]=!0,o++)}}return null!=d[m]?e(d,m,p,y,f):s?new u(null===d[m]?"The "+y+" `"+f+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+y+" `"+f+"` is marked as required in `"+p+"`, but its value is `undefined`."):null}var d=s.bind(null,!1);return d.isRequired=s.bind(null,!0),d}function p(e){return m(function(t,r,a,n,l,i){var o=t[r];return y(o)!==e?new u("Invalid "+n+" `"+l+"` of type "+("`"+f(o)+"` supplied to `")+a+"`, expected `"+e+"`."):null})}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol?"symbol":t}function f(e){if(null==e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";else if(e instanceof RegExp)return"regexp"}return t}return u.prototype=Error.prototype,d.checkPropTypes=o,d.PropTypes=d,d}}).call(t,r(2))},function(e,t,r){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var a=r(5),n=r(8),l=r(6),i={};e.exports=function(e,r,o,s,c){if("production"!==t.env.NODE_ENV){for(var d in e)if(e.hasOwnProperty(d)){var u;try{a("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",s||"React class",o,d),u=e[d](r,d,s,o,null,l)}catch(e){u=e}if(n(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",o,d,typeof u),u instanceof Error&&!(u.message in i)){i[u.message]=!0;var m=c?c():"";n(!1,"Failed %s type: %s%s",o,u.message,null!=m?m:"")}}}}}).call(t,r(2))},function(e,t,r){"use strict";var a=r(4),n=r(5),l=r(6);e.exports=function(){function e(e,t,r,a,i,o){o!==l&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=a,r.PropTypes=r,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.point,r=e.text,a=e.fontSize,n=e.fontFamily,i=t.x,o=t.y;return l.default.createElement("g",null,l.default.createElement("text",{x:i,y:o,fontFamily:n||"Verdana",fontSize:a||10},r))}}]),t}(l.default.Component);o.propTypes={text:n.default.string,point:n.default.object,fontSize:n.default.number,fontFamily:n.default.string},o.defaultProps={text:"",point:{x:0,y:0}},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.data,r=e.points,a=(e.width,e.height),n=e.margin,i=e.color,o=e.style,s=e.onMouseMove,c=r.map(function(e){return[e.x,e.y]}).reduce(function(e,t){return e.concat(t)}),d=[r[r.length-1].x,a-n,n,a-n,n,r[0].y],u=c.concat(d),m={stroke:i||o.stroke||"slategray",strokeWidth:o.strokeWidth||"1",strokeLinejoin:o.strokeLinejoin||"round",strokeLinecap:o.strokeLinecap||"round",fill:"none"},p={stroke:o.stroke||"none",strokeWidth:"0",fillOpacity:o.fillOpacity||".1",fill:o.fill||i||"slategray",pointerEvents:"auto"},y=r.map(function(e,r){return l.default.createElement("circle",{key:r,cx:e.x,cy:e.y,r:2,style:p,onMouseEnter:function(a){return s("enter",t[r],e)},onClick:function(a){return s("click",t[r],e)}})});return l.default.createElement("g",null,y,l.default.createElement("polyline",{points:u.join(" "),style:p}),l.default.createElement("polyline",{points:c.join(" "),style:m}))}}]),t}(l.default.Component);o.propTypes={color:n.default.string,style:n.default.object},o.defaultProps={style:{},onMouseMove:function(){}},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.points,r=(e.width,e.height),a=e.margin,n=e.color,i=e.style,o=e.divisor,s=void 0===o?.25:o,c=void 0,d=function(e){var t=void 0;if(c){var r=(e.x-c.x)*s;t=["C",c.x+r,c.y,e.x-r,e.y,e.x,e.y]}else t=[e.x,e.y];return c=e,t},u=t.map(function(e){return d(e)}).reduce(function(e,t){return e.concat(t)}),m=["L"+t[t.length-1].x,r-a,a,r-a,a,t[0].y],p=u.concat(m),y={stroke:n||i.stroke||"slategray",strokeWidth:i.strokeWidth||"1",strokeLinejoin:i.strokeLinejoin||"round",strokeLinecap:i.strokeLinecap||"round",fill:"none"},f={stroke:i.stroke||"none",strokeWidth:"0",fillOpacity:i.fillOpacity||".1",fill:i.fill||n||"slategray"};return l.default.createElement("g",null,l.default.createElement("path",{d:"M"+p.join(" "),style:f}),l.default.createElement("path",{d:"M"+u.join(" "),style:y}))}}]),t}(l.default.Component);o.propTypes={color:n.default.string,style:n.default.object},o.defaultProps={style:{}},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.points,a=t.height,n=t.style,i=t.barWidth,o=t.margin,s=t.onMouseMove,c=+(n&&n.strokeWidth||0),d=i||(r&&r.length>=2?Math.max(0,r[1].x-r[0].x-c-(o?2*o:0)):0);return l.default.createElement("g",{transform:"scale(1,-1)"},r.map(function(t,r){return l.default.createElement("rect",{key:r,x:t.x-(d+c)/2,y:-a,width:d,height:Math.max(0,a-t.y),style:n,onMouseMove:s&&s.bind(e,t)})}))}}]),t}(l.default.Component);o.propTypes={points:n.default.arrayOf(n.default.object),height:n.default.number,style:n.default.object,barWidth:n.default.number,margin:n.default.number,onMouseMove:n.default.func},o.defaultProps={style:{fill:"slategray"}},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),l=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"lastDirection",value:function(e){return Math.sign=Math.sign||function(e){return e>0?1:-1},e.length<2?0:Math.sign(e[e.length-2].y-e[e.length-1].y)}},{key:"render",value:function(){var e=this.props,t=e.points,r=(e.width,e.height,e.size),a=e.style,n=e.spotColors,i=l.default.createElement("circle",{cx:t[0].x,cy:t[0].y,r:r,style:a}),o=l.default.createElement("circle",{cx:t[t.length-1].x,cy:t[t.length-1].y,r:r,style:a||{fill:n[this.lastDirection(t)]}});return l.default.createElement("g",null,a&&i,o)}}]),t}(l.default.Component);o.propTypes={size:n.default.number,style:n.default.object,spotColors:n.default.object},o.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=o(r(0)),l=o(r(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(23));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.points,r=e.margin,a=e.type,n=e.style,o=e.value,s=t.map(function(e){return e.y}),c="custom"==a?o:i[a](s);return l.default.createElement("line",{x1:t[0].x,y1:c+r,x2:t[t.length-1].x,y2:c+r,style:n})}}]),t}(l.default.Component);s.propTypes={type:n.default.oneOf(["max","min","mean","avg","median","custom"]),value:n.default.number,style:n.default.object},s.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variance=t.stdev=t.median=t.midRange=t.avg=t.mean=t.max=t.min=void 0;var a=c(r(7)),n=c(r(3)),l=c(r(24)),i=c(r(25)),o=c(r(10)),s=c(r(26));function c(e){return e&&e.__esModule?e:{default:e}}t.min=a.default,t.max=a.default,t.mean=n.default,t.avg=n.default,t.midRange=l.default,t.median=i.default,t.stdev=o.default,t.variance=s.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(7)),n=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return(0,n.default)(e)-(0,a.default)(e)/2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.sort(function(e,t){return e-t})[Math.floor(e.length/2)]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=(a=r(3))&&a.__esModule?a:{default:a};t.default=function(e){var t=(0,n.default)(e),r=e.map(function(e){return Math.pow(e-t,2)});return(0,n.default)(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=s(r(0)),l=s(r(1)),i=s(r(3)),o=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var e=(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments);if(!this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:this}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(t,[{key:"render",value:function(){var e=this.props,t=e.points,r=e.margin,a=e.style,n=t.map(function(e){return e.y}),s=(0,i.default)(n),c=(0,o.default)(n);return l.default.createElement("rect",{x:t[0].x,y:s-c+r,width:t[t.length-1].x-t[0].x,height:2*o.default,style:a})}}]),t}(l.default.Component);c.propTypes={style:n.default.object},c.defaultProps={style:{fill:"red",fillOpacity:.1}},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(7)),n=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.data,r=e.limit,l=e.width,i=e.height,o=e.margin,s=void 0===o?0:o,c=e.max,d=void 0===c?(0,n.default)(t):c,u=e.min,m=void 0===u?(0,a.default)(t):u,p=t.length;r&&r<p&&(t=t.slice(p-r));var y=((void 0===i?1:i)-2*s)/(d-m||2),f=((void 0===l?1:l)-2*s)/((r||p)-(p>1));return t.map(function(e,t){return{x:t*f+s,y:(d===m?1:d-e)*y+s}})}}],r={};function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=11)}(e.r(91788))},26958,e=>{"use strict";var t=e.i(91398),r=e.i(91788),a=e.i(98311),n=e.i(98817),l=e.i(42248),i=e.i(48953),o=e.i(57748),s=e.i(86129);let c=[{value:"market_stock_tw",label:"å°è‚¡",color:"bg-blue-100 text-blue-700 border-blue-200"},{value:"market_stock_us",label:"ç¾è‚¡",color:"bg-red-100 text-red-700 border-red-200"},{value:"market_etf",label:"ETF",color:"bg-green-100 text-green-700 border-green-200"},{value:"market_index",label:"æŒ‡æ•¸",color:"bg-orange-100 text-orange-700 border-orange-200"},{value:"market_forex",label:"å¤–åŒ¯",color:"bg-purple-100 text-purple-700 border-purple-200"},{value:"market_crypto",label:"åŠ å¯†è²¨å¹£",color:"bg-yellow-100 text-yellow-700 border-yellow-200"},{value:"market_futures",label:"æœŸè²¨",color:"bg-pink-100 text-pink-700 border-pink-200"}],d=[{symbol:"2330",name:"å°ç©é›»",type:"ä¸Šå¸‚",market:"market_stock_tw"},{symbol:"9950",name:"è¬åœ‹é€š",type:"ä¸Šæ«ƒ",market:"market_stock_tw"},{symbol:"AAPL",name:"Apple",type:"US",market:"market_stock_us"},{symbol:"TSLA",name:"Tesla",type:"US",market:"market_stock_us"},{symbol:"000001.SS",name:"ä¸Šè­‰ç¶œåˆæŒ‡æ•¸",type:"CN",market:"market_index"},{symbol:"^DJI",name:"é“ç“Šå·¥æ¥­æŒ‡æ•¸",type:"US",market:"market_index"},{symbol:"^GSPC",name:"æ¨™æ™®500æŒ‡æ•¸",type:"US",market:"market_index"},{symbol:"^N225",name:"æ—¥ç¶“225æŒ‡æ•¸",type:"JP",market:"market_index"},{symbol:"^TWII",name:"å°ç£åŠ æ¬ŠæŒ‡æ•¸",type:"TW",market:"market_index"},{symbol:"^TWOII",name:"å°ç£æ«ƒè²·æŒ‡æ•¸",type:"TWO",market:"market_index"},{symbol:"0050",name:"å…ƒå¤§å°ç£50",type:"ETF",market:"market_etf"},{symbol:"00878",name:"åœ‹æ³°æ°¸çºŒé«˜è‚¡æ¯",type:"ETF",market:"market_etf"},{symbol:"TWD=X",name:"ç¾å…ƒ/å°å¹£",type:"å¤–åŒ¯",market:"market_forex"},{symbol:"JPYTWD=X",name:"æ—¥åœ“/å°å¹£",type:"å¤–åŒ¯",market:"market_forex"},{symbol:"CL=F",name:"åŸæ²¹",type:"æœŸè²¨",market:"market_futures"},{symbol:"GC=F",name:"é»ƒé‡‘",type:"æœŸè²¨",market:"market_futures"},{symbol:"BTC-USD",name:"æ¯”ç‰¹å¹£",type:"Crypto",market:"market_crypto"},{symbol:"ETH-USD",name:"ä»¥å¤ªåŠ",type:"Crypto",market:"market_crypto"},{symbol:"SOL-USD",name:"ç´¢æ‹‰ç´",type:"Crypto",market:"market_crypto"}],u={market_stock_tw:"market_stock_tw",market_stock_us:"market_stock_us",market_etf:"market_etf",market_index:"market_index",market_forex:"market_forex",market_crypto:"market_crypto",market_futures:"market_futures",å°è‚¡:"market_stock_tw",ç¾è‚¡:"market_stock_us",ETF:"market_etf",æŒ‡æ•¸:"market_index",å¤–åŒ¯:"market_forex",åŠ å¯†è²¨å¹£:"market_crypto",æœŸè²¨:"market_futures"},m=({symbol:e,onSymbolChange:m,timeframe:p,onTimeframeChange:y,loading:f=!1,market:g,onMarketChange:h,onSymbolAndMarketChange:x})=>{let[,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)(-1),[N,_]=(0,r.useState)(e),{suggestions:C,fetching:S}=function(e){let[t,a]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e.trim())return void a([]);l(!0),i.current&&i.current.abort();let t=new AbortController;return i.current=t,fetch(`/api/market_data?q=${encodeURIComponent(e)}`,{signal:t.signal}).then(e=>e.json()).then(e=>{a(Array.isArray(e)?e.slice(0,50):[])}).catch(e=>{"AbortError"!==e.name&&a([])}).finally(()=>l(!1)),()=>t.abort()},[e]),{suggestions:t,fetching:n}}(function(e,t){let[a,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let t=setTimeout(()=>n(e),300);return()=>clearTimeout(t)},[e,300]),a}(N,0)),M=(0,r.useMemo)(()=>c,[]),O=(0,r.useMemo)(()=>d,[]);(0,r.useEffect)(()=>{_(e)},[e]);let $=(0,r.useCallback)(async()=>{if(N.trim())try{let e=await fetch(`/api/market_data?q=${encodeURIComponent(N)}`),t=await e.json();if(Array.isArray(t)&&t.length>0){let e=u[t[0].market_category];e&&e!==g&&h(e)}}catch{}finally{m(N)}},[N,g,h,m]),T=(0,r.useCallback)((e,t)=>{if(_(e),t){let e=u[t];e&&e!==g&&h(e)}m(e),w(!1),k(-1)},[g,h,m]),E=(0,r.useCallback)(e=>{let t=e.target.value.toUpperCase();_(t),w(!!t.trim()),k(-1)},[]),A=(0,r.useCallback)(e=>{if(!v||0===C.length){"Enter"===e.key&&(e.preventDefault(),!f&&N.trim()&&$());return}if("ArrowDown"===e.key)e.preventDefault(),k(e=>e<C.length-1?e+1:0);else if("ArrowUp"===e.key)e.preventDefault(),k(e=>e>0?e-1:C.length-1);else if("Enter"===e.key)if(e.preventDefault(),j>=0){let e=C[j];T(e.symbol,e.market_type)}else!f&&N.trim()&&(m(N),w(!1));else"Escape"===e.key&&(w(!1),k(-1))},[v,C,j,f,N,$,T,m]),D=(0,r.useCallback)(e=>{let t=e.market_type||e.market_category,r=t&&u[t];x&&r?x(e.symbol,r):(r&&r!==g&&h(r),m(e.symbol)),_(e.symbol),w(!1),k(-1)},[g,h,m,x]),P=(0,r.useCallback)(()=>{b(!0),N.trim()&&C.length>0&&w(!0)},[N,C]),R=(0,r.useCallback)(()=>{b(!1),setTimeout(()=>w(!1),150)},[]),I=(0,r.useCallback)(e=>{_(e)},[]),L=(0,r.useCallback)(e=>(0,t.jsxs)("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-50 text-blue-700 border border-blue-200 rounded",children:[e.market_category,e.market_type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mx-1 text-gray-400",children:"-"}),(0,t.jsx)("span",{className:"text-xs text-blue-700",children:M.find(t=>t.value===e.market_type)?.label||e.market_type})]})]}),[M]);return(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 xl:flex-row xl:gap-4 xl:items-end",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[220px]",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(l.MagnifyingGlassIcon,{className:"w-4 h-4 inline mr-1"}),"é‡‘èä»£è™Ÿ"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:N,onChange:E,onKeyDown:A,onFocus:P,onBlur:R,placeholder:"è¼¸å…¥é‡‘èä»£è™Ÿ (ä¾‹: 2330, AAPL, 0050, CL=F)",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-900 focus:outline-none",disabled:f,"aria-autocomplete":"list","aria-controls":"stock-suggestions","aria-activedescendant":j>=0?`suggestion-${j}`:void 0}),(f||S)&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)(s.ArrowPathIcon,{className:"w-5 h-5 text-gray-500 animate-spin"})}),(0,t.jsx)(n.AnimatePresence,{children:v&&C.length>0&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-20 left-0 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",id:"stock-suggestions",role:"listbox",children:C.map((e,r)=>(0,t.jsxs)("button",{id:`suggestion-${r}`,onClick:()=>D(e),className:`w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${r===j?"bg-gray-50":""}`,role:"option","aria-selected":r===j,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 font-medium text-gray-900",children:[(0,t.jsx)("span",{children:e.symbol}),L(e)]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.name})]},e.symbol+(e.market_type||"")))})})]})]}),(0,t.jsx)("div",{className:"max-w-[320px] flex flex-col items-start",children:(0,t.jsxs)("div",{className:"flex flex-wrap w-full",children:[(0,t.jsx)("div",{className:"flex w-full gap-2 mb-2",children:M.slice(0,4).map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>h(e.value),className:`flex-1 flex items-center gap-1 px-3 py-1 rounded-md font-medium text-sm border transition-all duration-150
                    ${g===e.value?`${e.color} shadow`:"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}
                  `,disabled:f,"aria-pressed":g===e.value,children:e.label},e.value))}),(0,t.jsx)("div",{className:"flex w-full gap-2",children:M.slice(4).map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>h(e.value),className:`flex-1 flex items-center gap-1 px-3 py-1 rounded-md font-medium text-sm border transition-all duration-150
                    ${g===e.value?`${e.color} shadow`:"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}
                  `,disabled:f,"aria-pressed":g===e.value,children:e.label},e.value))})]})}),(0,t.jsxs)("div",{className:"min-w-[140px] flex flex-col items-start",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(i.ClockIcon,{className:"w-4 h-4 inline mr-1"}),"æ™‚é–“é€±æœŸ"]}),(0,t.jsx)("div",{className:"flex bg-gray-100 p-1 rounded-md w-full",children:[{value:"1d",label:"æ—¥ç·š"},{value:"1h",label:"å°æ™‚ç·š"}].map(e=>(0,t.jsx)("button",{onClick:()=>y(e.value),className:`flex-1 px-3 py-2 text-sm font-medium rounded transition-all duration-200 ${p===e.value?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,type:"button",children:e.label},e.value))})]}),(0,t.jsx)("div",{className:"w-[120px] flex flex-col items-end justify-end",children:(0,t.jsx)(a.motion.button,{whileHover:{scale:f?1:1.02},whileTap:{scale:f?1:.98},onClick:$,disabled:f||!N.trim(),className:"px-4 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium w-full",type:"button",children:f?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)(s.ArrowPathIcon,{className:"w-4 h-4 mr-2 animate-spin"}),"æŸ¥è©¢ä¸­"]}):"æŸ¥è©¢"})})]}),(0,t.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3 flex items-center",children:[(0,t.jsx)(o.SparklesIcon,{className:"w-4 h-4 mr-1"}),"ç†±é–€è‚¡ç¥¨"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map(e=>(0,t.jsxs)(a.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onMouseDown:()=>I(e.symbol),onClick:()=>T(e.symbol,e.market),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors flex items-center gap-1",type:"button",children:[(0,t.jsx)("span",{className:"font-medium",children:e.symbol}),(0,t.jsx)("span",{className:"text-gray-500",children:e.name}),(0,t.jsx)("span",{className:"px-1 py-0.5 text-xs bg-gray-200 text-gray-600 rounded",children:e.type})]},e.symbol))})]})]})})};var p=e.i(33429),y=e.i(85039);let f=({symbol:e,stats:r,timeframe:a})=>{var n;let l=e=>e?e.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"--",i=r.change>=0;return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-100 p-6 shadow-sm hover:shadow-lg transition-shadow duration-200",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,t.jsx)(p.ArrowTrendingUpIcon,{className:"h-7 w-7 text-gray-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900 tracking-tight leading-tight mb-1",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"font-medium",children:"1d"===a?"æ—¥ç·š":"å°æ™‚ç·š"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"|"}),(0,t.jsxs)("span",{children:["æœ€å¾Œæ›´æ–°ï¼š",(e=>{if(!e)return"--";try{let t=new Date(e);if(isNaN(t.getTime())){let r=e.replace("T"," ").replace("Z","");t=new Date(r)}if(isNaN(t.getTime()))return e;let r=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),l=String(t.getUTCDate()).padStart(2,"0");if("1d"===a)return`${r}/${n}/${l}`;{let e=String(t.getUTCHours()).padStart(2,"0"),a=String(t.getUTCMinutes()).padStart(2,"0");return`${r}/${n}/${l} ${e}:${a}`}}catch{return e}})(r.datetime)]})]})]})]}),(0,t.jsxs)("div",{className:"text-right min-w-[120px] flex flex-col items-end justify-center",children:[(0,t.jsx)("div",{className:`text-3xl font-extrabold mb-1 ${i?"text-red-600":"text-green-600"}`,children:l(r.latest)}),(0,t.jsxs)("div",{className:`flex items-center text-base font-semibold ${i?"text-red-600":"text-green-600"}`,children:[i?(0,t.jsx)(p.ArrowTrendingUpIcon,{className:"h-4 w-4 mr-1"}):(0,t.jsx)(y.ArrowTrendingDownIcon,{className:"h-4 w-4 mr-1"}),i?"+":"",r.change?r.change.toFixed(2):"0.00"," (",i?"+":"",r.changePercent?r.changePercent.toFixed(2):"0.00","% )"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"é–‹ç›¤ (O)"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:l(r.open_price||r.open)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"æœ€é«˜ (H)"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:l(r.high)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"æœ€ä½ (L)"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:l(r.low)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"æ”¶ç›¤ (C)"}),(0,t.jsx)("span",{className:`text-lg font-bold ${i?"text-red-600":"text-green-600"}`,children:l(r.latest)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"æˆäº¤é‡ (V)"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:(n=r.volume)?n>=1e9?`${(n/1e9).toFixed(1)}B`:n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toLocaleString():"N/A"})]})]})]})};e.i(50461);var g=e.i(99753),h=e.i(58460),x=e.i(71344),b=e.i(7432),v=e.i(9465);let w=({data:e,technicalData:l,title:i="Kç·šåœ–",height:o=500,showVolume:s=!0,theme:c="light",timeframe:d="1d"})=>{let u,m=(0,r.useRef)(null),p=(0,r.useRef)(null),y=(0,r.useRef)(null),f=(0,r.useRef)(null),w=(0,r.useRef)(new Map),[j,k]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[C,S]=(0,r.useState)("ç§»å‹•å¹³å‡"),[M,O]=(0,r.useState)(null),[$,T]=(0,r.useState)(null),[E,A]=(0,r.useState)([]),[D,P]=(0,r.useState)([]),[R,I]=(0,r.useState)(!1),L=(0,r.useMemo)(()=>[{key:"ma5",name:"MA5",color:"#3b82f6",enabled:!0,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"5æ—¥ç§»å‹•å¹³å‡ç·š",overlay:!0},{key:"ma10",name:"MA10",color:"#f59e0b",enabled:!0,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"10æ—¥ç§»å‹•å¹³å‡ç·š",overlay:!0},{key:"ma20",name:"MA20",color:"#ef4444",enabled:!1,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"20æ—¥ç§»å‹•å¹³å‡ç·š",overlay:!0},{key:"ma60",name:"MA60",color:"#8b5cf6",enabled:!1,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"60æ—¥ç§»å‹•å¹³å‡ç·š",overlay:!0},{key:"ema12",name:"EMA12",color:"#06b6d4",enabled:!1,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"12æ—¥æŒ‡æ•¸ç§»å‹•å¹³å‡",overlay:!0},{key:"ema26",name:"EMA26",color:"#84cc16",enabled:!1,lineWidth:2,category:"ç§»å‹•å¹³å‡",description:"26æ—¥æŒ‡æ•¸ç§»å‹•å¹³å‡",overlay:!0},{key:"bb_upper",name:"å¸ƒæ—ä¸Šè»Œ",color:"#f87171",enabled:!1,lineWidth:1,category:"å¸ƒæ—é€šé“",description:"å¸ƒæ—å¸¶ä¸Šè»Œ",overlay:!0},{key:"bb_middle",name:"å¸ƒæ—ä¸­è»Œ",color:"#fbbf24",enabled:!1,lineWidth:2,category:"å¸ƒæ—é€šé“",description:"å¸ƒæ—å¸¶ä¸­è»Œ",overlay:!0},{key:"bb_lower",name:"å¸ƒæ—ä¸‹è»Œ",color:"#34d399",enabled:!1,lineWidth:1,category:"å¸ƒæ—é€šé“",description:"å¸ƒæ—å¸¶ä¸‹è»Œ",overlay:!0},{key:"rsi_5",name:"RSI(5)",color:"#ef4444",enabled:!1,lineWidth:2,category:"éœ‡ç›ªæŒ‡æ¨™",description:"5æ—¥ç›¸å°å¼·å¼±æŒ‡æ¨™",overlay:!1},{key:"rsi_7",name:"RSI(7)",color:"#f59e0b",enabled:!1,lineWidth:2,category:"éœ‡ç›ªæŒ‡æ¨™",description:"7æ—¥ç›¸å°å¼·å¼±æŒ‡æ¨™",overlay:!1},{key:"rsi_14",name:"RSI(14)",color:"#8b5cf6",enabled:!1,lineWidth:2,category:"éœ‡ç›ªæŒ‡æ¨™",description:"14æ—¥ç›¸å°å¼·å¼±æŒ‡æ¨™",overlay:!1},{key:"rsi_21",name:"RSI(21)",color:"#06b6d4",enabled:!1,lineWidth:2,category:"éœ‡ç›ªæŒ‡æ¨™",description:"21æ—¥ç›¸å°å¼·å¼±æŒ‡æ¨™",overlay:!1},{key:"macd",name:"MACD",color:"#3b82f6",enabled:!1,lineWidth:2,category:"è¶¨å‹¢æŒ‡æ¨™",description:"MACDå¿«ç·š",overlay:!1},{key:"dif",name:"DIF",color:"#ef4444",enabled:!1,lineWidth:2,category:"è¶¨å‹¢æŒ‡æ¨™",description:"MACDæ…¢ç·š",overlay:!1},{key:"k_value",name:"Kå€¼",color:"#3b82f6",enabled:!1,lineWidth:2,category:"éš¨æ©ŸæŒ‡æ¨™",description:"éš¨æ©ŸæŒ‡æ¨™Kå€¼",overlay:!1},{key:"d_value",name:"Då€¼",color:"#ef4444",enabled:!1,lineWidth:2,category:"éš¨æ©ŸæŒ‡æ¨™",description:"éš¨æ©ŸæŒ‡æ¨™Då€¼",overlay:!1},{key:"j_value",name:"Jå€¼",color:"#f59e0b",enabled:!1,lineWidth:2,category:"éš¨æ©ŸæŒ‡æ¨™",description:"éš¨æ©ŸæŒ‡æ¨™Jå€¼",overlay:!1},{key:"atr",name:"ATR",color:"#84cc16",enabled:!1,lineWidth:2,category:"å…¶ä»–æŒ‡æ¨™",description:"å¹³å‡çœŸå¯¦æ³¢å¹…",overlay:!1},{key:"cci",name:"CCI",color:"#06b6d4",enabled:!1,lineWidth:2,category:"å…¶ä»–æŒ‡æ¨™",description:"é †å‹¢æŒ‡æ¨™",overlay:!1},{key:"willr",name:"WillR",color:"#8b5cf6",enabled:!1,lineWidth:2,category:"å…¶ä»–æŒ‡æ¨™",description:"å¨å»‰æŒ‡æ¨™",overlay:!1},{key:"mom",name:"MOM",color:"#f87171",enabled:!1,lineWidth:2,category:"å…¶ä»–æŒ‡æ¨™",description:"å‹•é‡æŒ‡æ¨™",overlay:!1}],[]),[W,U]=(0,r.useState)(L),K=(0,r.useMemo)(()=>{let e={};return W.forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),e},[W]),V=(0,r.useMemo)(()=>{if(!e?.length)return P(["æ²’æœ‰å¯ç”¨çš„æ•¸æ“š"]),A([]),null;try{let t=((e,t)=>{let r=[],a=[];if(!e||0===e.length)return a.push("æ²’æœ‰å¯ç”¨çš„æ•¸æ“š"),{candleData:[],volumeData:[],warnings:r,errors:a};console.log(`ğŸ” é–‹å§‹æ¸…ç†æ•¸æ“š: ${e.length} ç­†åŸå§‹æ•¸æ“š (${t})`);let n=0,l=0,i=0;try{let o=e.map((e,a)=>{try{let o,s;if(!e||!e.date)return r.push(`ç´¢å¼• ${a}: ç¼ºå°‘æ—¥æœŸè³‡è¨Š`),null;let c=Number(e.open),d=Number(e.high),u=Number(e.low),m=Number(e.close);if([c,d,u,m].some(e=>isNaN(e)||e<=0))return r.push(`ç´¢å¼• ${a}: ç„¡æ•ˆçš„åƒ¹æ ¼æ•¸æ“š OHLC=[${c},${d},${u},${m}]`),null;let p=Math.max(c,d,u,m),y=Math.min(c,d,u,m);if((d!==p||u!==y)&&(n++,d!==p&&l++,u!==y&&i++),"1d"===t){let t=e.date.split("T")[0];if(!/^\d{4}-\d{2}-\d{2}$/.test(t))return r.push(`ç´¢å¼• ${a}: ç„¡æ•ˆçš„æ—¥æœŸæ ¼å¼ ${t}`),null;o=t,s=new Date(t).getTime()}else{let t=Math.floor(new Date(e.date).getTime()/1e3);if(isNaN(t)||t<=0)return r.push(`ç´¢å¼• ${a}: ç„¡æ•ˆçš„æ™‚é–“æˆ³ ${e.date}`),null;o=t,s=1e3*t}let f=e.volume?Number(e.volume):void 0;void 0!==f&&(isNaN(f)||f<0)&&r.push(`ç´¢å¼• ${a}: ç„¡æ•ˆçš„æˆäº¤é‡ ${e.volume}`);let g=(c+p+y+m)/4,h=(p-y)/g*100;return h>50&&r.push(`ç´¢å¼• ${a}: æ¥µç«¯åƒ¹æ ¼æ³¢å‹• ${h.toFixed(2)}%`),{originalIndex:a,timeValue:o,sortKey:s,open:c,high:p,low:y,close:m,volume:f&&f>0?f:void 0,originalDate:e.date,wasHighCorrected:d!==p,wasLowCorrected:u!==y,originalHigh:d,originalLow:u}}catch(e){return r.push(`ç´¢å¼• ${a}: è™•ç†å¤±æ•— - ${e}`),null}}).filter(e=>null!==e);if(0===o.length)return a.push("æ‰€æœ‰æ•¸æ“šéƒ½ç„¡æ•ˆ"),{candleData:[],volumeData:[],warnings:r,errors:a};console.log(`âœ… åŸºæœ¬è™•ç†å®Œæˆ: ${o.length}/${e.length} ç­†æœ‰æ•ˆæ•¸æ“š`),n>0&&console.log(`ğŸ”§ OHLCè‡ªå‹•ä¿®æ­£çµ±è¨ˆ: ç¸½å…± ${n} ç­† (é«˜åƒ¹ä¿®æ­£: ${l}, ä½åƒ¹ä¿®æ­£: ${i})`),o.sort((e,t)=>e.sortKey-t.sortKey);let s=[],c=new Set,d=0;for(let e of o)if(e&&!c.has(e.timeValue))c.add(e.timeValue),s.push(e);else if(e){d++;let a="1d"===t?e.timeValue:new Date(1e3*e.timeValue).toISOString();r.push(`ç§»é™¤é‡è¤‡æ™‚é–“æˆ³: ${a}`)}d>0&&console.log(`âš ï¸  ç§»é™¤ ${d} å€‹é‡è¤‡æ™‚é–“æˆ³`);for(let e=1;e<s.length;e++){let t=s[e].sortKey,r=s[e-1].sortKey;t<=r&&a.push(`æ™‚é–“é †åºéŒ¯èª¤ at index ${e}: ${t} <= ${r}`)}if(a.length>0)return{candleData:[],volumeData:[],warnings:r,errors:a};let u=s.map(e=>({time:e.timeValue,open:e.open,high:e.high,low:e.low,close:e.close})),m=s.filter(e=>void 0!==e.volume).map(e=>({time:e.timeValue,value:e.volume,color:e.close>=e.open?"#ef444460":"#10b98160"}));return console.log(`ğŸ¯ æ•¸æ“šæ¸…ç†å®Œæˆ:`),console.log(`   - Kç·šæ•¸æ“š: ${u.length} ç­†`),console.log(`   - æˆäº¤é‡æ•¸æ“š: ${m.length} ç­†`),console.log(`   - ç”¨æˆ¶è­¦å‘Š: ${r.length} å€‹ (OHLCä¿®æ­£å·²éœé»˜è™•ç†)`),{candleData:u,volumeData:m,warnings:r,errors:a}}catch(e){return console.error("âŒ æ•¸æ“šæ¸…ç†å¤±æ•—:",e),a.push(`æ•¸æ“šè™•ç†ç•°å¸¸: ${e instanceof Error?e.message:String(e)}`),{candleData:[],volumeData:[],warnings:r,errors:a}}})(e,d);if(P(t.errors),A(t.warnings),t.errors.length>0)return console.error("âŒ æ•¸æ“šé©—è­‰å¤±æ•—:",t.errors),null;return t.warnings.length>0&&console.warn("âš ï¸  æ•¸æ“šè­¦å‘Š:",t.warnings),{candleData:t.candleData,volumeData:t.volumeData}}catch(e){return console.error("âŒ chartData è™•ç†å¤±æ•—:",e),P([`æ•¸æ“šè™•ç†ç•°å¸¸: ${e instanceof Error?e.message:String(e)}`]),A([]),null}},[e,d]),F=(0,r.useMemo)(()=>{if(!l||!e?.length||!V)return{overlay:{},separate:{}};let t={},r={};try{W.filter(e=>e.enabled).forEach(a=>{try{let n=l[a.key];if(!n?.length)return void console.warn(`âš ï¸  æŒ‡æ¨™ ${a.key} æ²’æœ‰æ•¸æ“š`);let i=[],o=e.length,s=n.length;for(let t=0;t<o;t++){let r=t-(o-s),a=r>=0?n[r]:null,l=e[t];if(null!=a&&!isNaN(Number(a))&&l?.date){let e="1d"===d?l.date.split("T")[0]:Math.floor(new Date(l.date).getTime()/1e3);i.push({time:e,value:Number(a)})}}i.sort((e,t)=>"1d"===d?e.time.localeCompare(t.time):e.time-t.time);let c=[],u=new Set;for(let e of i)u.has(e.time)||(u.add(e.time),c.push(e));c.length>0?(a.overlay?t[a.key]=c:r[a.key]=c,console.log(`âœ… æŒ‡æ¨™ ${a.key} è™•ç†å®Œæˆ: ${c.length} å€‹æ•¸æ“šé»`)):console.warn(`âš ï¸  æŒ‡æ¨™ ${a.key} æ²’æœ‰æœ‰æ•ˆæ•¸æ“šé»`)}catch(e){console.error(`âŒ è™•ç†æŒ‡æ¨™ ${a.key} å¤±æ•—:`,e)}})}catch(e){console.error("âŒ æŠ€è¡“æŒ‡æ¨™æ•¸æ“šè™•ç†å¤±æ•—:",e)}return{overlay:t,separate:r}},[l,e,W,d,V]);(0,r.useEffect)(()=>{if(!m.current||!V)return;let t="dark"===c;try{if(p.current)try{p.current.remove()}catch(e){console.warn("æ¸…ç†èˆŠåœ–è¡¨æ™‚å‡ºç¾è­¦å‘Š:",e)}w.current.clear();let r=(0,g.createChart)(m.current,{layout:{background:{type:g.ColorType.Solid,color:t?"#1f2937":"#ffffff"},textColor:t?"#e5e7eb":"#374151"},width:m.current.clientWidth,height:j?window.innerHeight-200:o,grid:{vertLines:{color:t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},horzLines:{color:t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},crosshair:{mode:1},rightPriceScale:{borderColor:t?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",scaleMargins:{top:.1,bottom:s?.3:.1}},timeScale:{borderColor:t?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",timeVisible:"1h"===d,secondsVisible:!1},localization:{locale:"zh-TW"}});p.current=r;let a=r.addSeries(g.CandlestickSeries,{upColor:"#ef4444",downColor:"#10b981",borderUpColor:"#dc2626",borderDownColor:"#059669",wickUpColor:"#dc2626",wickDownColor:"#059669",priceLineVisible:!0,lastValueVisible:!0});y.current=a;try{a.setData(V.candleData),console.log(`âœ… Kç·šæ•¸æ“šè¨­ç½®æˆåŠŸ: ${V.candleData.length} ç­†`)}catch(e){throw console.error("âŒ Kç·šæ•¸æ“šè¨­ç½®å¤±æ•—:",e),Error(`Kç·šæ•¸æ“šè¨­ç½®å¤±æ•—: ${e}`)}if(s&&V.volumeData.length>0)try{let e=r.addSeries(g.HistogramSeries,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"volume"});r.priceScale("volume").applyOptions({scaleMargins:{top:.8,bottom:0},borderVisible:!1}),f.current=e,e.setData(V.volumeData),console.log(`âœ… æˆäº¤é‡æ•¸æ“šè¨­ç½®æˆåŠŸ: ${V.volumeData.length} ç­†`)}catch(e){console.error("âŒ æˆäº¤é‡è¨­ç½®å¤±æ•—:",e)}let n=Object.keys(F.overlay);if(n.length>0){let e=new Map;n.forEach(t=>{try{let a=F.overlay[t],n=W.find(e=>e.key===t);if(n&&a&&a.length>0){let l=r.addSeries(g.LineSeries,{color:n.color,lineWidth:n.lineWidth??2,title:n.name,priceLineVisible:!1,lastValueVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4});l.setData(a),e.set(t,l),console.log(`âœ… ç–ŠåŠ æŒ‡æ¨™ ${n.name} è¨­ç½®æˆåŠŸ`)}}catch(e){console.error(`âŒ ç–ŠåŠ æŒ‡æ¨™ ${t} è¨­ç½®å¤±æ•—:`,e)}}),w.current=e}let l=Object.keys(F.separate);l.length>0&&l.forEach(e=>{try{let t=F.separate[e],a=W.find(t=>t.key===e);if(a&&t&&t.length>0){let n=`indicator_${e}`,l=r.addSeries(g.LineSeries,{color:a.color,lineWidth:a.lineWidth??2,title:a.name,priceLineVisible:!1,lastValueVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,priceScaleId:n});r.priceScale(n).applyOptions({scaleMargins:{top:.7,bottom:.1},borderVisible:!1}),l.setData(t),w.current||(w.current=new Map),w.current.set(e,l),console.log(`âœ… ç¨ç«‹æŒ‡æ¨™ ${a.name} è¨­ç½®æˆåŠŸ`)}}catch(t){console.error(`âŒ ç¨ç«‹æŒ‡æ¨™ ${e} è¨­ç½®å¤±æ•—:`,t)}}),r.subscribeCrosshairMove(t=>{try{if(t&&t.time&&t.point)if(V.candleData.find(e=>e.time===t.time)){let r=e[V.candleData.findIndex(e=>e.time===t.time)];O(r||null),T({x:t.point.x,y:t.point.y})}else O(null),T(null);else O(null),T(null)}catch(e){console.error("æ»‘é¼ äº‹ä»¶è™•ç†éŒ¯èª¤:",e)}}),console.log("ğŸ¯ åœ–è¡¨åˆå§‹åŒ–æˆåŠŸ")}catch(e){console.error("âŒ åœ–è¡¨åˆå§‹åŒ–å¤±æ•—:",e),P([`åœ–è¡¨åˆå§‹åŒ–å¤±æ•—: ${e instanceof Error?e.message:String(e)}`])}return()=>{try{p.current&&(p.current.remove(),p.current=null),y.current=null,f.current=null,w.current.clear()}catch(e){console.warn("åœ–è¡¨æ¸…ç†æ™‚å‡ºç¾è­¦å‘Š:",e)}}},[V,F,s,c,o,j,d,W,e]),(0,r.useEffect)(()=>{let e=()=>{if(p.current&&m.current)try{p.current.applyOptions({width:m.current.clientWidth,height:j?window.innerHeight-180:o})}catch(e){console.error("åœ–è¡¨å¤§å°èª¿æ•´å¤±æ•—:",e)}};if(j)return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[j,o]);let B=(0,r.useCallback)(e=>{U(t=>t.map(t=>t.key===e?{...t,enabled:!t.enabled}:t))},[]),H=(0,r.useCallback)(e=>{let t={åŸºç¤åˆ†æ:["ma5","ma10","ma20"],çŸ­ç·šäº¤æ˜“:["ma5","ma10","rsi_14","k_value","d_value"],è¶¨å‹¢åˆ†æ:["ma20","ma60","macd","dif","bb_upper","bb_middle","bb_lower"],å…¨é¢åˆ†æ:["ma5","ma10","ma20","rsi_14","macd","k_value","d_value"]}[e]||[];U(e=>e.map(e=>({...e,enabled:t.includes(e.key)})))},[]),z=(0,r.useCallback)(()=>{U(e=>e.map(e=>({...e,enabled:!1})))},[]);return D.length>0?(0,t.jsx)("div",{className:`relative bg-white rounded-lg shadow-sm border border-red-200 overflow-hidden ${j?"fixed inset-0 z-9999 m-0 rounded-none shadow-lg":""}`,children:(0,t.jsx)("div",{className:"flex items-center justify-center p-8",style:{height:`${o}px`},children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[(0,t.jsx)(v.ExclamationTriangleIcon,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"åœ–è¡¨æ•¸æ“šéŒ¯èª¤"}),(0,t.jsx)("div",{className:"text-sm text-red-600 mb-4",children:D.map((e,r)=>(0,t.jsxs)("div",{className:"mb-1",children:["â€¢ ",e]},r))}),(0,t.jsx)("button",{onClick:()=>{P([]),A([]),U(e=>[...e])},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"é‡è©¦"})]})})}):V?(0,t.jsxs)("div",{className:`relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden ${j?"fixed inset-0 z-9999 m-0 rounded-none shadow-lg":""}`,children:[E.length>0&&(0,t.jsx)("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-2",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(v.ExclamationTriangleIcon,{className:"w-4 h-4 text-yellow-500 mt-0.5 mr-2 shrink-0"}),(0,t.jsxs)("div",{className:"text-xs text-yellow-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"æ•¸æ“šå“è³ªæé†’:"}),"ç™¼ç¾ ",E.length," å€‹éœ€è¦æ³¨æ„çš„æ•¸æ“šå•é¡Œã€‚",(0,t.jsxs)("button",{onClick:()=>I(!R),className:"ml-2 underline hover:no-underline",children:[R?"éš±è—":"æŸ¥çœ‹","è©³æƒ…"]}),R&&(0,t.jsxs)("div",{className:"mt-2 max-h-24 overflow-y-auto text-xs bg-yellow-100 p-2 rounded",children:[E.slice(0,8).map((e,r)=>(0,t.jsxs)("div",{className:"mb-1 leading-relaxed",children:["â€¢ ",e]},r)),E.length>8&&(0,t.jsxs)("div",{className:"font-medium text-yellow-800",children:["... åŠå…¶ä»– ",E.length-8," å€‹å•é¡Œ"]}),(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-yellow-200 text-yellow-600",children:[(0,t.jsx)("strong",{children:"èªªæ˜:"})," ","OHLCåƒ¹æ ¼é‚è¼¯éŒ¯èª¤å·²è‡ªå‹•ä¿®æ­£ï¼Œä¸æœƒå½±éŸ¿åœ–è¡¨é¡¯ç¤º"]})]})]})]})}),(0,t.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,t.jsx)(b.ChartBarIcon,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsx)("h3",{className:"text-2xl font-semibold text-gray-900",children:i}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["1d"===d?"æ—¥ç·š":"å°æ™‚ç·š"," â€¢ ",e.length," ç­†æ•¸æ“š â€¢"," ",(e=>{if(!e||0===e.length)return"--";let t=e=>{if(!e)return"--";let t=new Date(e.date);if(isNaN(t.getTime()))return"--";let r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");if("1d"===d)return`${r}-${a}-${n}`;{let e=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${r}-${a}-${n} ${e}:${l}`}};return`${t(e[0])} ~ ${t(e[e.length-1])}`})(e)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>_(!N),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${N?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"æŠ€è¡“æŒ‡æ¨™è¨­å®š"}),(0,t.jsx)("button",{onClick:()=>k(!j),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",title:j?"é€€å‡ºå…¨å±":"é€²å…¥å…¨å±",children:j?(0,t.jsx)(x.ArrowsPointingInIcon,{className:"h-4 w-4"}):(0,t.jsx)(h.ArrowsPointingOutIcon,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)(n.AnimatePresence,{children:N&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"border-b border-gray-200 bg-white",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"å¿«é€Ÿè¨­å®š:"}),["åŸºç¤åˆ†æ","çŸ­ç·šäº¤æ˜“","è¶¨å‹¢åˆ†æ","å…¨é¢åˆ†æ"].map(e=>(0,t.jsx)("button",{onClick:()=>H(e),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md transition-colors",children:e},e)),(0,t.jsx)("button",{onClick:z,className:"px-3 py-1 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded-md transition-colors",children:"å…¨éƒ¨é—œé–‰"})]})}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("div",{className:"flex gap-2",children:Object.keys(K).map(e=>(0,t.jsx)("button",{onClick:()=>S(e),className:`px-3 py-1 text-sm rounded-md transition-colors ${C===e?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:K[C]?.map(e=>(0,t.jsxs)("label",{className:`flex flex-col items-start p-3 rounded-md border cursor-pointer transition-colors ${e.enabled?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>B(e.key),className:"sr-only"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),e.description&&(0,t.jsx)("span",{className:"mt-1 text-xs text-gray-500",children:e.description})]},e.key))})]})})}),(0,t.jsxs)("div",{className:"p-4 relative",children:[M&&$&&(0,t.jsxs)("div",{className:"absolute z-10 bg-white/95 border border-gray-200 rounded shadow-lg px-4 py-2 text-xs text-gray-800 pointer-events-none min-w-[140px] backdrop-blur-sm",style:{left:`calc(${$.x}px + 24px)`,top:`calc(${$.y}px + 12px)`,maxWidth:"220px"},children:[(0,t.jsxs)("div",{children:["æ—¥æœŸ: ",((e,t)=>{let r=new Date(e);if(isNaN(r.getTime()))return e;let a=e=>e.toString().padStart(2,"0"),n=r.getFullYear(),l=a(r.getMonth()+1),i=a(r.getDate());if("1d"===t)return`${n}-${l}-${i}`;{let e=a(r.getHours()),t=a(r.getMinutes());return`${n}-${l}-${i} ${e}:${t}`}})(M.date,d)]}),(0,t.jsxs)("div",{children:["é–‹ç›¤: ",M.open]}),(0,t.jsxs)("div",{children:["æœ€é«˜: ",M.high]}),(0,t.jsxs)("div",{children:["æœ€ä½: ",M.low]}),(0,t.jsxs)("div",{children:["æ”¶ç›¤: ",M.close]}),void 0!==M.volume&&(0,t.jsxs)("div",{children:["æˆäº¤é‡: ",M.volume.toLocaleString()]}),l&&W.filter(e=>e.enabled).length>0&&(0,t.jsxs)("div",{className:"mt-2 border-t pt-1 border-gray-200",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-700 mb-1",children:"æŠ€è¡“æŒ‡æ¨™"}),(u=e.findIndex(e=>e.date===M.date),W.filter(e=>e.enabled).slice(0,5).map(r=>{let a=l[r.key],n=u-(e.length-(a?.length??0)),i=n>=0&&a?a[n]:void 0;return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:r.color}}),(0,t.jsxs)("span",{children:[r.name,":"]}),(0,t.jsx)("span",{children:void 0!==i?Number(i).toFixed(2):"--"})]},r.key)}))]})]}),(0,t.jsx)("div",{ref:m,style:{height:j?"calc(100vh - 150px)":`${o}px`,width:"100%"},className:"bg-white rounded border border-gray-100"})]}),(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-2 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["æ•¸æ“šé»: ",V?.candleData.length||0," | æˆäº¤é‡:"," ",V?.volumeData.length||0," | é€±æœŸ:"," ","1d"===d?"æ—¥ç·š":"å°æ™‚ç·š",E.length>0&&` | è­¦å‘Š: ${E.length} å€‹`]}),(0,t.jsx)("div",{className:"text-center text-[12px] select-none",children:"Charting By TradingView Lightweight Charts"}),W.filter(e=>e.enabled).length>0&&(0,t.jsxs)("span",{children:["å•Ÿç”¨æŒ‡æ¨™:"," ",W.filter(e=>e.enabled).length]})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center bg-white rounded-lg border border-gray-200 shadow-sm",style:{height:`${o}px`},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(b.ChartBarIcon,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"æš«ç„¡åœ–è¡¨æ•¸æ“š"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"è«‹æä¾›æœ‰æ•ˆçš„åƒ¹æ ¼æ•¸æ“š"})]})})},j=({data:e,technicalData:r,symbol:a,timeframe:n})=>(0,t.jsx)(w,{data:e,technicalData:r,title:`${a}`,height:600,showVolume:!0,timeframe:n,theme:"light"}),k=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))});var N=e.i(50146),_=e.i(13053);let C=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),S=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),M=[{key:"datetime",name:"æ™‚é–“",type:"datetime",width:"w-40"},{key:"open_price",name:"é–‹ç›¤",type:"price",width:"w-24"},{key:"high_price",name:"æœ€é«˜",type:"price_high",width:"w-24"},{key:"low_price",name:"æœ€ä½",type:"price_low",width:"w-24"},{key:"close_price",name:"æ”¶ç›¤",type:"price_close",width:"w-24"},{key:"volume",name:"æˆäº¤é‡",type:"volume",width:"w-32"},{key:"rsi_5",name:"RSI(5)",type:"indicator",width:"w-20"},{key:"rsi_7",name:"RSI(7)",type:"indicator",width:"w-20"},{key:"rsi_10",name:"RSI(10)",type:"indicator",width:"w-20"},{key:"rsi_14",name:"RSI(14)",type:"indicator",width:"w-20"},{key:"rsi_21",name:"RSI(21)",type:"indicator",width:"w-20"},{key:"dif",name:"DIF",type:"indicator",width:"w-20"},{key:"macd",name:"MACD",type:"indicator",width:"w-20"},{key:"macd_histogram",name:"MACD Histogram",type:"indicator",width:"w-20"},{key:"rsv",name:"RSV",type:"indicator",width:"w-20"},{key:"k_value",name:"Kå€¼",type:"indicator",width:"w-20"},{key:"d_value",name:"Då€¼",type:"indicator",width:"w-20"},{key:"j_value",name:"Jå€¼",type:"indicator",width:"w-20"},{key:"ma5",name:"MA5",type:"indicator",width:"w-20"},{key:"ma10",name:"MA10",type:"indicator",width:"w-20"},{key:"ma20",name:"MA20",type:"indicator",width:"w-20"},{key:"ma60",name:"MA60",type:"indicator",width:"w-20"},{key:"ema12",name:"EMA12",type:"indicator",width:"w-20"},{key:"ema26",name:"EMA26",type:"indicator",width:"w-20"},{key:"bb_upper",name:"å¸ƒæ—ä¸Šè»Œ",type:"indicator",width:"w-20"},{key:"bb_middle",name:"å¸ƒæ—ä¸­è»Œ",type:"indicator",width:"w-20"},{key:"bb_lower",name:"å¸ƒæ—ä¸‹è»Œ",type:"indicator",width:"w-20"},{key:"atr",name:"ATRå¹³å‡çœŸå¯¦æ³¢å¹…",type:"indicator",width:"w-20"},{key:"cci",name:"CCIå•†å“é€šé“æŒ‡æ¨™",type:"indicator",width:"w-20"},{key:"willr",name:"å¨å»‰æŒ‡æ¨™",type:"indicator",width:"w-20"},{key:"mom",name:"å‹•é‡æŒ‡æ¨™",type:"indicator",width:"w-20"},{key:"pattern_signals",name:"Kç·šå½¢æ…‹",type:"pattern_signals",width:"w-20"}],O=({data:e,timeframe:l,symbol:i})=>{let[o,s]=(0,r.useState)("datetime"),[c,d]=(0,r.useState)("desc"),[u,m]=(0,r.useState)(1),[p,y]=(0,r.useState)(20),[f,g]=(0,r.useState)(!1),[h,x]=(0,r.useState)(["datetime","open_price","high_price","low_price","close_price","volume","rsi_14","ma5","macd","k_value","d_value"]),b=(e,t)=>{if(null==e||""===e)return"â€”";switch(t.type){case"datetime":return v(e);case"volume":return w(e);case"price":case"price_high":case"price_low":case"price_close":return Number(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");case"indicator":return Number(e).toFixed(3).replace(/\B(?=(\d{3})+(?!\d))/g,",");default:return String(e)}},v=e=>{try{let t=new Date(e);if(isNaN(t.getTime()))return e;let r=t.getUTCFullYear(),a=String(t.getUTCMonth()+1).padStart(2,"0"),n=String(t.getUTCDate()).padStart(2,"0"),i=String(t.getUTCHours()).padStart(2,"0"),o=String(t.getUTCMinutes()).padStart(2,"0"),s=String(t.getUTCSeconds()).padStart(2,"0");if("1h"===l)return`${r}-${a}-${n} ${i}:${o}:${s}`;return`${r}-${a}-${n}`}catch{return e}},w=e=>{let t=Number(e);return isNaN(t)?"â€”":t>=1e9?`${(t/1e9).toFixed(1)}B`:t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()},j=(0,r.useMemo)(()=>[...e].sort((e,t)=>{let r=e[o],a=t[o];if(null==r)return 1;if(null==a)return -1;let n=r>a?1:-1;return"asc"===c?n:-n}),[e,o,c]),O=(0,r.useMemo)(()=>{let e=(u-1)*p;return j.slice(e,e+p)},[j,u,p]),$=Math.ceil(j.length/p),T=e=>{if(null==e)return"";let t=String(e);return/[",\n]/.test(t)?'"'+t.replace(/"/g,'""')+'"':t};return e&&0!==e.length?(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,t.jsx)(k,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsx)("h3",{className:"pt-2 text-2xl font-semibold text-gray-900",children:i}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["1d"===l?"æ—¥ç·š":"å°æ™‚ç·š"," â€¢ ",e.length," ç­†æ•¸æ“š â€¢"," ",v(e[e.length-1].datetime)," ~"," ",v(e[0].datetime)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>g(!f),className:`p-2 rounded-lg transition-all duration-200 flex items-center ${f?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"é¡¯ç¤º/éš±è—ç¯©é¸å™¨",children:[(0,t.jsx)(C,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"text-sm font-normal",children:"ç¯©é¸"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=M.filter(e=>h.includes(e.key)).map(e=>T(e.name)).join(","),t=j.map(e=>M.filter(e=>h.includes(e.key)).map(t=>T(b(e[t.key],t))).join(",")).join("\n"),r=new Blob([`\uFEFF${e}
${t}`],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=`stock_data_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-all duration-200 flex items-center",title:"åŒ¯å‡º CSV",children:[(0,t.jsx)(S,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-normal",children:"ä¸‹è¼‰ CSV"})]})]})]}),(0,t.jsx)(n.AnimatePresence,{children:f&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"æ¯é é¡¯ç¤º:"}),(0,t.jsxs)("select",{value:p,onChange:e=>{y(Number(e.target.value)),m(1)},className:"px-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:10,children:"10"}),(0,t.jsx)("option",{value:20,children:"20"}),(0,t.jsx)("option",{value:50,children:"50"}),(0,t.jsx)("option",{value:100,children:"100"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"é¡¯ç¤ºæ¬„ä½:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:M.map(e=>(0,t.jsx)("button",{onClick:()=>{var t;return t=e.key,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:`px-2 py-1 text-xs rounded transition-colors ${h.includes(e.key)?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:e.name},e.key))})]})]})})})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsx)("tr",{children:M.filter(e=>h.includes(e.key)).map(e=>(0,t.jsx)("th",{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors ${e.width||""}`,onClick:()=>{var t;o===(t=e.key)?d("asc"===c?"desc":"asc"):(s(t),d("desc")),m(1)},children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{children:e.name}),o===e.key&&(0,t.jsx)(a.motion.div,{initial:{scale:0},animate:{scale:1},className:"text-blue-500",children:"asc"===c?(0,t.jsx)(N.ArrowUpIcon,{className:"h-3 w-3"}):(0,t.jsx)(_.ArrowDownIcon,{className:"h-3 w-3"})})]})},e.key))})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:O.map((e,r)=>(0,t.jsx)(a.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.02*r},className:"hover:bg-blue-50 transition-colors",children:M.filter(e=>h.includes(e.key)).map(r=>(0,t.jsx)("td",{className:`px-4 py-3 whitespace-nowrap text-sm ${"datetime"===r.type?"text-gray-700 font-medium":"indicator"===r.type?"text-blue-600 font-mono":"text-gray-700"}`,children:b(e[r.key],r)},r.key))},r))})]})}),$>1&&(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["é¡¯ç¤º ",(u-1)*p+1," -"," ",Math.min(u*p,j.length)," ç­†ï¼Œ å…±"," ",j.length," ç­†è¨˜éŒ„"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>m(1),disabled:1===u,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"é¦–é "}),(0,t.jsx)("button",{onClick:()=>m(Math.max(1,u-1)),disabled:1===u,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"ä¸Šä¸€é "}),(0,t.jsxs)("span",{className:"px-3 py-1 text-sm",children:["ç¬¬ ",u," / ",$," é "]}),(0,t.jsx)("button",{onClick:()=>m(Math.min($,u+1)),disabled:u===$,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"ä¸‹ä¸€é "}),(0,t.jsx)("button",{onClick:()=>m($),disabled:u===$,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"æœ«é "})]})]})})]}):(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(k,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"ç„¡å¯é¡¯ç¤ºçš„æ•¸æ“š"}),(0,t.jsx)("p",{className:"text-gray-400",children:"è«‹å…ˆæŸ¥è©¢è‚¡ç¥¨æ•¸æ“š"})]})})},$=()=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-3 border-gray-300 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"æ­£åœ¨è¼‰å…¥æ•¸æ“š"}),(0,t.jsx)("p",{className:"text-gray-500",children:"è«‹ç¨å€™ï¼Œæ­£åœ¨è™•ç†è‚¡ç¥¨è³‡è¨Š..."})]})}),T=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}),E=[{symbol:"2330",name:"å°ç©é›»"},{symbol:"2454",name:"è¯ç™¼ç§‘"},{symbol:"2317",name:"é´»æµ·"},{symbol:"AAPL",name:"Apple"},{symbol:"TSLA",name:"Tesla"},{symbol:"NVDA",name:"NVIDIA"}],A=({onQuickSelect:e})=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsxs)("div",{className:"px-8 py-16 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(T,{className:"h-8 w-8 text-gray-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"é–‹å§‹è‚¡ç¥¨åˆ†æ"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"è¼¸å…¥è‚¡ç¥¨ä»£è™Ÿï¼Œç²å¾—å°ˆæ¥­çš„æŠ€è¡“åˆ†æå’ŒæŠ•è³‡å»ºè­°"}),(0,t.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,t.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"ç†±é–€è‚¡ç¥¨ï¼š"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:E.map(r=>(0,t.jsxs)("button",{onClick:()=>e(r.symbol),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm transition-colors",children:[r.symbol," ",r.name]},r.symbol))})]})]})}),D=({error:e,onRetry:r,onClear:a})=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(v.ExclamationTriangleIcon,{className:"h-8 w-8 text-red-500"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"æŸ¥è©¢é‡åˆ°å•é¡Œ"}),(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 max-w-md mx-auto",children:(0,t.jsx)("p",{className:"text-red-700 text-sm",children:e})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,t.jsx)("button",{onClick:r,className:"px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors",children:"é‡æ–°æŸ¥è©¢"}),(0,t.jsx)("button",{onClick:a,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",children:"æ¸…é™¤éŒ¯èª¤"})]})]})})}),P={"1d":{name:"æ—¥ç·š",table:"stock_data_1d"},"1h":{name:"æ™‚ç·š",table:"stock_data_1h"}};var R=e.i(3828),I=e.i(55777);let L=e=>Array.isArray(e)&&e.length>0?e[e.length-1]:void 0,W=({technicalData:e,symbol:a,timeframe:n,close_price:l,volume:i,loading:o=!1,candlestickData:s})=>{let c=(0,R.useRouter)(),d=(0,r.useMemo)(()=>({RSI:()=>L(e?.rsi_14),MACD:()=>L(e?.macd),DIF:()=>L(e?.dif),DEA:()=>{let t=L(e?.dif),r=L(e?.macd_histogram);return void 0!==t&&void 0!==r?t-r:void 0},MACDHist:()=>L(e?.macd_histogram),K:()=>L(e?.k_value),D:()=>L(e?.d_value),J:()=>L(e?.j_value),MA5:()=>L(e?.ma5),MA10:()=>L(e?.ma10),MA20:()=>L(e?.ma20),MA60:()=>L(e?.ma60),BollUpper:()=>L(e?.bb_upper),BollMiddle:()=>L(e?.bb_middle),BollLower:()=>L(e?.bb_lower),Close:()=>"number"==typeof l?l:void 0,Volume:()=>"number"==typeof i?i:void 0,AvgVol:()=>{if(Array.isArray(s)&&s.length>0){let e=s.map(e=>e.volume).filter(e=>"number"==typeof e);if(e.length>=20)return e.slice(-20).reduce((e,t)=>e+t,0)/20}},VolRatio:()=>{if(Array.isArray(s)&&s.length>0){let e=s.map(e=>e.volume).filter(e=>"number"==typeof e),t=e.length>0?e[e.length-1]:void 0,r=e.length>=20?e.slice(-20).reduce((e,t)=>e+t,0)/20:void 0;if("number"==typeof t&&"number"==typeof r&&0!==r)return t/r}},WILLR:()=>L(e?.willr),ATR:()=>L(e?.atr),CCI:()=>L(e?.cci),MOM:()=>L(e?.mom),Support:()=>{let t;if(Array.isArray(s)&&s.length>0){let e=s.map(e=>e.low).filter(e=>"number"==typeof e);if(e.length>0)return Math.min(...e.slice(-20))}for(let r of["low","lows","low_price","Low","lowPrices"])if(Array.isArray(e?.[r])){t=e[r];break}if(t&&0!==t.length)return Math.min(...t.slice(-20))},Resistance:()=>{let t;if(Array.isArray(s)&&s.length>0){let e=s.map(e=>e.high).filter(e=>"number"==typeof e);if(e.length>0)return Math.max(...e.slice(-20))}for(let r of["high","highs","high_price","High","highPrices"])if(Array.isArray(e?.[r])){t=e[r];break}if(t&&0!==t.length)return Math.max(...t.slice(-20))}}),[e,l,s,i]),u=(0,r.useMemo)(()=>{let t,r,a,n,l,i,o,s,c,u,m,p,y,f,g,h,x,b,v=d.RSI(),w=d.MACD(),j=d.DIF(),k=d.DEA(),N=d.MACDHist(),_=d.K(),C=d.D(),S=d.J(),M=d.MA5(),O=d.MA10(),$=d.MA20(),T=d.MA60(),E=d.BollUpper(),A=d.BollMiddle(),D=d.BollLower(),P=d.Close(),R=d.WILLR(),I=d.ATR(),W=d.CCI(),V=d.MOM();return[{key:"RSI",title:"RSI (14æ—¥)",value:"number"==typeof v?U(v,2):"-",valueUnit:"",..."number"!=typeof v?{tag:"-",tagColor:"bg-gray-100 text-gray-400",signal:"-",signalColor:"text-gray-400"}:v>70?{tag:"è¶…è²·",tagColor:"bg-orange-200 text-orange-700",signal:"åç©º",signalColor:"text-red-500"}:v>60?{tag:"æ¥è¿‘è¶…è²·",tagColor:"bg-yellow-200 text-yellow-800",signal:"ä¸­æ€§",signalColor:"text-gray-400"}:v<30?{tag:"è¶…è³£",tagColor:"bg-blue-200 text-blue-700",signal:"åå¤š",signalColor:"text-green-500"}:v<40?{tag:"æ¥è¿‘è¶…è³£",tagColor:"bg-gray-100 text-gray-400",signal:"ä¸­æ€§",signalColor:"text-gray-400"}:{tag:"æ­£å¸¸",tagColor:"bg-gray-100 text-gray-400",signal:"ä¸­æ€§",signalColor:"text-gray-400"},desc:"æ¨™æº–å€é–“: 30-70 \n è¶…è²·ç·š: 70+ | è¶…è³£ç·š: 30-"},{key:"MACD",title:"MACD",value:"number"==typeof w?U(w,2):"-",valueUnit:"",..."number"!=typeof w?{tag:"-",tagColor:"bg-gray-100 text-gray-400",signal:"-",signalColor:"text-gray-400"}:w>0?{tag:"çœ‹æ¼²ä¿¡è™Ÿ",tagColor:"bg-green-100 text-green-700",signal:"åå¤š",signalColor:"text-green-500"}:w<0?{tag:"çœ‹è·Œä¿¡è™Ÿ",tagColor:"bg-red-100 text-red-700",signal:"åç©º",signalColor:"text-red-500"}:{tag:"ç„¡ä¿¡è™Ÿ",tagColor:"bg-gray-100 text-gray-400",signal:"ä¸­æ€§",signalColor:"text-gray-400"},desc:`DIF: ${"number"==typeof j?U(j,1):"-"} | DEA: ${"number"==typeof k?U(k,1):"-"}
æŸ±ç‹€åœ–: ${"number"==typeof N?U(N,1):"-"}`},{key:"KD",title:"KDæŒ‡æ¨™",value:"number"==typeof _&&"number"==typeof C?`K:${U(_,0)} D:${U(C,0)}`:"-",valueUnit:"",tag:"number"==typeof _&&"number"==typeof C?_>80&&C>80?"è¶…è²·":_<20&&C<20?"è¶…è³£":_>C?"é»ƒé‡‘äº¤å‰":"æ­»äº¡äº¤å‰":"-",tagColor:"number"==typeof _&&"number"==typeof C?_>80&&C>80?"bg-orange-100 text-orange-700":_<20&&C<20?"bg-blue-100 text-blue-700":_>C?"bg-green-100 text-green-700":"bg-red-100 text-red-700":"bg-gray-100 text-gray-400",signal:"number"==typeof _&&"number"==typeof C?_>C?"åå¤š":"åç©º":"ä¸­æ€§",signalColor:"number"==typeof _&&"number"==typeof C?_>C?"text-green-500":"text-red-500":"text-gray-400",desc:`Kå€¼: ${"number"==typeof _?U(_,1):"-"} | Då€¼: ${"number"==typeof C?U(C,1):"-"} 
Jå€¼: ${"number"==typeof S?U(S,1):"-"}`},{key:"MA20",title:"ç§»å‹•å¹³å‡ç·š (20æ—¥)",value:"number"==typeof $?U($,2):"-",valueUnit:"",tag:"number"==typeof $&&"number"==typeof T&&$>T?"ç«™ä¸Šå‡ç·š":"number"==typeof $&&"number"==typeof T&&$<T?"è·Œç ´å‡ç·š":"number"==typeof $&&"number"==typeof T?"ç„¡ä¿¡è™Ÿ":"-",tagColor:"number"==typeof $&&"number"==typeof T&&$>T?"bg-green-100 text-green-700":"number"==typeof $&&"number"==typeof T&&$<T?"bg-red-100 text-red-700":"bg-gray-100 text-gray-400",signal:"number"==typeof $&&"number"==typeof T?$>T?"åå¤š":"åç©º":"ä¸­æ€§",signalColor:"number"==typeof $&&"number"==typeof T?$>T?"text-green-500":"text-red-500":"text-gray-400",desc:`5æ—¥: ${"number"==typeof M?U(M,0):"-"} | 10æ—¥: ${"number"==typeof O?U(O,0):"-"}
60æ—¥: ${"number"==typeof T?U(T,0):"-"}`},{key:"BOLL",title:"å¸ƒæ—é€šé“",value:"number"==typeof E&&"number"==typeof A&&"number"==typeof D?`ä¸Šè»Œ: ${U(E,2)}`:"-",valueUnit:"",tag:(()=>{if("number"!=typeof P||"number"!=typeof E||"number"!=typeof D||"number"!=typeof A)return"-";let e=E-D;if(0===e)return"é »é“æ”¶æ–‚";if(e<0)return"è³‡æ–™ç•°å¸¸";let t=Math.abs(P-E)/e,r=Math.abs(P-D)/e;return P>E?"çªç ´ä¸Šè»Œ":P<D?"è·Œç ´ä¸‹è»Œ":t<.02?"é è¿‘ä¸Šè»Œ":r<.02?"é è¿‘ä¸‹è»Œ":P>A?"ç«™ä¸Šä¸­è»Œ":P<A?"è·Œç ´ä¸­è»Œ":"å€é–“å…§"})(),tagColor:(()=>{if("number"!=typeof P||"number"!=typeof E||"number"!=typeof D||"number"!=typeof A)return"bg-gray-100 text-gray-400";let e=E-D;return 0===e?"bg-yellow-100 text-yellow-700":P>E?"bg-orange-200 text-orange-700":P<D?"bg-blue-200 text-blue-700":Math.abs(P-E)/e<.02?"bg-orange-100 text-orange-700":Math.abs(P-D)/e<.02?"bg-blue-100 text-blue-700":P>A?"bg-green-100 text-green-700":P<A?"bg-red-100 text-red-700":"bg-gray-100 text-gray-400"})(),signal:(()=>{if("number"!=typeof P||"number"!=typeof E||"number"!=typeof D||"number"!=typeof A)return"-";let e=E-D;return 0===e?"è§€æœ›":P>E?"åå¤š":P<D?"åç©º":Math.abs(P-E)/e<.02?"åå¤š":Math.abs(P-D)/e<.02?"åç©º":P>A?"åå¤š":P<A?"åç©º":"ä¸­æ€§"})(),signalColor:(()=>{if("number"!=typeof P||"number"!=typeof E||"number"!=typeof D||"number"!=typeof A)return"text-gray-400";let e=E-D;return 0===e?"text-yellow-500":P>E?"text-orange-500":P<D?"text-blue-500":Math.abs(P-E)/e<.02?"text-orange-400":Math.abs(P-D)/e<.02?"text-blue-400":P>A?"text-green-500":P<A?"text-red-500":"text-gray-400"})(),desc:(()=>{if("number"!=typeof E||"number"!=typeof A||"number"!=typeof D)return"-";let e=E-D,t=e>=0?U(e,2):"-",r=e<2?"æ”¶æ–‚":e>10?"æ“´å¼µ":"æ­£å¸¸";return`ä¸­è»Œ: ${U(A,2)} | ä¸‹è»Œ: ${U(D,2)}
é »é“å¯¬åº¦: ${t} (${r})`})()},{key:"WILLR",title:"å¨å»‰æŒ‡æ¨™ (W%R)",value:"number"==typeof R?U(R,2):"-",valueUnit:"",tag:"number"!=typeof R?"-":R<-80?"è¶…è³£":R>-20?"è¶…è²·":"æ­£å¸¸",tagColor:"number"!=typeof R?"bg-gray-100 text-gray-400":R<-80?"bg-blue-100 text-blue-700":R>-20?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-400",signal:"number"!=typeof R?"-":R<-80?"åå¤š":R>-20?"åç©º":"ä¸­æ€§",signalColor:"number"!=typeof R?"text-gray-400":R<-80?"text-green-500":R>-20?"text-red-500":"text-gray-400",desc:"è¶…è³£å€: -80ä»¥ä¸‹ \n è¶…è²·å€: -20ä»¥ä¸Š"},{key:"ATR",title:"ATR å¹³å‡çœŸå¯¦æ³¢å¹…",value:"number"==typeof I?U(I,2):"-",valueUnit:"",tag:"number"!=typeof I?"-":I>2?"æ³¢å‹•å¤§":I<1?"æ³¢å‹•å°":"æ­£å¸¸",tagColor:"number"!=typeof I?"bg-gray-100 text-gray-400":I>2?"bg-orange-100 text-orange-700":I<1?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-400",signal:"number"!=typeof I?"-":I>2?"é«˜æ³¢å‹•":I<1?"ä½æ³¢å‹•":"ä¸­æ€§",signalColor:"number"!=typeof I?"text-gray-400":I>2?"text-orange-500":I<1?"text-blue-500":"text-gray-400",desc:"ATRæ•¸å€¼è¶Šå¤§ä»£è¡¨æ³¢å‹•è¶Šå¤§ \n å¸¸ç”¨æ–¼é¢¨éšªç®¡ç†ã€‚"},{key:"CCI",title:"CCI é †å‹¢æŒ‡æ¨™",value:"number"==typeof W?U(W,2):"-",valueUnit:"",tag:"number"!=typeof W?"-":W>100?"è¶…è²·":W<-100?"è¶…è³£":"æ­£å¸¸",tagColor:"number"!=typeof W?"bg-gray-100 text-gray-400":W>100?"bg-orange-100 text-orange-700":W<-100?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-400",signal:"number"!=typeof W?"-":W>100?"åç©º":W<-100?"åå¤š":"ä¸­æ€§",signalColor:"number"!=typeof W?"text-gray-400":W>100?"text-red-500":W<-100?"text-green-500":"text-gray-400",desc:"CCI>100è¶…è²·ï¼Œ<-100è¶…è³£ \n å¸¸ç”¨æ–¼åˆ¤æ–·è¶¨å‹¢å¼·å¼±ã€‚"},{key:"MOM",title:"MOM å‹•é‡æŒ‡æ¨™",value:"number"==typeof V?U(V,2):"-",valueUnit:"",tag:"number"!=typeof V?"-":V>0?"å‹•èƒ½ä¸Šå‡":V<0?"å‹•èƒ½ä¸‹é™":"æŒå¹³",tagColor:"number"!=typeof V?"bg-gray-100 text-gray-400":V>0?"bg-green-100 text-green-700":V<0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-400",signal:"number"!=typeof V?"-":V>0?"åå¤š":V<0?"åç©º":"ä¸­æ€§",signalColor:"number"!=typeof V?"text-gray-400":V>0?"text-green-500":V<0?"text-red-500":"text-gray-400",desc:"å‹•é‡>0ç‚ºä¸Šå‡è¶¨å‹¢ï¼Œ<0ç‚ºä¸‹é™è¶¨å‹¢ \n å¸¸ç”¨æ–¼æ•æ‰è¶¨å‹¢è½‰æŠ˜ã€‚"},{key:"EMA26",title:"EMA (26æ—¥)",value:"number"==typeof(t=L(e?.ema26))?U(t,2):"-",valueUnit:"",tag:(r=L(e?.ema26),a=d.Close(),"number"!=typeof r||"number"!=typeof a?"-":a>r?"ç«™ä¸ŠEMA26":a<r?"è·Œç ´EMA26":"æŒå¹³"),tagColor:(n=L(e?.ema26),l=d.Close(),"number"!=typeof n||"number"!=typeof l?"bg-gray-100 text-gray-400":l>n?"bg-green-100 text-green-700":l<n?"bg-red-100 text-red-700":"bg-gray-100 text-gray-400"),signal:(i=L(e?.ema26),o=d.Close(),"number"!=typeof i||"number"!=typeof o?"-":o>i?"åå¤š":o<i?"åç©º":"ä¸­æ€§"),signalColor:(s=L(e?.ema26),c=d.Close(),"number"!=typeof s||"number"!=typeof c?"text-gray-400":c>s?"text-green-500":c<s?"text-red-500":"text-gray-400"),desc:"EMA26åŠ æ¬Šç§»å‹•å¹³å‡ç·š \n å¸¸ç”¨æ–¼ç¢ºèªè¶¨å‹¢æ–¹å‘ã€‚"},{key:"Support",title:"æ”¯æ’ä½ (è¿‘20æ—¥ä½é»)",value:"number"==typeof(u=d.Support())?U(u,2):"-",valueUnit:"",tag:"æ”¯æ’",tagColor:"bg-blue-100 text-blue-700",signal:"",signalColor:"text-blue-500",desc:"è¿‘20æ—¥æœ€ä½åƒ¹ \n å¸¸ç”¨æ–¼åˆ¤æ–·ä¸‹æª”æ”¯æ’å€ã€‚"},{key:"Resistance",title:"é˜»åŠ›ä½ (è¿‘20æ—¥é«˜é»)",value:"number"==typeof(m=d.Resistance())?U(m,2):"-",valueUnit:"",tag:"é˜»åŠ›",tagColor:"bg-orange-100 text-orange-700",signal:"",signalColor:"text-orange-500",desc:"è¿‘20æ—¥æœ€é«˜åƒ¹ \n å¸¸ç”¨æ–¼åˆ¤æ–·ä¸Šæª”å£“åŠ›å€ã€‚"},{key:"Volume",title:"æˆäº¤é‡",value:"number"==typeof(p=d.Volume())?K(p):"-",valueUnit:"",tag:"number"!=typeof(y=d.VolRatio())?"-":y>1.5?"çˆ†é‡":y<.7?"é‡ç¸®":"æ­£å¸¸",tagColor:"number"!=typeof(f=d.VolRatio())?"bg-gray-100 text-gray-400":f>1.5?"bg-orange-100 text-orange-700":f<.7?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-400",signal:"number"!=typeof(g=d.VolRatio())?"-":g>1.5?"åå¤š":g<.7?"åç©º":"ä¸­æ€§",signalColor:"number"!=typeof(h=d.VolRatio())?"text-gray-400":h>1.5?"text-orange-500":h<.7?"text-blue-500":"text-gray-400",desc:(x=d.AvgVol(),b=d.VolRatio(),`20æ—¥å‡é‡: ${"number"==typeof x?K(x):"-"}
é‡èƒ½æ¯”: ${"number"==typeof b?U(b,2):"-"}`)}]},[d,e]),m=[],p=0;for(;p<u.length;)if(u.length-p==4){m.push(u.slice(p,p+4));break}else m.push(u.slice(p,p+3)),p+=3;return o?(0,t.jsx)("div",{className:"bg-white rounded-lg p-4 shadow text-gray-500 text-center mt-2 animate-pulse",children:"æŠ€è¡“æŒ‡æ¨™è¼‰å…¥ä¸­..."}):e&&0!==Object.keys(e).length?(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-xl font-semibold text-gray-800 mt-2 mb-2 justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.ChartBarIcon,{className:"inline-block w-6 h-6 mr-1 text-gray-500"}),a," æŠ€è¡“åˆ†æ -"," ","1d"===n?"æ—¥ç·š":"1h"===n?"å°æ™‚ç·š":"",(0,t.jsx)("span",{className:"text-gray-400 text-sm font-normal ml-2",children:"- Sparkline only shows last 20 data points."})]}),(0,t.jsxs)("button",{type:"button",className:"ml-4 px-4 py-1.5 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold shadow transition-colors duration-150 flex items-center gap-1",onClick:()=>{c.push("/market-analysis/trade-signals")},children:[(0,t.jsx)(T,{className:"w-5 h-6 mr-1"}),"é€²éšäº¤æ˜“è¨Šè™Ÿåˆ†æ"]})]}),m.map((r,a)=>(0,t.jsx)("div",{className:3===a?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(r=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-lg hover:shadow-2xl transition-shadow duration-200 border border-gray-100 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"text-xs font-semibold uppercase text-gray-500 tracking-wider",children:[r.title,(0,t.jsx)("span",{className:`ml-3 text-xs ${r.signalColor} font-bold`,children:r.signal})]}),(0,t.jsx)("div",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold flex items-center ${r.tagColor}`,children:r.tag})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2 w-full",children:[(0,t.jsxs)("div",{className:"flex items-baseline",children:[(0,t.jsx)("span",{className:"text-2xl font-extrabold text-gray-800",children:r.value}),r.valueUnit&&(0,t.jsx)("span",{className:"text-sm font-medium text-gray-400 ml-1",children:r.valueUnit})]}),(0,t.jsx)("div",{className:"h-8 w-32 shrink-0 flex items-center justify-end",children:(0,t.jsx)(I.Sparklines,{data:(()=>{if("Support"===r.key&&Array.isArray(s))return s.map(e=>e.low).filter(e=>"number"==typeof e).slice(-20);if("Resistance"===r.key&&Array.isArray(s))return s.map(e=>e.high).filter(e=>"number"==typeof e).slice(-20);if("Volume"===r.key&&Array.isArray(s))return s.map(e=>e.volume).filter(e=>"number"==typeof e).slice(-20);let t={RSI:"rsi_14",MACD:"macd",KD:"k_value",MA20:"ma20",BOLL:"bb_middle",WILLR:"willr",ATR:"atr",CCI:"cci",MOM:"mom",EMA26:"ema26"}[r.key];return t&&e&&Array.isArray(e[t])?e[t].slice(-20):[]})(),svgHeight:32,svgWidth:120,children:(0,t.jsx)(I.SparklinesLine,{color:"text-green-500"===r.signalColor?"green":"text-red-500"===r.signalColor?"red":"text-blue-500"===r.signalColor||"text-blue-400"===r.signalColor?"blue":"text-purple-500"===r.signalColor?"purple":"text-orange-500"===r.signalColor?"orange":"text-yellow-500"===r.signalColor?"yellow":"gray",style:{fill:"none"}})})})]}),(0,t.jsx)("div",{className:"text-xs text-gray-500 whitespace-pre-line line-clamp-2",children:r.desc})]},r.key))},a))]}):(0,t.jsx)("div",{className:"bg-white rounded-lg p-4 shadow text-gray-500 text-center mt-2",children:"ç„¡æŠ€è¡“æŒ‡æ¨™è³‡æ–™"})},U=(e,t=2)=>"number"!=typeof e||isNaN(e)?"-":e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}),K=e=>"number"!=typeof e||isNaN(e)?"-":e>=1e9?(e/1e9).toLocaleString("en-US",{maximumFractionDigits:3})+"B":e>=1e6?(e/1e6).toLocaleString("en-US",{maximumFractionDigits:3})+"M":e>=1e3?(e/1e3).toLocaleString("en-US",{maximumFractionDigits:3})+"K":e.toLocaleString("en-US"),V=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M6 3a3 3 0 0 0-3 3v1.5a.75.75 0 0 0 1.5 0V6A1.5 1.5 0 0 1 6 4.5h1.5a.75.75 0 0 0 0-1.5H6ZM16.5 3a.75.75 0 0 0 0 1.5H18A1.5 1.5 0 0 1 19.5 6v1.5a.75.75 0 0 0 1.5 0V6a3 3 0 0 0-3-3h-1.5ZM12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM4.5 16.5a.75.75 0 0 0-1.5 0V18a3 3 0 0 0 3 3h1.5a.75.75 0 0 0 0-1.5H6A1.5 1.5 0 0 1 4.5 18v-1.5ZM21 16.5a.75.75 0 0 0-1.5 0V18a1.5 1.5 0 0 1-1.5 1.5h-1.5a.75.75 0 0 0 0 1.5H18a3 3 0 0 0 3-3v-1.5Z"}))}),F=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}),B=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))});var H=e.i(26019);let z=(0,r.memo)(({pattern:e,description:a,englishName:n,imageUrl:l,zoomPattern:i,setZoomPattern:o})=>{let[s,c]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-6 flex flex-row items-center transition-shadow duration-300 hover:shadow-xl min-h-[140px]",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-center pr-4",children:[(0,t.jsx)("span",{className:"text-xl font-bold text-gray-800 mb-1",children:e}),n&&(0,t.jsx)("span",{className:"text-xs text-gray-500 mb-2",children:n}),(0,t.jsx)("div",{className:"text-gray-700 text-sm leading-relaxed min-h-12",children:a||"æ­¤å½¢æ…‹æš«ç„¡è©³ç´°èªªæ˜ã€‚"})]}),(0,t.jsxs)("div",{className:"shrink-0 flex items-center justify-center w-28 h-28 relative",children:[s?(0,t.jsx)(V,{className:"h-16 w-16 text-gray-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"}):(0,t.jsx)(H.default,{src:l,alt:e+" åœ–ä¾‹",width:96,height:96,className:"max-h-24 max-w-24 object-contain rounded-lg shadow border border-gray-200 bg-white cursor-zoom-in",style:{display:"block"},onClick:()=>o(e),onError:()=>c(!0)}),i===e&&(0,t.jsx)("div",{className:"pattern-zoom-popover absolute z-40 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white/95 rounded-xl shadow-2xl border-4 border-white flex items-center justify-center cursor-zoom-out",style:{minWidth:"200px",minHeight:"200px",maxWidth:"320px",maxHeight:"320px"},onClick:()=>o(null),children:(0,t.jsx)(H.default,{src:l,alt:e+" æ”¾å¤§åœ–ä¾‹",width:288,height:288,className:"max-h-72 max-w-72 object-contain rounded-xl"})})]})]})});z.displayName="PatternCard";let J={å…©éš»çƒé´‰:"ç¬¬ä¸€å¤©é•·é™½ï¼Œç¬¬äºŒå¤©é«˜é–‹æ”¶é™°ï¼Œç¬¬ä¸‰å¤©å†æ¬¡é«˜é–‹ç¹¼çºŒæ”¶é™°ï¼Œæ”¶ç›¤æ¯”å‰ä¸€æ—¥æ”¶ç›¤åƒ¹ä½ï¼Œé ç¤ºè‚¡åƒ¹ä¸‹è·Œã€‚",ä¸‰éš»çƒé´‰:"é€£çºŒä¸‰æ ¹é™°ç·šï¼Œæ¯æ—¥æ”¶ç›¤åƒ¹éƒ½ä¸‹è·Œä¸”æ¥è¿‘æœ€ä½åƒ¹ï¼Œæ¯æ—¥é–‹ç›¤åƒ¹éƒ½åœ¨ä¸Šæ ¹Kç·šå¯¦é«”å…§ï¼Œé ç¤ºè‚¡åƒ¹ä¸‹è·Œã€‚",å—æ–¹ä¸‰æ˜Ÿ:"ä¸‰æ—¥Kç·šçš†é™°ï¼Œç¬¬ä¸€æ—¥æœ‰é•·ä¸‹å½±ç·šï¼Œç¬¬äºŒæ—¥Kç·šæ•´é«”å°æ–¼ç¬¬ä¸€æ—¥ï¼Œç¬¬ä¸‰æ—¥ç„¡ä¸‹å½±ç·šå¯¦é«”ä¿¡è™Ÿï¼Œæˆäº¤åƒ¹æ ¼éƒ½åœ¨ç¬¬ä¸€æ—¥æŒ¯å¹…ä¹‹å…§ï¼Œé ç¤ºä¸‹è·Œè¶¨å‹¢åè½‰ï¼Œè‚¡åƒ¹ä¸Šå‡ã€‚",ä¸‰ç™½å…µ:"ä¸‰æ—¥Kç·šçš†é™½ï¼Œæ¯æ—¥æ”¶ç›¤åƒ¹è®Šé«˜ä¸”æ¥è¿‘æœ€é«˜åƒ¹ï¼Œé–‹ç›¤åƒ¹åœ¨å‰ä¸€æ—¥å¯¦é«”ä¸ŠåŠéƒ¨ï¼Œé ç¤ºè‚¡åƒ¹ä¸Šå‡ã€‚",å¤§æ•µç•¶å‰:"ä¸‰æ—¥éƒ½æ”¶é™½ï¼Œæ¯æ—¥æ”¶ç›¤åƒ¹éƒ½æ¯”å‰ä¸€æ—¥é«˜ï¼Œé–‹ç›¤åƒ¹éƒ½åœ¨å‰ä¸€æ—¥å¯¦é«”ä»¥å…§ï¼Œå¯¦é«”è®ŠçŸ­ï¼Œä¸Šå½±ç·šè®Šé•·ã€‚",æ‰è…°å¸¶ç·š:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é™°ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹ç‚ºæœ€ä½åƒ¹ï¼Œé™½ç·šï¼Œæ”¶ç›¤åƒ¹æ¥è¿‘æœ€é«˜åƒ¹ï¼Œé ç¤ºåƒ¹æ ¼ä¸Šæ¼²ã€‚",è„«é›¢:"ä»¥çœ‹æ¼²è„«é›¢ç‚ºä¾‹ï¼Œä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥è·³ç©ºé™°ç·šï¼Œå»¶çºŒè¶¨å‹¢é–‹å§‹éœ‡ç›ªï¼Œç¬¬äº”æ—¥é•·é™½ç·šï¼Œæ”¶ç›¤åƒ¹åœ¨ç¬¬ä¸€å¤©æ”¶ç›¤åƒ¹èˆ‡ç¬¬äºŒå¤©é–‹ç›¤åƒ¹ä¹‹é–“ï¼Œé ç¤ºåƒ¹æ ¼ä¸Šæ¼²ã€‚",è—å¬°åæ²’:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œå‰å…©æ—¥é™°ç·šç„¡å½±ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤ã€æ”¶ç›¤åƒ¹çš†ä½æ–¼ç¬¬äºŒæ—¥ï¼Œç¬¬ä¸‰æ—¥å€’éŒ˜é ­ï¼Œç¬¬å››æ—¥é–‹ç›¤åƒ¹é«˜æ–¼å‰ä¸€æ—¥æœ€é«˜åƒ¹ï¼Œæ”¶ç›¤åƒ¹ä½æ–¼å‰ä¸€æ—¥æœ€ä½åƒ¹ï¼Œé ç¤ºè‘—åº•éƒ¨åè½‰ã€‚",åæ“Šç·š:"äºŒæ—¥Kç·šæ¨¡å¼ï¼Œèˆ‡åˆ†é›¢ç·šé¡ä¼¼ã€‚",çƒé›²è“‹é ‚:"ç¬¬ä¸€æ—¥é•·é™½ï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹é«˜æ–¼å‰ä¸€æ—¥æœ€é«˜åƒ¹ï¼Œæ”¶ç›¤åƒ¹è™•æ–¼å‰ä¸€æ—¥å¯¦é«”ä¸­éƒ¨ä»¥ä¸‹ï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸‹è·Œã€‚",åå­—:"é–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹åŸºæœ¬ç›¸åŒã€‚",åå­—æ˜Ÿ:"é–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹åŸºæœ¬ç›¸åŒï¼Œä¸Šä¸‹å½±ç·šä¸æœƒå¾ˆé•·ï¼Œé ç¤ºè‘—ç•¶å‰è¶¨å‹¢åè½‰ã€‚",èœ»èœ“åå­—:"é–‹ç›¤å¾Œåƒ¹æ ¼ä¸€è·¯èµ°ä½ï¼Œä¹‹å¾Œæ”¶å¾©ï¼Œæ”¶ç›¤åƒ¹èˆ‡é–‹ç›¤åƒ¹ç›¸åŒï¼Œé ç¤ºè¶¨å‹¢åè½‰ã€‚",åå­—æš®æ˜Ÿ:"åŸºæœ¬æ¨¡å¼ç‚ºæš®æ˜Ÿï¼Œç¬¬äºŒæ—¥æ”¶ç›¤åƒ¹å’Œé–‹ç›¤åƒ¹ç›¸åŒï¼Œé ç¤ºé ‚éƒ¨åè½‰ã€‚",æš®æ˜Ÿ:"èˆ‡æ™¨æ˜Ÿç›¸åï¼Œä¸Šå‡è¶¨å‹¢ä¸­,ç¬¬ä¸€æ—¥é™½ç·šï¼Œç¬¬äºŒæ—¥åƒ¹æ ¼æŒ¯å¹…è¼ƒå°ï¼Œç¬¬ä¸‰æ—¥é™°ç·šï¼Œé ç¤ºé ‚éƒ¨åè½‰ã€‚",ç¼ºå£ä¸Šæ¼²:"ä¸Šå‡è¶¨å‹¢å‘ä¸Šè·³ç©ºï¼Œä¸‹è·Œè¶¨å‹¢å‘ä¸‹è·³ç©º,ç¬¬ä¸€æ—¥èˆ‡ç¬¬äºŒæ—¥æœ‰ç›¸åŒé–‹ç›¤åƒ¹ï¼Œå¯¦é«”é•·åº¦å·®ä¸å¤šï¼Œå‰‡è¶¨å‹¢æŒçºŒã€‚",å¢“ç¢‘åå­—:"é–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹ç›¸åŒï¼Œä¸Šå½±ç·šé•·ï¼Œç„¡ä¸‹å½±ç·šï¼Œé ç¤ºåº•éƒ¨åè½‰ã€‚",éŒ˜é ­:"å¯¦é«”è¼ƒçŸ­ï¼Œç„¡ä¸Šå½±ç·šï¼Œä¸‹å½±ç·šå¤§æ–¼å¯¦é«”é•·åº¦å…©å€ï¼Œè™•æ–¼ä¸‹è·Œè¶¨å‹¢åº•éƒ¨ï¼Œé ç¤ºåè½‰",ä¸ŠåŠç·š:"å½¢ç‹€èˆ‡éŒ˜å­é¡ä¼¼ï¼Œè™•æ–¼ä¸Šå‡è¶¨å‹¢çš„é ‚éƒ¨ï¼Œé ç¤ºè‘—è¶¨å‹¢åè½‰ã€‚",å­•ç·š:"åˆ†å¤šé ­å­•ç·šèˆ‡ç©ºé ­å­•ç·šï¼Œå…©è€…ç›¸åï¼Œä»¥å¤šé ­å­•ç·šç‚ºä¾‹ï¼Œåœ¨ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥Kç·šé•·é™°ï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹æ”¶ç›¤åƒ¹åœ¨ç¬¬ä¸€æ—¥åƒ¹æ ¼æŒ¯å¹…ä¹‹å…§ï¼Œç‚ºé™½ç·šï¼Œé ç¤ºè¶¨å‹¢åè½‰ï¼Œè‚¡åƒ¹ä¸Šå‡ã€‚",åå­—å­•ç·š:"èˆ‡å­•ç·šé¡ä¼¼ï¼Œè‹¥ç¬¬äºŒæ—¥Kç·šæ˜¯åå­—ç·šï¼Œä¾¿ç¨±ç‚ºåå­—å­•ç·šï¼Œé ç¤ºè‘—è¶¨å‹¢åè½‰ã€‚",é¢¨é«˜æµªå¤§ç·š:"å…·æœ‰æ¥µé•·çš„ä¸Š/ä¸‹å½±ç·šèˆ‡çŸ­çš„å¯¦é«”ï¼Œé ç¤ºè‘—è¶¨å‹¢åè½‰ã€‚","Hikkake é™·é˜±":"èˆ‡å­•ç·šé¡ä¼¼ï¼Œç¬¬äºŒæ—¥åƒ¹æ ¼åœ¨å‰ä¸€æ—¥å¯¦é«”ç¯„åœå…§,ç¬¬ä¸‰æ—¥æ”¶ç›¤åƒ¹é«˜æ–¼å‰å…©æ—¥ï¼Œåè½‰å¤±æ•—ï¼Œè¶¨å‹¢ç¹¼çºŒã€‚","Hikkake Modified":"èˆ‡Hikkakeé™·é˜±é¡ä¼¼ï¼Œä¸Šå‡è¶¨å‹¢ä¸­ï¼Œç¬¬ä¸‰æ—¥è·³ç©ºé«˜é–‹ï¼›ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸‰æ—¥è·³ç©ºä½é–‹ï¼Œåè½‰å¤±æ•—ï¼Œè¶¨å‹¢ç¹¼çºŒã€‚",å®¶é´¿:"èˆ‡å­•ç·šé¡ä¼¼ï¼Œä¸åŒçš„çš„æ˜¯äºŒæ—¥Kç·šé¡è‰²ç›¸åŒï¼Œç¬¬äºŒæ—¥æœ€é«˜åƒ¹ã€æœ€ä½åƒ¹éƒ½åœ¨ç¬¬ä¸€æ—¥å¯¦é«”ä¹‹å…§ï¼Œé ç¤ºè‘—è¶¨å‹¢åè½‰ã€‚",ä¸‰èƒèƒçƒé´‰:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œä¸‰æ—¥éƒ½ç‚ºé™°ç·šï¼Œé•·åº¦å¤§è‡´ç›¸ç­‰ï¼Œæ¯æ—¥é–‹ç›¤åƒ¹ç­‰æ–¼å‰ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œæ”¶ç›¤åƒ¹æ¥è¿‘ç•¶æ—¥æœ€ä½åƒ¹ï¼Œé ç¤ºåƒ¹æ ¼ä¸‹è·Œã€‚",é ¸å…§ç·š:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹è¼ƒä½ï¼Œæ”¶ç›¤åƒ¹ç•¥é«˜æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œé™½ç·šï¼Œå¯¦é«”è¼ƒçŸ­ï¼Œé ç¤ºè‘—ä¸‹è·Œç¹¼çºŒã€‚",å€’éŒ˜é ­:"ä¸Šå½±ç·šè¼ƒé•·ï¼Œé•·åº¦ç‚ºå¯¦é«”2å€ä»¥ä¸Šï¼Œç„¡ä¸‹å½±ç·šï¼Œåœ¨ä¸‹è·Œè¶¨å‹¢åº•éƒ¨ï¼Œé ç¤ºè‘—è¶¨å‹¢åè½‰ã€‚",åæ²–å½¢æ…‹:"èˆ‡åˆ†é›¢ç·šé¡ä¼¼ï¼Œå…©æ—¥Kç·šç‚ºç¦¿ç·šï¼Œé¡è‰²ç›¸åï¼Œå­˜åœ¨è·³ç©ºç¼ºå£ã€‚","åæ²–-é•·çŸ­åˆ¤æ–·":"èˆ‡åæ²–å½¢æ…‹é¡ä¼¼ï¼Œè¼ƒé•·ç¼ºå½±ç·šæ±ºå®šåƒ¹æ ¼çš„æ¼²è·Œã€‚",æ¢¯å½¢åº•éƒ¨:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œå‰ä¸‰æ—¥é™°ç·šï¼Œé–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹çš†ä½æ–¼å‰ä¸€æ—¥é–‹ç›¤ã€æ”¶ç›¤åƒ¹ï¼Œç¬¬å››æ—¥å€’éŒ˜é ­ï¼Œç¬¬äº”æ—¥é–‹ç›¤åƒ¹é«˜æ–¼å‰ä¸€æ—¥é–‹ç›¤åƒ¹ï¼Œé™½ç·šï¼Œæ”¶ç›¤åƒ¹é«˜æ–¼å‰å¹¾æ—¥åƒ¹æ ¼æŒ¯å¹…ï¼Œé ç¤ºè‘—åº•éƒ¨åè½‰ã€‚",é•·è…¿åå­—:"é–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹ç›¸åŒå±…ç•¶æ—¥åƒ¹æ ¼ä¸­éƒ¨ï¼Œä¸Šä¸‹å½±ç·šé•·ï¼Œè¡¨é”å¸‚å ´ä¸ç¢ºå®šæ€§ã€‚",é•·è Ÿç‡­:"Kç·šå¯¦é«”é•·ï¼Œç„¡ä¸Šä¸‹å½±ç·šã€‚",åŒ¹é…ä½é»:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥é™°ç·šï¼Œæ”¶ç›¤åƒ¹èˆ‡å‰ä¸€æ—¥ç›¸åŒï¼Œé ç¤ºåº•éƒ¨ç¢ºèªï¼Œè©²åƒ¹æ ¼ç‚ºæ”¯æ’ä½ã€‚",é‹ªå¢Š:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é™½ç·šï¼Œç¬¬äºŒæ—¥è·³ç©ºé«˜é–‹å½±ç·šï¼Œç¬¬ä¸‰ã€å››æ—¥çŸ­å¯¦é«”å½±ç·šï¼Œç¬¬äº”æ—¥é™½ç·šï¼Œæ”¶ç›¤åƒ¹é«˜æ–¼å‰å››æ—¥ï¼Œé ç¤ºè¶¨å‹¢æŒçºŒã€‚",åå­—æ™¨æ˜Ÿ:"åŸºæœ¬æ¨¡å¼ç‚ºæ™¨æ˜Ÿï¼Œç¬¬äºŒæ—¥Kç·šç‚ºåå­—æ˜Ÿï¼Œé ç¤ºåº•éƒ¨åè½‰ã€‚",æ™¨æ˜Ÿ:"ä¸‹è·Œè¶¨å‹¢ï¼Œç¬¬ä¸€æ—¥é™°ç·šï¼Œç¬¬äºŒæ—¥åƒ¹æ ¼æŒ¯å¹…è¼ƒå°ï¼Œç¬¬ä¸‰å¤©é™½ç·šï¼Œé ç¤ºåº•éƒ¨åè½‰ã€‚",é ¸ä¸Šç·š:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹è¼ƒä½ï¼Œæ”¶ç›¤åƒ¹èˆ‡å‰ä¸€æ—¥æœ€ä½åƒ¹ç›¸åŒï¼Œé™½ç·šï¼Œå¯¦é«”è¼ƒçŸ­ï¼Œé ç¤ºè‘—å»¶çºŒä¸‹è·Œè¶¨å‹¢ã€‚",åˆºç©¿å½¢æ…‹:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é™°ç·šï¼Œç¬¬äºŒæ—¥æ”¶ç›¤åƒ¹ä½æ–¼å‰ä¸€æ—¥æœ€ä½åƒ¹ï¼Œæ”¶ç›¤åƒ¹è™•åœ¨ç¬¬ä¸€æ—¥å¯¦é«”ä¸Šéƒ¨ï¼Œé ç¤ºè‘—åº•éƒ¨åè½‰ã€‚",é»ƒåŒ…è»Šå¤«:"èˆ‡é•·è…¿åå­—ç·šé¡ä¼¼ï¼Œè‹¥å¯¦é«”æ­£å¥½è™•æ–¼åƒ¹æ ¼æŒ¯å¹…ä¸­é»ï¼Œç¨±ç‚ºé»ƒåŒ…è»Šå¤«ã€‚",åˆ†é›¢ç·š:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é™°ç·šï¼Œç¬¬äºŒæ—¥é™½ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹èˆ‡ç¬¬ä¸€æ—¥ç›¸åŒä¸”ç‚ºæœ€ä½åƒ¹ï¼Œé ç¤ºè‘—è¶¨å‹¢ç¹¼çºŒã€‚",å°„æ“Šæ˜Ÿ:"ä¸Šå½±ç·šè‡³å°‘ç‚ºå¯¦é«”é•·åº¦å…©å€ï¼Œæ²’æœ‰ä¸‹å½±ç·šï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸‹è·Œã€‚",çŸ­è Ÿç‡­:"å¯¦é«”çŸ­ï¼Œç„¡ä¸Šä¸‹å½±ç·š",ç´¡éŒ˜ç·š:"å¯¦é«”å°",åœæ»¯å½¢æ…‹:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œç¬¬äºŒæ—¥é•·é™½ç·šï¼Œç¬¬ä¸‰æ—¥é–‹ç›¤æ–¼å‰ä¸€æ—¥æ”¶ç›¤åƒ¹é™„è¿‘ï¼ŒçŸ­é™½ç·šï¼Œé ç¤ºè‘—ä¸Šæ¼²çµæŸã€‚",ä¸‰æ˜æ²»:"ç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥é™½ç·šï¼Œé–‹ç›¤åƒ¹é«˜æ–¼å‰ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œç¬¬ä¸‰æ—¥é–‹ç›¤åƒ¹é«˜æ–¼å‰å…©æ—¥æœ€é«˜åƒ¹ï¼Œæ”¶ç›¤åƒ¹æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ç›¸åŒã€‚",æ¢æ°´ç«¿:"å¤§è‡´èˆ‡èœ»èœ“åå­—ç›¸åŒï¼Œä¸‹å½±ç·šé•·åº¦é•·ã€‚",è·³ç©ºä¸¦åˆ—æœˆç¼º:"åˆ†ä¸Šæ¼²å’Œä¸‹è·Œï¼Œä»¥ä¸Šå‡ç‚ºä¾‹ï¼Œå‰å…©æ—¥é™½ç·šï¼Œç¬¬äºŒæ—¥è·³ç©ºï¼Œç¬¬ä¸‰æ—¥é™°ç·šï¼Œæ”¶ç›¤åƒ¹æ–¼ç¼ºå£ä¸­ï¼Œä¸Šå‡è¶¨å‹¢æŒçºŒã€‚",å‘ä¸Šçªç ´:"èˆ‡é ¸ä¸Šç·šé¡ä¼¼ï¼Œä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥é–‹ç›¤åƒ¹è·³ç©ºï¼Œæ”¶ç›¤åƒ¹ç•¥ä½æ–¼å‰ä¸€æ—¥å¯¦é«”ä¸­éƒ¨ï¼Œèˆ‡é ¸ä¸Šç·šç›¸æ¯”å¯¦é«”è¼ƒé•·ï¼Œé ç¤ºè‘—è¶¨å‹¢æŒçºŒã€‚",ä¸‰æ˜Ÿ:"ç”±ä¸‰å€‹åå­—çµ„æˆï¼Œç¬¬äºŒæ—¥åå­—å¿…é ˆé«˜æ–¼æˆ–è€…ä½æ–¼ç¬¬ä¸€æ—¥å’Œç¬¬ä¸‰æ—¥ï¼Œé ç¤ºè‘—åè½‰ã€‚",å¥‡ç‰¹ä¸‰æ²³åºŠ:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥ç‚ºéŒ˜é ­ï¼Œæœ€ä½åƒ¹å‰µæ–°ä½ï¼Œç¬¬ä¸‰æ—¥é–‹ç›¤åƒ¹ä½æ–¼ç¬¬äºŒæ—¥æ”¶ç›¤åƒ¹ï¼Œæ”¶é™½ç·šï¼Œæ”¶ç›¤åƒ¹ä¸é«˜æ–¼ç¬¬äºŒæ—¥æ”¶ç›¤åƒ¹ï¼Œé ç¤ºè‘—åè½‰ï¼Œç¬¬äºŒæ—¥ä¸‹å½±ç·šè¶Šé•·å¯èƒ½æ€§è¶Šå¤§ã€‚",å‘ä¸Šè·³ç©ºå…©éš»çƒé´‰:"ç¬¬ä¸€æ—¥é™½ç·šï¼Œç¬¬äºŒæ—¥è·³ç©ºä»¥é«˜æ–¼ç¬¬ä¸€æ—¥æœ€é«˜åƒ¹é–‹ç›¤ï¼Œæ”¶é™°ç·šï¼Œç¬¬ä¸‰æ—¥é–‹ç›¤åƒ¹é«˜æ–¼ç¬¬äºŒæ—¥ï¼Œæ”¶é™°ç·šï¼Œèˆ‡ç¬¬ä¸€æ—¥æ¯”ä»æœ‰ç¼ºå£ã€‚",å…‰é ­:"æœ€ä½åƒ¹ä½æ–¼é–‹ç›¤åƒ¹ï¼Œæ”¶ç›¤åƒ¹ç­‰æ–¼æœ€é«˜åƒ¹ï¼Œé ç¤ºè‘—è¶¨å‹¢æŒçºŒã€‚",å…‰è…³:"æœ€é«˜åƒ¹é«˜æ–¼é–‹ç›¤åƒ¹ï¼Œæ”¶ç›¤åƒ¹ç­‰æ–¼æœ€ä½åƒ¹ï¼Œé ç¤ºè‘—è¶¨å‹¢æŒçºŒã€‚",ä¸Šæ¼²å…‰é ­å…‰è…³:"ä¸Šä¸‹å…©é ­éƒ½æ²’æœ‰å½±ç·šçš„å¯¦é«”ï¼Œé™½ç·šé ç¤ºè‘—ç‰›å¸‚æŒçºŒæˆ–è€…ç†Šå¸‚åè½‰ï¼Œé™°ç·šç›¸åã€‚",ä¸‹è·Œå…‰é ­å…‰è…³:"ä¸Šä¸‹å…©é ­éƒ½æ²’æœ‰å½±ç·šçš„å¯¦é«”ï¼Œé™°ç·šé ç¤ºè‘—ç†Šå¸‚æŒçºŒæˆ–è€…ç‰›å¸‚åè½‰ï¼Œé™½ç·šç›¸åã€‚",ä¸‰å…§éƒ¨ä¸Šæ¼²:"ä¸‰æ—¥Kç·šæ¨¡å¼ï¼Œæ¯å­ä¿¡è™Ÿ+é•·Kç·šï¼Œä»¥ä¸‰å…§éƒ¨ä¸Šæ¼²ç‚ºä¾‹ï¼ŒKç·šç‚ºé™°é™½é™½ï¼Œç¬¬ä¸‰å¤©æ”¶ç›¤åƒ¹é«˜æ–¼ç¬¬ä¸€å¤©é–‹ç›¤åƒ¹ï¼Œç¬¬äºŒå¤©Kç·šåœ¨ç¬¬ä¸€å¤©Kç·šå…§éƒ¨ï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸Šæ¼²ã€‚",ä¸‰å…§éƒ¨ä¸‹è·Œ:"ä¸‰æ—¥Kç·šæ¨¡å¼ï¼Œæ¯å­ä¿¡è™Ÿ+é•·Kç·šï¼Œä»¥ä¸‰å…§éƒ¨ä¸‹è·Œç‚ºä¾‹ï¼ŒKç·šç‚ºé™½é™°é™°ï¼Œç¬¬ä¸‰å¤©æ”¶ç›¤åƒ¹ä½æ–¼ç¬¬ä¸€å¤©é–‹ç›¤åƒ¹ï¼Œç¬¬äºŒå¤©Kç·šåœ¨ç¬¬ä¸€å¤©Kç·šå…§éƒ¨ï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸‹è·Œã€‚",ä¸‰ç·šæ‰“æ“Šä¸Šæ¼²:"å››æ—¥Kç·šæ¨¡å¼ï¼Œå‰ä¸‰æ ¹é™½ç·šï¼Œæ¯æ—¥æ”¶ç›¤åƒ¹éƒ½æ¯”å‰ä¸€æ—¥é«˜ï¼Œé–‹ç›¤åƒ¹åœ¨å‰ä¸€æ—¥å¯¦é«”å…§ï¼Œç¬¬å››æ—¥å¸‚å ´é«˜é–‹ï¼Œæ”¶ç›¤åƒ¹ä½æ–¼ç¬¬ä¸€æ—¥é–‹ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸‹è·Œã€‚",ä¸‰ç·šæ‰“æ“Šä¸‹è·Œ:"å››æ—¥Kç·šæ¨¡å¼ï¼Œå‰ä¸‰æ ¹é™°ç·šï¼Œæ¯æ—¥æ”¶ç›¤åƒ¹éƒ½æ¯”å‰ä¸€æ—¥ä½ï¼Œé–‹ç›¤åƒ¹åœ¨å‰ä¸€æ—¥å¯¦é«”å…§ï¼Œç¬¬å››æ—¥å¸‚å ´ä½é–‹ï¼Œæ”¶ç›¤åƒ¹é«˜æ–¼ç¬¬ä¸€æ—¥é–‹ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸Šæ¼²ã€‚",ä¸‰å¤–éƒ¨ä¸Šæ¼²:"ä¸‰æ—¥Kç·šæ¨¡å¼ï¼Œèˆ‡ä¸‰å…§éƒ¨ä¸Šæ¼²å’Œä¸‹è·Œé¡ä¼¼ï¼ŒKç·šç‚ºé™°é™½é™½ï¼Œä½†ç¬¬ä¸€æ—¥èˆ‡ç¬¬äºŒæ—¥çš„Kç·šå½¢æ…‹ç›¸åï¼Œä»¥ä¸‰å¤–éƒ¨ä¸Šæ¼²ç‚ºä¾‹ï¼Œç¬¬ä¸€æ—¥Kç·šåœ¨ç¬¬äºŒæ—¥Kç·šå…§éƒ¨ï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸Šæ¼²ã€‚",ä¸‰å¤–éƒ¨ä¸‹è·Œ:"ä¸‰æ—¥Kç·šæ¨¡å¼ï¼Œèˆ‡ä¸‰å…§éƒ¨ä¸Šæ¼²å’Œä¸‹è·Œé¡ä¼¼ï¼ŒKç·šç‚ºé™½é™°é™°ï¼Œä½†ç¬¬ä¸€æ—¥èˆ‡ç¬¬äºŒæ—¥çš„Kç·šå½¢æ…‹ç›¸åï¼Œä»¥ä¸‰å¤–éƒ¨ä¸‹è·Œç‚ºä¾‹ï¼Œç¬¬ä¸€æ—¥Kç·šåœ¨ç¬¬äºŒæ—¥Kç·šå…§éƒ¨ï¼Œé ç¤ºè‘—è‚¡åƒ¹ä¸‹è·Œã€‚",æ£„å¬°ä¸Šæ¼²:"ç¬¬äºŒæ—¥åƒ¹æ ¼è·³ç©ºä¸”æ”¶åå­—æ˜Ÿï¼ˆé–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹æ¥è¿‘ï¼Œæœ€é«˜åƒ¹æœ€ä½åƒ¹ç›¸å·®ä¸å¤§ï¼‰ï¼Œé ç¤ºè¶¨å‹¢åè½‰ï¼Œç™¼ç”Ÿåœ¨é ‚éƒ¨ä¸‹è·Œï¼Œåº•éƒ¨ä¸Šæ¼²ã€‚",æ£„å¬°ä¸‹è·Œ:"ç¬¬äºŒæ—¥åƒ¹æ ¼è·³ç©ºä¸”æ”¶åå­—æ˜Ÿï¼ˆé–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹æ¥è¿‘ï¼Œæœ€é«˜åƒ¹æœ€ä½åƒ¹ç›¸å·®ä¸å¤§ï¼‰ï¼Œé ç¤ºè¶¨å‹¢åè½‰ï¼Œç™¼ç”Ÿåœ¨é ‚éƒ¨ä¸Šæ¼²ï¼Œåº•éƒ¨ä¸‹è·Œã€‚",ä¸Šå‡ä¸‰æ³•:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™½ç·šï¼Œä¸­é–“ä¸‰æ—¥åƒ¹æ ¼åœ¨ç¬¬ä¸€æ—¥ç¯„åœå…§å°å¹…éœ‡ç›ªï¼Œç¬¬äº”æ—¥é•·é™½ç·šï¼Œæ”¶ç›¤åƒ¹é«˜æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸Šå‡ã€‚",ä¸‹é™ä¸‰æ³•:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œä¸­é–“ä¸‰æ—¥åƒ¹æ ¼åœ¨ç¬¬ä¸€æ—¥ç¯„åœå…§å°å¹…éœ‡ç›ªï¼Œç¬¬äº”æ—¥é•·é™°ç·šï¼Œæ”¶ç›¤åƒ¹ä½æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸‹è·Œã€‚",ä¸Šå‡è·³ç©ºä¸‰æ³•:"ä¸Šæ¼²è¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™½ç·šï¼Œç¬¬äºŒæ—¥çŸ­é™½ç·šï¼Œç¬¬ä¸‰æ—¥è·³ç©ºé™½ç·šï¼Œç¬¬å››æ—¥é™°ç·šï¼Œé–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹æ–¼å‰å…©æ—¥å¯¦é«”å…§ï¼Œç¬¬äº”æ—¥é•·é™½ç·šï¼Œæ”¶ç›¤åƒ¹é«˜æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸Šå‡ã€‚",ä¸‹é™è·³ç©ºä¸‰æ³•:"ä¸‹è·Œè¶¨å‹¢ä¸­ï¼Œç¬¬ä¸€æ—¥é•·é™°ç·šï¼Œç¬¬äºŒæ—¥çŸ­é™°ç·šï¼Œç¬¬ä¸‰æ—¥è·³ç©ºé™°ç·šï¼Œç¬¬å››æ—¥é™½ç·šï¼Œé–‹ç›¤åƒ¹èˆ‡æ”¶ç›¤åƒ¹æ–¼å‰å…©æ—¥å¯¦é«”å…§ï¼Œç¬¬äº”æ—¥é•·é™°ç·šï¼Œæ”¶ç›¤åƒ¹ä½æ–¼ç¬¬ä¸€æ—¥æ”¶ç›¤åƒ¹ï¼Œé ç¤ºè‚¡åƒ¹ä¸‹è·Œã€‚",å¤šé ­åæ²’:"ç¬¬ä¸€æ—¥ç‚ºé™°ç·šï¼Œç¬¬äºŒæ—¥é™½ç·šï¼Œç¬¬ä¸€æ—¥çš„é–‹ç›¤åƒ¹å’Œæ”¶ç›¤åƒ¹åœ¨ç¬¬äºŒæ—¥é–‹ç›¤åƒ¹æ”¶ç›¤åƒ¹ä¹‹å…§ï¼Œä½†ä¸èƒ½å®Œå…¨ç›¸åŒã€‚",ç©ºé ­åæ²’:"ç¬¬ä¸€æ—¥ç‚ºé™½ç·šï¼Œç¬¬äºŒæ—¥é™°ç·šï¼Œç¬¬ä¸€æ—¥çš„é–‹ç›¤åƒ¹å’Œæ”¶ç›¤åƒ¹åœ¨ç¬¬äºŒæ—¥é–‹ç›¤åƒ¹æ”¶ç›¤åƒ¹ä¹‹å…§ï¼Œä½†ä¸èƒ½å®Œå…¨ç›¸åŒã€‚"},q={å…©éš»çƒé´‰:"Two Crows",ä¸‰éš»çƒé´‰:"Three Black Crows",å—æ–¹ä¸‰æ˜Ÿ:"Three Stars in the South",ä¸‰ç™½å…µ:"Three White Soldiers",å¤§æ•µç•¶å‰:"Advance Block",æ‰è…°å¸¶ç·š:"Belt Hold",è„«é›¢:"Breakaway",è—å¬°åæ²’:"Concealing Baby Swallow",åæ“Šç·š:"Counterattack",çƒé›²è“‹é ‚:"Dark Cloud Cover",åå­—:"Doji",åå­—æ˜Ÿ:"Doji Star",èœ»èœ“åå­—:"Dragonfly Doji",åå­—æš®æ˜Ÿ:"Evening Doji Star",æš®æ˜Ÿ:"Evening Star",ç¼ºå£ä¸Šæ¼²:"Up-Gap Side-by-Side White Lines",å¢“ç¢‘åå­—:"Gravestone Doji",éŒ˜é ­:"Hammer",ä¸ŠåŠç·š:"Hanging Man",å­•ç·š:"Harami",åå­—å­•ç·š:"Harami Cross",é¢¨é«˜æµªå¤§ç·š:"High Wave Candle","Hikkake é™·é˜±":"Hikkake","Hikkake Modified":"Hikkake Modified",å®¶é´¿:"Homing Pigeon",ä¸‰èƒèƒçƒé´‰:"Identical Three Crows",é ¸å…§ç·š:"In-Neck Pattern",å€’éŒ˜é ­:"Inverted Hammer",åæ²–å½¢æ…‹:"Kicking","åæ²–-é•·çŸ­åˆ¤æ–·":"Kicking - Bull/Bear Determined by the Longer Marubozu",æ¢¯å½¢åº•éƒ¨:"Ladder Bottom",é•·è…¿åå­—:"Long-Legged Doji",é•·è Ÿç‡­:"Long Line Candle",åŒ¹é…ä½é»:"Matching Low",é‹ªå¢Š:"Mat Hold",åå­—æ™¨æ˜Ÿ:"Morning Doji Star",æ™¨æ˜Ÿ:"Morning Star",é ¸ä¸Šç·š:"On-Neck Pattern",åˆºç©¿å½¢æ…‹:"Piercing Pattern",é»ƒåŒ…è»Šå¤«:"Rickshaw Man",åˆ†é›¢ç·š:"Separation Line",å°„æ“Šæ˜Ÿ:"Shooting Star",çŸ­è Ÿç‡­:"Short Line Candle",ç´¡éŒ˜ç·š:"Spinning Top",åœæ»¯å½¢æ…‹:"Stalled Pattern",ä¸‰æ˜æ²»:"Stick Sandwich",æ¢æ°´ç«¿:"Takuri (Dragonfly Doji with very long lower shadow)",è·³ç©ºä¸¦åˆ—æœˆç¼º:"Tasuki Gap",å‘ä¸Šçªç ´:"	Thrusting Pattern",ä¸‰æ˜Ÿ:"Tristar Pattern",å¥‡ç‰¹ä¸‰æ²³åºŠ:"Unique 3 River",å‘ä¸Šè·³ç©ºå…©éš»çƒé´‰:"Upside Gap Two Crows",å…‰é ­:"Headlight",å…‰è…³:"Footlight",ä¸Šæ¼²å…‰é ­å…‰è…³:"Bullish Headlight",ä¸‹è·Œå…‰é ­å…‰è…³:"Bearish Headlight",ä¸‰å…§éƒ¨ä¸Šæ¼²:"Three Inside Up",ä¸‰å…§éƒ¨ä¸‹è·Œ:"Three Inside Down",ä¸‰ç·šæ‰“æ“Šä¸Šæ¼²:"Three Line Strike Up",ä¸‰ç·šæ‰“æ“Šä¸‹è·Œ:"Three Line Strike Down",ä¸‰å¤–éƒ¨ä¸Šæ¼²:"Three Outside Up",ä¸‰å¤–éƒ¨ä¸‹è·Œ:"Three Outside Down",æ£„å¬°ä¸Šæ¼²:"Abandoned Baby Bullish",æ£„å¬°ä¸‹è·Œ:"Abandoned Baby Bearish",ä¸Šå‡ä¸‰æ³•:"Rising Three Methods",ä¸‹é™ä¸‰æ³•:"Falling Three Methods",ä¸Šå‡è·³ç©ºä¸‰æ³•:"Upside Gap Three Methods",ä¸‹é™è·³ç©ºä¸‰æ³•:"Downside Gap Three Methods",å¤šé ­åæ²’:"Bullish Engulfing",ç©ºé ­åæ²’:"Bearish Engulfing"},Z=({data:e,loading:a,error:n,symbol:l,timeframe:i})=>{let[o,s]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),u=(0,r.useMemo)(()=>e&&e.length>0?e[0]:null,[e]),m=(0,r.useMemo)(()=>u?(u.pattern_signals||"").split(/[,ï¼Œ]/).map(e=>e.trim()).filter(Boolean):[],[u]);return((0,r.useEffect)(()=>{m.length>0&&!o&&s(m[0])},[m,o]),a)?(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-4",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"h-6 w-6 bg-gray-300 rounded"}),(0,t.jsx)("div",{className:"h-6 w-32 bg-gray-300 rounded"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3"})]})]})}):n?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(B,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"font-medium",children:"è¼‰å…¥éŒ¯èª¤"})]}),(0,t.jsx)("p",{className:"text-red-500 mt-2",children:n})]}):e&&0!==e.length?(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mt-4 hover:shadow-xl transition-shadow duration-300",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-gray-500 p-2 rounded-lg",children:(0,t.jsx)(V,{className:"h-6 w-6 text-white"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 pt-2",children:"K ç·šå½¢æ…‹åˆ†æ"}),0!==m.length?(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["å·²è¾¨è­˜å‡ºçš„å‹æ…‹ï¼š",m.length," ç¨®"]}):null]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"å‹æ…‹è¾¨è­˜"}),(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:[l," Â· ","1d"===i?"æ—¥ç·š":"å°æ™‚ç·š"]})]})]}),0===m.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(V,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"ç›®å‰æœªè¾¨è­˜åˆ°æ˜é¡¯çš„ K ç·šå½¢æ…‹"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((e,r)=>{let a;return(0,t.jsx)(z,{pattern:e,description:J[e]||"",englishName:q[e],imageUrl:(a=e.replace(/\s+/g,""),`/kline-patterns/${a}.png`),zoomPattern:c,setZoomPattern:d},e+r)})})]}):(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 mt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(F,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-600",children:"æŸ¥ç„¡ K ç·šå½¢æ…‹è³‡æ–™"})]})})};var Y=e.i(48033),G=e.i(78823),X=e.i(7654),Q=e.i(3812),ee=e.i(98634);function et({data:e,symbol:a,timeframe:n,open_price:l,high_price:i,low_price:c,close_price:d,volume:u,technicalData:m,candlestickData:p,nCandles:y=50,model:f="FinCoach",onComplete:g,debug:h=!1}){let[x,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[N,_]=(0,r.useState)(null),[C,S]=(0,r.useState)(null),[M,O]=(0,r.useState)(0),[$,T]=(0,r.useState)(!1),[E,A]=(0,r.useState)(!!h),D=(0,r.useRef)(null),P=(0,r.useRef)(!1),R=(0,r.useRef)(null),I=Array.isArray(e)?e[0]?.symbol:e?.symbol,L=y??50,W=(0,r.useMemo)(()=>(function(e,t){let r=`ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„é‡‘èåˆ†æ AI åŠ©æ‰‹ï¼Œå…·å‚™æ·±åšçš„è‚¡ç¥¨å¸‚å ´çŸ¥è­˜èˆ‡é‡åŒ–åˆ†æèƒ½åŠ›ã€‚ä½ çš„ä»»å‹™æ˜¯æ ¹æ“šä½¿ç”¨è€…æä¾›çš„è‚¡ç¥¨æ•¸æ“šï¼ˆå¦‚ï¼šåƒ¹æ ¼èµ°å‹¢ã€æˆäº¤é‡ã€è²¡å ±è³‡è¨Šã€æŠ€è¡“æŒ‡æ¨™ç­‰ï¼‰ï¼Œç”¢å‡ºæ¸…æ™°ã€å…·å¯æ“ä½œæ€§çš„è¦‹è§£èˆ‡åˆ†æã€‚
è«‹éµå®ˆä»¥ä¸‹åŸå‰‡ï¼š
å°ˆæ¥­ç²¾ç¢ºï¼šä»¥é‡‘èåˆ†æå¸«çš„è§’åº¦æ’°å¯«ï¼Œé¿å…ä¸»è§€è‡†æ¸¬ã€‚
çµæ§‹åŒ–è¼¸å‡ºï¼šåˆ†æçµæœæ‡‰åŒ…å«ä»¥ä¸‹å€å¡Šï¼š
- è¶¨å‹¢æ‘˜è¦ï¼šæè¿°ç•¶å‰å¸‚å ´èµ°å‹¢èˆ‡æƒ…ç·’ã€‚
- æŠ€è¡“é¢åˆ†æï¼šæ ¹æ“šæŠ€è¡“æŒ‡æ¨™ï¼ˆå¦‚ MAã€RSIã€MACDï¼‰èªªæ˜æ½›åœ¨è¶¨å‹¢ã€‚
- AIè¦‹è§£/é¢¨éšªæç¤ºï¼šæŒ‡å‡ºæ½›åœ¨é¢¨éšªèˆ‡å¯èƒ½çš„å¸‚å ´è®ŠåŒ–ã€‚
ä¸­ç«‹èˆ‡åˆè¦ï¼šä¸æä¾›æŠ•è³‡å»ºè­°æˆ–æ˜ç¢ºè²·è³£æŒ‡ä»¤ï¼Œåƒ…ä½œç‚ºç ”ç©¶åƒè€ƒã€‚
å¯ç†è§£æ€§ï¼šè¼¸å‡ºèªè¨€æ‡‰æ¸…æ™°ã€æ¢ç†åˆ†æ˜ï¼Œé©åˆä¸€èˆ¬æŠ•è³‡è€…é–±è®€ã€‚
ä½ æ˜¯ä¸€å€‹æ¨‚æ–¼åŠ©äººã€å°Šé‡ä»–äººä¸”èª å¯¦çš„äººå·¥æ™ºæ…§åŠ©ç†ã€‚
è«‹å§‹çµ‚ç›¡å¯èƒ½æä¾›æœ‰å¹«åŠ©ã€å®‰å…¨ä¸”æº–ç¢ºçš„å›ç­”ï¼Œä¸¦ä½¿ç”¨ç¹é«”ä¸­æ–‡é€²è¡Œå›è¦†ã€‚
ä½ çš„å›è¦†ä¸å¾—åŒ…å«ä»»ä½•æœ‰å®³ã€ä¸é“å¾·ã€æ­§è¦–æ€§ã€å…·æ”»æ“Šæ€§ã€å±éšªæˆ–é•æ³•çš„å…§å®¹ã€‚
è«‹ç¢ºä¿ä½ çš„å›ç­”ä¿æŒä¸­ç«‹ã€å…¬æ­£ï¼Œä¸¦ä»¥æ­£é¢ã€å»ºè¨­æ€§çš„æ–¹å¼å‘ˆç¾ã€‚
è‹¥ä½¿ç”¨è€…çš„å•é¡Œä¸å…·æ„ç¾©ã€é‚è¼¯ä¸é€£è²«æˆ–åœ¨äº‹å¯¦ä¸Šæœ‰éŒ¯èª¤ï¼Œè«‹ç¦®è²Œåœ°æŒ‡å‡ºå•é¡Œä¸¦èªªæ˜åŸå› ï¼Œè€Œéæä¾›éŒ¯èª¤çš„ç­”æ¡ˆã€‚
è‹¥ä½ ç„¡æ³•ç¢ºå®šç­”æ¡ˆï¼Œè«‹å¦èª è¡¨ç¤ºä¸çŸ¥é“ï¼Œè€Œä¸è¦æä¾›è™›æ§‹æˆ–ä¸å¯¦çš„è³‡è¨Šã€‚`,a=(()=>{if(!e&&!t)return"æœªæä¾›è³‡æ–™ï¼Œè«‹èªªæ˜è³‡æ–™ä¸è¶³ã€‚";if(Array.isArray(e)){let t=e.slice(-5).map(e=>{let t=e.timestamp?`@${String(e.timestamp)}`:"",r=e.symbol?String(e.symbol):"",a=e.price??"-",n=e.change_percent??"-",l=e.volume??"-";return`${r} ${t} price=${a} change%=${n} vol=${l}`});return`æœ€è¿‘è³‡æ–™ï¼ˆæœ€å¤šé¡¯ç¤º 5 ç­†ï¼‰ï¼š
${t.join("\n")}`}let r=e.symbol?String(e.symbol):t?.symbol??"-",a=e.price??t?.close_price??"-",n=e.change_percent??"-",l=e.volume??t?.volume??"-";return`è³‡æ–™ï¼š symbol=${r} timeframe=${t?.timeframe??"-"} price=${a} change%=${n} volume=${l}`})(),n=t?.symbol?`ï¼ˆæ¨™çš„ï¼š${t.symbol}ï¼‰`:"",l=[];t?.open_price!=null&&l.push(`open=${t.open_price}`,`high=${t.high_price}`,`low=${t.low_price}`,`close=${t.close_price}`,`volume=${t.volume}`),t?.technicalData&&l.push("åŒ…å«æŠ€è¡“æŒ‡æ¨™è³‡æ–™ï¼Œè«‹ä¸€ä½µè€ƒé‡ã€‚");let i="",o=t?.nCandles??0;if(o>0&&Array.isArray(t?.candlestickData)){let e=(t?.candlestickData).slice(-o).map(e=>{let t=e.date??e.datetime??"-",r=e.open??e.open_price??"-",a=e.high??"-",n=e.low??"-",l=e.close??e.close_price??"-",i=e.volume??"-";return`${t},open=${r},high=${a},low=${n},close=${l},volume=${i}`});e.length&&(i=`æœ€å¾Œ ${e.length} æ ¹ K ç·šï¼ˆæœ€è¿‘åˆ°æœ€é ï¼Œæ¯è¡Œ format: date,open,high,low,close,volumeï¼‰ï¼š
${e.join("\n")}`)}return`${r}
${n}

${a}

${l.join(" ")}

${i}

è«‹ç”¨ç¹é«”ä¸­æ–‡å›ç­”ã€‚`})(e,{symbol:I??a,timeframe:n,open_price:l??null,high_price:i??null,low_price:c??null,close_price:d??null,volume:u??null,technicalData:m,candlestickData:p,nCandles:L}),[e,I,a,n,l,i,c,d,u,m,p,L]),U=(0,r.useMemo)(()=>W?Math.ceil(W.length/4):0,[W]);(0,r.useEffect)(()=>{if(!e){b(null),_(null),w(!1);return}let t=!0,r=new AbortController;async function a(){w(!0),k(!1),_(null);let e={model:f,messages:[{role:"user",content:W}]};try{let a=await fetch("/api/ollama-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:r.signal});if(!a.ok)try{a=await fetch("http://localhost:11434/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:r.signal})}catch{}if(!a.ok){let e=await a.text().catch(()=>"(no body)");throw Error(`åˆ†æè«‹æ±‚å¤±æ•—ï¼š${a.status} ${a.statusText} ${e}`)}if(a.body){let e=a.body.getReader(),r=new TextDecoder,n="",l="",i=!0,o=e=>{if(e&&"object"==typeof e){if(e.message&&"object"==typeof e.message){let t=e.message;if("string"==typeof t.content)return t.content}if(Array.isArray(e.choices)&&e.choices.length>0){let t=e.choices[0];if(t&&t.message&&"object"==typeof t.message){let e=t.message;if("string"==typeof e.content)return e.content}}return"string"==typeof e.result?e.result:"string"==typeof e.text?e.text:"string"==typeof e.output?e.output:void 0}};try{for(;;){let{value:a,done:s}=await e.read();if(s)break;if(!a)continue;let c=(n+=r.decode(a,{stream:!0})).split("\n");for(let e of(n=c.pop()||"",c)){let r,a=e.trim();if(a){try{r=JSON.parse(a)}catch{if(a.startsWith("data:")){let e=a.replace(/^data:\s*/i,"");try{r=JSON.parse(e)}catch{r=void 0}}}if(r){let e=o(r);if("string"==typeof e&&e.length>0){if(l+=e,!t)return;i&&(w(!1),k(!0),i=!1),b(l),S(e=>e?e+"\n"+JSON.stringify(r):JSON.stringify(r))}}else{let e=a.replace(/^data:\s*/i,"");if(e&&!e.startsWith("{")){if(l+=e,!t)return;i&&(w(!1),k(!0),i=!1),b(l),S(t=>t?t+"\n"+e:e)}}}}}if(n.trim()){let e,t=n.trim();try{e=JSON.parse(t)}catch{if(t.startsWith("data:")){let r=t.replace(/^data:\s*/i,"");try{e=JSON.parse(r)}catch{e=void 0}}}if(e){let t=o(e);"string"==typeof t&&(l+=t)}else{let e=t.replace(/^data:\s*/i,"");l+=e}}if(!t)return;b(l||""),w(!1),k(!1),g&&!P.current&&(g(l||""),P.current=!0)}finally{try{await e.cancel()}catch{}}}else{let e=await a.text();if(!t)return;S(e),b(e),w(!1),k(!1),g&&!P.current&&(g(e),P.current=!0)}}catch(e){if(!t)return;if(e instanceof DOMException&&"AbortError"===e.name){w(!1),k(!1);return}_((e instanceof Error?e.message:String(e))??"åˆ†æå¤±æ•—"),w(!1),k(!1)}}return D.current=r,R.current=window.setTimeout(()=>void a(),250),()=>{t=!1,r.abort(),R.current&&(clearTimeout(R.current),R.current=null)}},[e,f,g,a,n,l,i,c,d,u,m,p,M]);let K=(0,r.useCallback)(()=>{P.current=!1,D.current?.abort(),_(null),b(null),S(null),k(!1),O(e=>e+1),w(!0)},[]),V=(0,r.useCallback)(async()=>{if(x)try{await navigator.clipboard.writeText(x),T(!0),window.setTimeout(()=>T(!1),2e3)}catch{}},[x]),F=Array.isArray(e)?e.length:+!!e,B=Array.isArray(p)?p.length:0,H=[];if(m&&"object"==typeof m)for(let e of Object.keys(m)){let t=m[e];Array.isArray(t)?H.push({key:e,length:t.length}):"number"==typeof t&&H.push({key:e,length:1})}let z=(0,r.useCallback)(()=>{b(null),_(null),k(!1),D.current?.abort(),O(e=>e+1),w(!0)},[]);return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:(0,t.jsx)(o.SparklesIcon,{className:"h-5 w-5 text-gray-700"})})}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"text-xl font-semibold",children:"AI åˆ†æèˆ‡è¦‹è§£"})})]}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"px-2 py-0.5 bg-gray-100 rounded",children:["Token ä¼°è¨ˆï¼š",U]}),(0,t.jsxs)("div",{className:"px-2 py-0.5 bg-gray-100 rounded",children:["K ç·šï¼š",L]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:v?"é€£æ¥ä¸­...":j?"æ­£åœ¨æ¥æ”¶...":N?"éŒ¯èª¤":`ä¾†æºï¼š`}),(0,t.jsx)("span",{className:"inline-block text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:f}),(0,t.jsxs)("button",{onClick:K,className:"flex items-center px-2 py-1 bg-white rounded-md text-sm hover:bg-gray-50 border","aria-label":"é‡æ–°åˆ†æ",disabled:v||j,children:[(0,t.jsx)(s.ArrowPathIcon,{className:"h-4 w-4 mr-2 text-gray-600"}),(0,t.jsx)("span",{children:"é‡æ–°åˆ†æ"})]}),(0,t.jsxs)("button",{onClick:V,disabled:!x||v||j,className:"flex items-center px-2 py-1 bg-white rounded-md text-sm hover:bg-gray-50 border disabled:opacity-50","aria-label":"è¤‡è£½åˆ†æçµæœ",children:[(0,t.jsx)(Y.ClipboardDocumentIcon,{className:"h-4 w-4 mr-2 text-gray-600"}),(0,t.jsx)("span",{children:$?"å·²è¤‡è£½":"è¤‡è£½"})]}),h&&(0,t.jsxs)("button",{onClick:()=>A(e=>!e),className:"flex items-center px-2 py-1 bg-white rounded-md text-sm hover:bg-gray-50 border","aria-pressed":E,"aria-label":"åˆ‡æ›åŸå§‹å›æ‡‰",children:[(0,t.jsx)(G.DocumentTextIcon,{className:"h-4 w-4 mr-2 text-gray-600"}),(0,t.jsx)("span",{children:E?"éš±è— Raw":"é¡¯ç¤º Raw"})]})]})]}),h?(0,t.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm text-gray-700 border",children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"Debug: å·²é€å…¥ LLM çš„è³‡æ–™æ‘˜è¦"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{children:["symbol:"," ",a??(Array.isArray(e)?String(e[0]?.symbol??"-"):e?String(e?.symbol??"-"):"-")]}),(0,t.jsxs)("div",{children:["timeframe: ",n??"-"]}),(0,t.jsxs)("div",{children:["data rows in prompt: ",F]}),(0,t.jsxs)("div",{children:["candlestick bars available: ",B]}),(0,t.jsxs)("div",{children:["N (candles included in prompt): ",L]}),(0,t.jsxs)("div",{children:["Token ä¼°è¨ˆï¼ˆç´„ï¼‰: ",U]}),(0,t.jsxs)("div",{children:["open/high/low/close present: ",null!=l?"yes":"no"]}),(0,t.jsxs)("div",{children:["volume present: ",null!=u?"yes":"no"]}),(0,t.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:["technical indicators:"," ",H.length>0?H.map(e=>`${e.key}:${e.length}`).join(" , "):"none"]})]})]}):null,!e&&(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"å°šæœªé¸å–è‚¡ç¥¨æˆ–è³‡æ–™ä¸è¶³ï¼ŒAI åˆ†æå°‡æ–¼è³‡æ–™æä¾›å¾Œè‡ªå‹•åŸ·è¡Œã€‚"}),v&&(0,t.jsx)("div",{className:"py-6 text-center",children:(0,t.jsxs)("div",{className:"inline-flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("svg",{className:"animate-spin h-7 w-7",style:{animationDuration:"900ms"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"gradSpinner",x1:"0",x2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#656565ff"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#3c3c3cff"})]})}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"rgba(0,0,0,0.08)",strokeWidth:"3.5",fill:"none"}),(0,t.jsx)("path",{d:"M22 12a10 10 0 00-10-10",stroke:"url(#gradSpinner)",strokeWidth:"3.5",strokeLinecap:"round",fill:"none"})]})}),(0,t.jsx)("span",{className:"text-gray-700",children:"æ­£åœ¨é€£æ¥è‡³ AI æ¨¡å‹â€¦"})]})}),N&&(0,t.jsxs)("div",{className:"text-sm text-red-600 space-y-2",children:[(0,t.jsxs)("div",{children:["åˆ†æå¤±æ•—ï¼š",N]}),(0,t.jsx)("div",{className:"flex space-x-2 mt-2",children:(0,t.jsxs)("button",{onClick:z,className:"flex items-center px-3 py-1 bg-gray-100 rounded-md text-sm hover:bg-gray-200 border",children:[(0,t.jsx)(s.ArrowPathIcon,{className:"h-4 w-4 mr-2 text-gray-600"}),(0,t.jsx)("span",{children:"é‡è©¦"})]})})]}),x&&!v&&!N&&(0,t.jsxs)("div",{className:"prose max-w-full text-gray-800 leading-relaxed space-y-4",role:"status","aria-live":"polite","aria-atomic":"false",children:[(0,t.jsx)(X.default,{remarkPlugins:[Q.default],rehypePlugins:[ee.default],components:{p:({children:e})=>(0,t.jsx)("p",{className:"mb-3 leading-relaxed text-md text-gray-800",children:e}),h1:({children:e})=>(0,t.jsx)("h1",{className:"text-2xl font-semibold my-3",children:e}),h2:({children:e})=>(0,t.jsx)("h2",{className:"text-xl font-semibold my-3",children:e}),h3:({children:e})=>(0,t.jsx)("h3",{className:"text-lg font-semibold my-2",children:e}),ul:({children:e})=>(0,t.jsx)("ul",{className:"list-disc ml-6 space-y-1 mb-3",children:e}),ol:({children:e})=>(0,t.jsx)("ol",{className:"list-decimal ml-6 space-y-1 mb-3",children:e}),blockquote:({children:e})=>(0,t.jsx)("blockquote",{className:"border-l-4 pl-4 italic text-gray-600 my-3",children:e}),code:e=>{let{inline:r,className:a,children:n}=e;return r?(0,t.jsx)("code",{className:"bg-gray-100 px-1 rounded text-sm",children:n}):(0,t.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded overflow-auto text-sm my-3",children:(0,t.jsx)("code",{className:a,children:n})})},table:({children:e})=>(0,t.jsx)("div",{className:"overflow-auto rounded-md border border-gray-100 my-4",children:(0,t.jsx)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:e})}),hr:()=>(0,t.jsx)("hr",{className:"border-t border-gray-200 my-6"}),thead:({children:e})=>(0,t.jsx)("thead",{className:"bg-gray-50",children:e}),tbody:({children:e})=>(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:e}),tr:({children:e})=>(0,t.jsx)("tr",{className:"hover:bg-gray-50",children:e}),th:({children:e})=>(0,t.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e}),td:({children:e})=>(0,t.jsx)("td",{className:"px-4 py-3 align-top whitespace-normal text-sm",children:e})},children:x}),j&&(0,t.jsxs)("div",{className:"flex items-center justify-end mt-3 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex space-x-1 mr-2",children:[(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"100ms"}}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"200ms"}})]}),(0,t.jsx)("span",{children:"æ­£åœ¨æ¥æ”¶æ›´å¤šå…§å®¹"})]})]}),E&&C&&(0,t.jsx)("pre",{className:"mt-3 p-3 bg-gray-50 rounded text-xs text-gray-600 overflow-auto max-h-48",children:C}),(0,t.jsx)("div",{className:"mt-4 text-xs text-gray-400",children:"æç¤ºï¼šAI å›è¦†åƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°ã€‚è«‹è‡ªè¡Œåˆ¤æ–·ä¸¦æ‰¿æ“”é¢¨éšªã€‚"})]})}var er=e.i(83721),ea=e.i(80240);let en=[{key:"chart",label:"åœ–è¡¨",icon:(0,t.jsx)(b.ChartBarIcon,{className:"h-5 w-5 inline-block align-text-bottom"})},{key:"table",label:"æ•¸æ“š",icon:(0,t.jsx)(k,{className:"h-5 w-5 inline-block align-text-bottom"})}];e.s(["default",0,()=>{let[e,n]=(0,r.useState)({symbol:"",market:"market_stock_tw"}),[l,i]=(0,r.useState)("chart"),[o,s]=(0,r.useState)("1d"),[c,d]=(0,r.useState)("1Y"),{data:u,loading:y,error:g,stats:h,candlestickData:x,technicalData:b,refetch:v,clearError:w}=((e,t,a)=>{let[n,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),d=(0,r.useRef)(e);(0,r.useEffect)(()=>{d.current=e},[e]);let u=(0,r.useCallback)(async()=>{if(!e.trim())return;o(!0),c(null);let r=P[t].table,n=`
      SELECT
        symbol, datetime, open_price, high_price, low_price, close_price, volume,
        rsi_5, rsi_7, rsi_10, rsi_14, rsi_21,
        dif, macd, macd_histogram,
        rsv, k_value, d_value, j_value,
        ma5, ma10, ma20, ma60, ema12, ema26,
        bb_upper, bb_middle, bb_lower,
        atr, cci, willr, mom, pattern_signals
      FROM [${a}].[dbo].[${r}]
      WHERE symbol = @symbol
      ORDER BY datetime DESC
    `;try{let t=await fetch("/api/database/execute-query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:{database:a},query:n.trim(),params:{symbol:e.toUpperCase()}})});if(d.current!==e)return;if(!t.ok)throw Error(`æŸ¥è©¢å¤±æ•—: ${t.status}`);let r=await t.json();if(r.success)l(r.data||[]),r.data&&0!==r.data.length||c("æŸ¥ç„¡è³‡æ–™");else throw l([]),Error(r.error||"æŸ¥è©¢å¤±æ•—")}catch(t){if(d.current!==e)return;l([]),c(t instanceof Error?t.message:"æœªçŸ¥éŒ¯èª¤")}finally{d.current===e&&o(!1)}},[e,t,a]);(0,r.useEffect)(()=>{l([]),c(null),u()},[e,t,a,u]);let m=(0,r.useMemo)(()=>n.length?n.slice().reverse().filter(e=>void 0!==e.open_price&&void 0!==e.high_price&&void 0!==e.low_price&&void 0!==e.close_price&&e.datetime).map(e=>({date:e.datetime,open:Number(e.open_price),high:Number(e.high_price),low:Number(e.low_price),close:Number(e.close_price),volume:e.volume?Number(e.volume):void 0})):[],[n]),p=(0,r.useMemo)(()=>{if(!n.length)return;let e=n.slice().reverse(),t={};return["rsi_5","rsi_7","rsi_10","rsi_14","rsi_21","dif","macd","macd_histogram","k_value","d_value","j_value","ma5","ma10","ma20","ma60","ema12","ema26","bb_upper","bb_middle","bb_lower","atr","cci","willr","mom","pattern_signals"].forEach(r=>{let a=e.map(e=>{let t=e[r];return null==t||isNaN(Number(t))?null:Number(t)}).filter(e=>null!==e);a.length>0&&(t[r]=a)}),t},[n]),y=(0,r.useMemo)(()=>{if(!m.length||!n.length)return null;let e=m[m.length-1],t=n[0],r=m.length>1?m[m.length-2]:e,a=e.close-r.close,l=a/r.close*100;return{latest:e.close,change:a,changePercent:l,isRising:a>=0,high:e.high,low:e.low,volume:e.volume,open_price:e.open,open:e.open,datetime:t?.datetime||e.date}},[m,n]);return{data:n,loading:i,error:s,stats:y,candlestickData:m,technicalData:p,refetch:(0,r.useCallback)(()=>{u()},[u]),clearError:(0,r.useCallback)(()=>{c(null)},[])}})(e.symbol,o,e.market),k=(0,r.useCallback)(e=>{n(t=>({...t,symbol:e}))},[]),N=(0,r.useCallback)(e=>{n(t=>({...t,market:e}))},[]),_=(0,r.useCallback)((e,t)=>{n({symbol:e,market:t})},[]),C=(0,r.useCallback)(e=>{s(e)},[]),S=(0,r.useCallback)(e=>{d(e)},[]),M=(0,r.useMemo)(()=>x?.slice(-1)[0],[x]),T=(0,r.useCallback)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{data:u,loading:y,error:g,symbol:e.symbol,timeframe:o,market:e.market}),(0,t.jsx)(W,{technicalData:b,symbol:e.symbol,timeframe:o,open_price:M?.open,high_price:M?.high,low_price:M?.low,close_price:M?.close,volume:M?.volume,loading:y,candlestickData:x}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(et,{model:"FinCoach",data:M,symbol:e.symbol,timeframe:o,open_price:M?.open,high_price:M?.high,low_price:M?.low,close_price:M?.close,volume:M?.volume,technicalData:b,candlestickData:x,nCandles:30,debug:!1})})]}),[M,x,b,e.symbol,o,y,e.market,u,g]),E=(0,r.useCallback)(()=>{if(y)return(0,t.jsx)($,{});if(g)return(0,t.jsx)(D,{error:g,onRetry:v,onClear:w});if(!u||0===u.length)return(0,t.jsx)(A,{onQuickSelect:k});switch(l){case"chart":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{data:x,technicalData:b,symbol:e.symbol,timeframe:o}),T()]});case"table":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O,{data:u,timeframe:o,symbol:e.symbol}),T()]});default:return null}},[y,g,u,l,x,b,e.symbol,o,v,w,k,T]),R=p.ArrowTrendingUpIcon;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea.default,{icon:R,title:"æŠ€è¡“åˆ†æ",subtitle:"æ·±å…¥æ´å¯Ÿå¸‚å ´è¶¨å‹¢",description:"æä¾›å®Œæ•´çš„æŠ€è¡“åˆ†æå·¥å…·ï¼ŒåŠ©æ‚¨æ´å¯Ÿå¸‚å ´è¶¨å‹¢ï¼Œåšå‡ºæ˜æ™ºçš„æŠ•è³‡æ±ºç­–",panelTitle:"FinCoach",panelSubtitle:"æŠ•è³‡å¿ƒæ•™ç·´"}),(0,t.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,t.jsx)(m,{symbol:e.symbol,onSymbolChange:k,timeframe:o,onTimeframeChange:C,loading:y,dataPeriod:c,onDataPeriodChange:S,market:e.market,onMarketChange:N,onSymbolAndMarketChange:_})}),u&&u.length>0&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:(0,t.jsx)("div",{className:"flex space-x-1",children:en.map(e=>(0,t.jsxs)(a.motion.button,{onClick:()=>i(e.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${l===e.key?"bg-gray-900 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.key))})})}),h&&u&&u.length>0&&!y&&!g?(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,t.jsx)(f,{symbol:e.symbol,stats:h,timeframe:o})}):null,E()]})}),(0,t.jsx)(er.default,{})]})}],26958)},36829,(e,t,r)=>{let a="/market-analysis/stock-query";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(26958)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})}]);