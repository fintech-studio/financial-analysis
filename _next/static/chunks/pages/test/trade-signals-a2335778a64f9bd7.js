(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{454:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test/trade-signals",function(){return r(8182)}])},8182:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(7876),o=r(4232);let s=()=>{let[e,t]=(0,o.useState)(""),[r,s]=(0,o.useState)(!1),[a,i]=(0,o.useState)(""),l=(0,o.useRef)(null),[d,c]=(0,o.useState)(""),u=(0,o.useRef)(null),[x,g]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[a]),(0,n.jsxs)("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[(0,n.jsxs)("button",{type:"button",className:"mb-6 px-4 py-2 bg-white hover:bg-indigo-50 text-indigo-600 border border-indigo-200 rounded-lg text-base font-semibold shadow-sm flex items-center gap-2 transition-all duration-200",onClick:()=>window.history.back(),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"返回上一頁"]}),(0,n.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center flex items-center justify-center gap-2",children:"進階交易訊號分析"}),(0,n.jsx)("p",{className:"text-center text-gray-500 mb-6",children:"只先做台股而已\uD83D\uDCA4"}),(0,n.jsxs)("form",{className:"flex flex-col sm:flex-row gap-2 mb-4 items-center justify-center",onSubmit:t=>{t.preventDefault(),!r&&e&&(()=>{s(!0),i(""),c(""),l.current&&l.current.close();let t=new EventSource("/api/test/trade-signals?symbol=".concat(encodeURIComponent(e)));l.current=t,t.onmessage=e=>{i(t=>t+(t?"\n":"")+e.data)},t.addEventListener("end",()=>{s(!1),t.close()}),t.onerror=()=>{c("串流連線失敗或中斷"),s(!1),t.close()}})()},children:[(0,n.jsx)("input",{type:"text",className:"flex-1 border-2 border-indigo-200 rounded-lg px-4 py-2 text-lg focus:ring-2 focus:ring-indigo-400 outline-none shadow-sm transition-all duration-200 min-w-[180px]",placeholder:"請輸入股票代號 (如 2330)",value:e,onChange:e=>t(e.target.value.replace(/[^0-9A-Za-z]/g,"")),disabled:r,maxLength:10,autoFocus:!0}),(0,n.jsx)("button",{type:"submit",className:"w-32 px-5 py-2 bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 text-white rounded-lg text-lg font-semibold disabled:opacity-60 text-center shadow-md transition-all duration-200",disabled:!e||r,children:r?(0,n.jsx)("span",{className:"flex items-center gap-2 justify-center",children:"分析中..."}):"分析"})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("button",{type:"button",className:"mb-2 px-4 py-1 rounded text-sm font-medium transition-all duration-200 border flex items-center gap-1 ".concat(x?"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300":"bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border-indigo-200"),onClick:()=>g(e=>!e),"aria-expanded":x,children:[(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(x?"rotate-90":"rotate-0"),fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),x?"隱藏命令輸出":"顯示命令輸出"]})}),d&&(0,n.jsx)("div",{className:"text-red-500 mb-2",children:d}),(0,n.jsx)("div",{className:"transition-all duration-500 overflow-hidden mt-4 rounded-lg shadow-inner border border-gray-200 bg-gray-50 ".concat(x?"":"ring-0"),style:{maxHeight:520*!!x,opacity:+!!x},children:(0,n.jsx)("pre",{ref:u,className:"bg-gray-900 text-green-200 rounded-lg p-4 whitespace-pre-wrap text-sm max-h-[500px] overflow-auto font-mono border border-gray-700 w-full min-w-[320px]",style:{minHeight:120},children:a||(r?"分析即將開始...":"請輸入股票代號並點擊分析")})}),(0,n.jsxs)("div",{className:"mt-10 p-6 bg-gradient-to-br from-indigo-50 to-white rounded-2xl shadow-lg border border-indigo-100",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold mb-4 text-indigo-700 flex items-center gap-2",children:[(0,n.jsx)("span",{role:"img","aria-label":"advanced",children:"\uD83E\uDDE0"}),"進階交易訊號分析面板"]}),(0,n.jsx)("div",{className:"text-gray-600",children:(0,n.jsx)("p",{className:"italic text-indigo-400",children:"（預留：未來可在此顯示更詳細的交易訊號分析結果、圖表或互動元件）"})})]})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=454)),_N_E=e.O()}]);