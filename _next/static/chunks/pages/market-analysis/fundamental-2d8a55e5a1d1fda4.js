(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{2916:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var s=i(7876),l=i(4232);let n=[{key:"oil",label:"石油 (WTI)",endpoint:"/api/fundamentals/oil"},{key:"gold",label:"黃金 (Gold)",endpoint:"/api/fundamentals/gold"},{key:"cpi",label:"CPI",endpoint:"/api/fundamentals/cpi"},{key:"nfp",label:"NFP (非農就業)",endpoint:"/api/fundamentals/nfp"}],r=e=>{let{data:t,width:i=520,height:l=160}=e;if(!t||0===t.length)return(0,s.jsx)("div",{style:{color:"#666"},children:"無資料"});let n=t.map(e=>e.value),r=Math.max(...n),d=Math.min(...n),o=i-16,a=l-16,c=t.map((e,i)=>{let s=8+i/(t.length-1)*o,l=8+(r-e.value)/(r-d||1)*a;return"".concat(s,",").concat(l)});return(0,s.jsxs)("svg",{width:i,height:l,style:{background:"#fff",borderRadius:6},children:[(0,s.jsx)("polyline",{fill:"none",stroke:"#2563eb",strokeWidth:2,points:c.join(" ")}),t.map((e,t)=>{let[i,l]=c[t].split(",");return(0,s.jsx)("circle",{cx:Number(i),cy:Number(l),r:2.5,fill:"#1f2937"},t)})]})};function d(e){if(!e||e.length<5)return{status:"中性",score:1};let t=e.slice(-30),i=t.map(e=>e.value),s=i.length,l=i.reduce((e,t)=>e+t,0)/s,n=Math.sqrt(i.reduce((e,t)=>e+(t-l)**2,0)/s)||1,r=(i[i.length-1]-l)/n,d=t.map((e,t)=>t),o=(s-1)/2,a=d.reduce((e,t,s)=>e+(t-o)*(i[s]-l),0)/(d.reduce((e,t)=>e+(t-o)**2,0)||1);return r>.6||a>.002*Math.abs(l)?{status:"偏強",score:2}:r<-.6||a<-(.002*Math.abs(l))?{status:"偏弱",score:0}:{status:"中性",score:1}}function o(){var e;let[t,i]=(0,l.useState)("oil"),[o,a]=(0,l.useState)({}),[c,h]=(0,l.useState)({}),[u,f]=(0,l.useState)(null);async function x(e){let t=n.find(t=>t.key===e);if(t){f(null),a(t=>({...t,[e]:!0}));try{let i=await fetch(t.endpoint);if(!i.ok)throw Error("HTTP ".concat(i.status));let s=await i.json();h(t=>({...t,[e]:s}))}catch(e){f(e instanceof Error?e.message:"載入失敗")}finally{a(t=>({...t,[e]:!1}))}}}(0,l.useEffect)(()=>{n.forEach(e=>x(e.key))},[]);let p=function(){let e=[];n.forEach(t=>{let i=d(c[t.key]||[]);e.push({key:t.key,status:i.status,score:i.score})});let t=Math.round(e.reduce((e,t)=>e+t.score,0)/e.length/2*100),i=e.filter(e=>"偏強"===e.status).length,s=e.filter(e=>"偏弱"===e.status).length;return{index:t,results:e,conclusion:i>=3?"整體偏強 — 基本面支持風險資產表現。":s>=3?"整體偏弱 — 市場基本面偏保守，注意風險。":"中性 — 基本面呈現混合訊號，建議配合技術面與資金面確認。"}}();return(0,s.jsxs)("div",{style:{padding:20,fontFamily:"Segoe UI, Roboto, Arial"},children:[(0,s.jsx)("h2",{children:"基本面分析 — 綜合指標"}),(0,s.jsx)("div",{style:{padding:16,marginBottom:16,background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:0,color:"#1e293b"},children:"基本面綜合指數"}),(0,s.jsx)("p",{style:{margin:"4px 0 0 0",color:"#64748b",fontSize:14},children:p.conclusion})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{style:{fontSize:32,fontWeight:"bold",color:p.index>=70?"#059669":p.index<=30?"#dc2626":"#6b7280"},children:p.index}),(0,s.jsx)("div",{style:{fontSize:12,color:"#9ca3af"},children:"0-100"})]})]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:16,marginBottom:12},children:[(0,s.jsxs)("div",{style:{padding:12,border:"1px solid #eee",borderRadius:8,minWidth:320},children:[(0,s.jsx)("div",{style:{fontSize:13,color:"#666"},children:"基本面各項現況"}),(0,s.jsx)("div",{style:{marginTop:10,display:"flex",flexDirection:"column",gap:10},children:n.map(e=>{let t=c[e.key]||[],i=d(t),l=t.length?t[t.length-1].value:"—",n=t.length?t[t.length-1].date:"";return(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:6,background:"#fff",border:"1px solid #f3f4f6"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:14,fontWeight:600},children:e.label}),(0,s.jsxs)("div",{style:{fontSize:12,color:"#666",marginTop:4},children:["最近數值：",(0,s.jsx)("span",{style:{fontWeight:700,color:"#111"},children:l}),n?(0,s.jsxs)("span",{style:{marginLeft:8,color:"#999",fontSize:11},children:["(",n,")"]}):null]})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{style:{color:"偏強"===i.status?"#047857":"偏弱"===i.status?"#dc2626":"#666",fontWeight:700,fontSize:14},children:i.status}),(0,s.jsxs)("div",{style:{fontSize:12,color:"#999"},children:["score: ",i.score]})]})]},e.key)})}),(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsx)("button",{onClick:()=>{n.forEach(e=>x(e.key))},style:{marginTop:10,padding:"8px 10px"},children:"重新抓取資料"})})]}),(0,s.jsxs)("div",{style:{flex:1,padding:12,border:"1px solid #eee",borderRadius:8},children:[(0,s.jsx)("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:8},children:n.map(e=>{let l=d(c[e.key]||[]);return(0,s.jsxs)("button",{onClick:()=>i(e.key),style:{padding:"6px 10px",borderRadius:6,border:t===e.key?"2px solid #2563eb":"1px solid #ddd",background:"#fff"},children:[(0,s.jsx)("div",{style:{fontSize:13},children:e.label}),(0,s.jsx)("div",{style:{fontSize:12,color:"偏強"===l.status?"#047857":"偏弱"===l.status?"#dc2626":"#666"},children:l.status})]},e.key)})}),(0,s.jsxs)("div",{style:{borderTop:"1px solid #f0f0f0",paddingTop:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h3",{style:{margin:0},children:null==(e=n.find(e=>e.key===t))?void 0:e.label}),(0,s.jsxs)("div",{style:{fontSize:13,color:"#666"},children:[(0,s.jsx)("button",{onClick:()=>x(t),style:{padding:"6px 10px",marginRight:8},children:"重新載入"}),(0,s.jsx)("span",{children:o[t]?"載入中...":"資料點數：".concat((c[t]||[]).length)})]})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[u&&(0,s.jsx)("div",{style:{color:"crimson"},children:u}),(0,s.jsx)(r,{data:c[t]||[]})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"近期判斷"}),(0,s.jsx)("div",{style:{color:"#444",marginTop:6},children:(()=>{var e;let i=d(c[t]||[]);return"".concat(null==(e=n.find(e=>e.key===t))?void 0:e.label,"：").concat(i.status,"（數據點 ").concat((c[t]||[]).length,"）")})()})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"建議"}),(0,s.jsx)("div",{style:{color:"#666",fontSize:13,marginTop:6},children:(()=>{let e=d(c[t]||[]).status;switch(t){case"cpi":if("偏強"===e)return"CPI 偏強：通膨壓力升高，央行可能偏向收緊貨幣政策。後果可能包含利率上行、債券價格承壓與美元走強。建議：減少利率敏感與高槓桿部位、關注能源與食品等輸入性通膨來源。";if("偏弱"===e)return"CPI 偏弱：物價壓力趨緩，貨幣政策可能維持寬鬆或放緩升息。後果可能包含債券收益率下降與風險資產表現改善。建議：關注成長型資產與消費類表現，並留意就業與薪資數據。";return"CPI 中性：物價走勢穩定，短期對資產配置影響有限。建議：維持分散配置，觀察後續數據與核心通膨趨勢。";case"nfp":if("偏強"===e)return"NFP 偏強：就業與薪資動能佳，短期可能加速升息節奏，推升利率與美元。建議：檢視利率敏感資產（如長債、房地產）風險，並留意薪資成長是否推升核心通膨。";if("偏弱"===e)return"NFP 偏弱：就業疲弱，可能降低升息壓力或促成寬鬆政策，利好債市與部分風險資產。建議：關注失業率、勞動參與率與薪資趨勢，留意消費性支出變化。";return"NFP 中性：就業數據無明顯方向，建議以薪資與勞動參與率等補充指標做進一步判斷。";case"oil":if("偏強"===e)return"石油偏強：油價上升可能推升輸入性通膨並利好能源股，但會增加企業與消費者成本。建議：評估上游能源曝險與消費品成本壓力，關注地緣政治與供需變化。";if("偏弱"===e)return"石油偏弱：油價下跌有助於緩解通膨與降低企業成本，利好消費類股但壓抑能源股。建議：關注下游消費與運輸成本改善的產業機會。";return"石油中性：油價波動有限，短期對通膨影響較小。建議：以供需與地緣事件為重點監控。";case"gold":if("偏強"===e)return"黃金偏強：可能反映避險需求上升或實質利率下降，對通膨與市場風險情緒敏感。建議：考慮適度保值配置並留意美元與利率走勢。";if("偏弱"===e)return"黃金偏弱：避險需求減少或利率上行，對黃金不利。建議：關注美元強弱與實質利率變動，調整貴金屬曝險。";return"黃金中性：市場對風險與通膨預期平衡，建議以事件驅動調整倉位。";default:return"建議：以上為自動化簡單評估結果，請搭配技術面與其他基本面指標進行綜合判斷。"}})()})]})]})]})]}),(0,s.jsxs)("section",{style:{borderTop:"1px solid #f0f0f0",paddingTop:12},children:[(0,s.jsx)("h4",{children:"各指標詳情"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(240px,1fr))",gap:12},children:n.map(e=>{let t=c[e.key]||[],l=d(t);return(0,s.jsxs)("div",{style:{border:"1px solid #eee",borderRadius:8,padding:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.label}),(0,s.jsx)("div",{style:{fontSize:12,color:"#666"},children:t.length?"".concat(t.length," 筆資料"):"尚無資料"})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{style:{color:"偏強"===l.status?"#047857":"偏弱"===l.status?"#b91c1c":"#666",fontWeight:700},children:l.status}),(0,s.jsxs)("div",{style:{fontSize:12,color:"#999"},children:["score: ",l.score]})]})]}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)(r,{data:t,width:300,height:100})}),(0,s.jsxs)("div",{style:{marginTop:8,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:()=>x(e.key),style:{padding:"6px 8px"},children:"重新載入"}),(0,s.jsx)("button",{onClick:()=>i(e.key),style:{padding:"6px 8px"},children:"查看"})]})]},e.key)})})]})]})}},3016:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/market-analysis/fundamental",function(){return i(2916)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=3016)),_N_E=e.O()}]);