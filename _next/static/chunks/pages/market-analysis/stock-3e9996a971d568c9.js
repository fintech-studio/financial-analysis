(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{2594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>es});var a=t(7876),l=t(4232),r=t(8787),n=t(7043),i=t(1047),c=t(1539),d=t(7802),o=t(9414),m=t(610);let x={history:[{date:"2025-05-15T09:30:00",value:17650},{date:"2025-05-15T10:30:00",value:17680},{date:"2025-05-15T11:30:00",value:17720},{date:"2025-05-15T13:30:00",value:17750},{date:"2025-05-15T14:30:00",value:17710},{date:"2025-05-16T09:30:00",value:17730},{date:"2025-05-16T10:30:00",value:17760},{date:"2025-05-16T11:30:00",value:17740},{date:"2025-05-16T13:30:00",value:17770},{date:"2025-05-16T14:30:00",value:17790},{date:"2025-05-19T09:30:00",value:17810},{date:"2025-05-19T10:30:00",value:17850},{date:"2025-05-19T11:30:00",value:17880},{date:"2025-05-19T13:30:00",value:17920},{date:"2025-05-19T14:30:00",value:17950},{date:"2025-05-20T09:30:00",value:17930},{date:"2025-05-20T10:30:00",value:17960},{date:"2025-05-20T11:30:00",value:18010},{date:"2025-05-20T13:30:00",value:18050},{date:"2025-05-20T14:30:00",value:18080},{date:"2025-05-21T09:30:00",value:18120},{date:"2025-05-21T10:30:00",value:18150},{date:"2025-05-21T11:30:00",value:18190},{date:"2025-05-21T13:30:00",value:18210},{date:"2025-05-21T14:30:00",value:18250},{date:"2025-05-22T09:30:00",value:18280},{date:"2025-05-22T10:30:00",value:18320},{date:"2025-05-22T11:30:00",value:18290},{date:"2025-05-22T13:30:00",value:18310}],indices:[{name:"加權指數",value:"18,310.25",change:"+60.35",percentChange:"+0.33%"},{name:"電子類指數",value:"22,876.14",change:"+155.72",percentChange:"+0.69%"},{name:"金融類指數",value:"1,362.48",change:"-3.26",percentChange:"-0.24%"}],indicators:[{name:"成交量(億)",value:"3,542.6",trend:"up"},{name:"漲跌家數",value:"537:352",trend:"up"},{name:"美元/台幣",value:"31.42",trend:"down"},{name:"十年期殖利率",value:"1.85%",trend:"up"}],sentiment:{overall:65,bullish:58,bearish:22,neutral:20,change:5.2},insights:[{content:"半導體供應鏈看好AI運算需求持續增長，台積電、聯發科等晶片相關股票有望延續漲勢",sentiment:"正面"},{content:"美國Fed官員表示可能在今年第四季開始降息，市場樂觀情緒回升",sentiment:"正面"},{content:"中國房地產市場持續疲軟，可能影響相關原物料與建材產業",sentiment:"負面"}],hotStocks:[{id:"1",code:"2330",name:"台積電",price:726,change:15,changePercent:2.11,volume:5268e4,recommendation:"買入"},{id:"2",code:"2454",name:"聯發科",price:1175,change:25,changePercent:2.18,volume:8521e3},{id:"3",code:"2382",name:"廣達",price:298.5,change:9.5,changePercent:3.29,volume:12463e3},{id:"4",code:"2308",name:"台達電",price:356,change:4,changePercent:1.14,volume:7256e3},{id:"5",code:"2881",name:"富邦金",price:78.5,change:-.8,changePercent:-1.01,volume:1582e4}],activeStocks:[{id:"1",code:"2603",name:"長榮",price:182,change:6.5,changePercent:3.71,volume:6852e4},{id:"2",code:"2330",name:"台積電",price:726,change:15,changePercent:2.11,volume:5268e4},{id:"3",code:"2317",name:"鴻海",price:122,change:2.5,changePercent:2.09,volume:4573e4},{id:"4",code:"2881",name:"富邦金",price:78.5,change:-.8,changePercent:-1.01,volume:1582e4},{id:"5",code:"2382",name:"廣達",price:298.5,change:9.5,changePercent:3.29,volume:12463e3}],recommendedStocks:[{id:"1",code:"2330",name:"台積電",price:726,change:15,changePercent:2.11,volume:5268e4,recommendation:"買入",highlight:!0},{id:"2",code:"2454",name:"聯發科",price:1175,change:25,changePercent:2.18,volume:8521e3,recommendation:"買入"},{id:"3",code:"2412",name:"中華電",price:126.5,change:1,changePercent:.8,volume:623e4,recommendation:"買入"},{id:"4",code:"2308",name:"台達電",price:356,change:4,changePercent:1.14,volume:7256e3,recommendation:"買入"},{id:"5",code:"1301",name:"台塑",price:76,change:-.5,changePercent:-.65,volume:892e4,recommendation:"持有"}],latestNews:[{id:"1",title:"台積電3奈米製程需求強勁，Q3營收有望再創新高",source:"經濟日報",publishedAt:"2025-05-22T08:30:00",summary:"台積電表示，隨著AI晶片需求持續成長，3奈米製程產能已預訂至明年Q2，有望帶動Q3營收再創新高。",url:"/news/1",sentiment:"positive",related:{stocks:["2330"]}},{id:"2",title:"央行理監事會議明召開，市場預期利率將維持不變",source:"中央社",publishedAt:"2025-05-22T07:15:00",summary:"央行第二季理監事會議明日召開，市場普遍預期央行將按兵不動，維持利率不變，關注對通膨看法與下半年經濟展望。",url:"/news/2",sentiment:"neutral"},{id:"3",title:"蘋果供應鏈傳出最新iPhone產量提升，鴻海、立訊等供應商股價大漲",source:"工商時報",publishedAt:"2025-05-22T06:40:00",url:"/news/3",sentiment:"positive",related:{stocks:["2317","4938"]}},{id:"4",title:"國際油價再創新高，航空股承壓走弱",source:"財經網",publishedAt:"2025-05-21T16:10:00",url:"/news/4",sentiment:"negative",related:{stocks:["2610","2618"]}},{id:"5",title:"金管會宣布開放數位資產交易平台執照申請，金融科技概念股受關注",source:"財訊",publishedAt:"2025-05-21T14:25:00",url:"/news/5",sentiment:"positive"}],sectorPerformance:[{name:"半導體",performance:3.72},{name:"AI與雲端運算",performance:4.15},{name:"電子零組件",performance:2.26},{name:"金融保險",performance:-.55},{name:"航運",performance:3.42},{name:"鋼鐵",performance:.86},{name:"生技醫療",performance:1.24},{name:"傳產製造",performance:.32},{name:"百貨零售",performance:-.18},{name:"建築營建",performance:-1.24}],stock:{index:"17,935",change:"+125",changePercent:"+0.70%",trend:"上漲",volume:"2,835億",highlights:"科技股帶動大盤上漲，AI概念股表現強勁"},crypto:{btc:"65,280",change:"+1,250",changePercent:"+1.95%",volume:"485億",dominance:"52.3%",highlights:"比特幣突破65,000美元，機構投資需求增加"},forex:{usdtwd:"31.42",change:"-0.15",changePercent:"-0.48%",trend:"下跌",volume:"12.6億美元",highlights:"美元走弱，台幣升值創近期新高"},stockDetails:[{symbol:"2330",name:"台積電",price:580,change:"+1.8%",volume:"35,862",marketCap:"15.1兆",pe:"25.4",pb:"6.8",dividendYield:"1.8%",high52w:"630.00",low52w:"510.00",open:"573.00",high:"582.00",low:"571.00",priceHistory:[530,545,560,575,568,580]},{symbol:"2317",name:"鴻海",price:105.5,change:"-1.2%",volume:"42,356",marketCap:"1.46兆",pe:"10.2",dividendYield:"3.8%",high52w:"128.50",low52w:"95.70"},{symbol:"2454",name:"聯發科",price:920,change:"+0.5%",volume:"12,654",marketCap:"7,286億",pe:"18.6",dividendYield:"2.3%",high52w:"1,080.00",low52w:"740.00"}],technicalScreener:{bullish:[{symbol:"2330",name:"台積電",confidence:"87%",price:"580.00",formation:"3日內",target:"645"},{symbol:"2454",name:"聯發科",confidence:"79%",price:"920.00",formation:"5日內",target:"980"}],bearish:[{symbol:"2317",name:"鴻海",confidence:"81%",price:"105.50",formation:"2日內",target:"95.00"},{symbol:"2353",name:"宏碁",confidence:"74%",price:"28.05",formation:"昨日",target:"26.20"}]},trendingStocks:[{symbol:"2330",name:"台積電",price:"580.00",change:"+1.8%",discussions:328,sentiment:"正面",buzzScore:92,keywords:["財報","先進製程","AI晶片"]},{symbol:"2603",name:"長榮",price:"172.00",change:"+3.6%",discussions:256,sentiment:"正面",buzzScore:87,keywords:["貨櫃","運價","航運股"]}]},h=[{title:"技術分析",description:"K線、均線與技術指標分析",icon:r.A,color:"text-blue-600",bgColor:"bg-blue-100",href:"/market-analysis/technical",data:{status:"多頭排列",changePercent:"+2.5%"}},{title:"基本面分析",description:"財報、獲利能力與成長性評估",icon:d.A,color:"text-green-600",bgColor:"bg-green-100",href:"/market-analysis/fundamental",data:{status:"穩健成長",changePercent:"+1.8%"}},{title:"籌碼分析",description:"法人動向、融資融券與內部人交易",icon:o.A,color:"text-purple-600",bgColor:"bg-purple-100",href:"/market-analysis/chip",data:{status:"外資買超",changePercent:"+3.2%"}},{title:"產業分析",description:"產業趨勢、競爭格局與市場佔有率",icon:m.A,color:"text-orange-600",bgColor:"bg-orange-100",href:"/market-analysis/industry",data:{status:"高成長",changePercent:"+4.5%"}}];class u{static getInstance(){return u.instance||(u.instance=new u),u.instance}async getStock(e){if(this.stocks.has(e))return this.stocks.get(e);let s={symbol:e,name:"2330"===e?"台積電":"股票名稱",price:"580.00",change:"+10.00",changePercent:"+1.75%",open:"570.00",high:"585.00",low:"568.00",volume:"35,862",industry:"半導體",marketCap:"15.05兆",pe:"18.5",dividend:"11.00",chartData:{labels:["09:00","10:00","11:00","12:00","13:00"],prices:[570,575,580,578,580]}};return this.stocks.set(e,s),s}async searchStocks(e){return[await this.getStock("2330"),await this.getStock("2454")].filter(e=>null!==e).filter(s=>s.symbol.includes(e)||s.name.includes(e))}async getMarketData(){return this.marketData={stock:{index:"16,234.56",change:"+123.45",changePercent:"+0.77%",volume:"2.1億",highlights:"台積電領漲科技股"},global:{dow:"34,567.89",change:"+234.56",changePercent:"+0.68%",volume:"3.2億",highlights:"美股持續上漲"},forex:{usdtwd:"31.25",change:"+0.15",changePercent:"+0.48%",volume:"12億",highlights:"台幣相對穩定"}},this.marketData}async getHotStocks(){return(await Promise.all(["2330","2454","2317","3008"].map(e=>this.getStock(e)))).filter(e=>null!==e)}async getStocks(){return[{symbol:"2330",name:"台積電",price:580,change:"+1.75%",changePercent:"+1.75%",open:570,high:585,low:568,volume:35862,industry:"半導體",marketCap:1505e4,pe:18.5,pb:4.2,dividendYield:1.9,high52w:625,low52w:445,priceHistory:[570,575,580,578,580]},{symbol:"2454",name:"聯發科",price:950,change:"+2.15%",changePercent:"+2.15%",open:925,high:955,low:920,volume:28450,industry:"半導體",marketCap:152e4,pe:15.2,pb:3.8,dividendYield:2.1,high52w:1100,low52w:680,priceHistory:[925,930,950,948,950]},{symbol:"2317",name:"鴻海",price:105,change:"-0.95%",changePercent:"-0.95%",open:106,high:107,low:104,volume:45200,industry:"電子",marketCap:146e4,pe:12.8,pb:1.2,dividendYield:4.5,high52w:115,low52w:88,priceHistory:[106,105,105,104,105]}]}constructor(){this.stocks=new Map,this.marketData={}}}class g{static getInstance(){return g.instance||(g.instance=new g),g.instance}async getStock(e){try{let s=await this.stockModel.getStock(e);if(!s)throw Error("找不到股票代號 ".concat(e));return s}catch(e){throw Error("獲取股票資料失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async searchStocks(e){try{if(!e.query||0===e.query.trim().length)throw Error("搜尋關鍵字不能為空");let s=await this.stockModel.searchStocks(e.query);if(e.limit&&e.limit>0)return s.slice(0,e.limit);return s}catch(e){throw Error("股票搜尋失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async getMarketData(e){try{let s=await this.stockModel.getMarketData();switch(e.type){case"stock":return{stock:s.stock};case"global":return{global:s.global};case"forex":return{forex:s.forex};default:return s}}catch(e){throw Error("獲取市場資料失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async getHotStocks(){try{return await this.stockModel.getHotStocks()}catch(e){throw Error("獲取熱門股票失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async getStockPrice(e){try{let s=await this.stockModel.getStock(e.symbol);if(!s)throw Error("找不到股票代號 ".concat(e.symbol));let t=parseFloat(s.price),a=parseFloat(s.change.replace("+","")),l=parseFloat(s.changePercent.replace("%","").replace("+",""));return{symbol:s.symbol,currentPrice:t,change:a,changePercent:l,volume:s.volume,timestamp:new Date().toISOString()}}catch(e){throw Error("獲取股價失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async getStockNews(e){try{let s=await this.stockModel.getStock(e);if(!s)throw Error("找不到股票代號 ".concat(e));return s.news||[{title:"".concat(s.name,"第三季財報超預期"),date:"2024-06-01",source:"經濟日報"},{title:"分析師上調".concat(s.name,"目標價"),date:"2024-05-30",source:"工商時報"}]}catch(e){throw Error("獲取股票新聞失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async addToWatchlist(e,s){try{if(!await this.stockModel.getStock(s))throw Error("找不到股票代號 ".concat(s));return!0}catch(e){throw Error("添加到觀察清單失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async removeFromWatchlist(){try{return!0}catch(e){throw Error("從觀察清單移除失敗: ".concat(e instanceof Error?e.message:"未知錯誤"))}}async getWatchlist(){try{return(await Promise.all(["2330","2454","2317","3008","2882"].map(async e=>await this.stockModel.getStock(e)))).filter(e=>null!==e)}catch(e){throw console.error("Error fetching watchlist:",e),Error("無法獲取關注列表")}}async getStocks(e){try{let s=await this.stockModel.getStocks();if(!e)return s;let t=s;if(e.sector&&"all"!==e.sector&&(t=t.filter(s=>{var t;return null==(t=s.industry)?void 0:t.toLowerCase().includes(String(e.sector).toLowerCase())})),e.search){let s=String(e.search).toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(s)||e.symbol.toLowerCase().includes(s))}return t}catch(e){throw Error("獲取股票列表失敗")}}async getTechnicalAnalysis(){try{return{bullish:[{symbol:"2330",name:"台積電",pattern:"突破阻力線",confidence:85},{symbol:"2454",name:"聯發科",pattern:"黃金交叉",confidence:78}],bearish:[{symbol:"2317",name:"鴻海",pattern:"頭肩頂",confidence:72},{symbol:"3008",name:"大立光",pattern:"死亡交叉",confidence:68}]}}catch(e){throw Error("獲取技術分析失敗")}}async addFavoriteStock(e,s){try{console.log("User ".concat(e," added ").concat(s," to favorites"))}catch(e){throw Error("添加收藏股票失敗")}}async removeFavoriteStock(e,s){try{console.log("User ".concat(e," removed ").concat(s," from favorites"))}catch(e){throw Error("移除收藏股票失敗")}}convertStockForUI(e){return{symbol:e.symbol,name:e.name,price:parseFloat(e.price.replace(/,/g,"")),change:parseFloat(e.change.replace(/[+,]/g,"")),changePercent:parseFloat(e.changePercent.replace(/[+%]/g,"")),volume:e.volume}}constructor(){this.stockModel=u.getInstance()}}var p=t(5598),b=t(6069),j=t(6112),v=t(1562),y=t(8258),f=t(4981),N=t(9363),w=t(3822),k=t(8230),S=t.n(k);let C=e=>parseFloat(e.toString())>0||"string"==typeof e&&e.includes("+")?"text-green-600":0>parseFloat(e.toString())||"string"==typeof e&&e.includes("-")?"text-red-600":"text-gray-600",A=e=>{var s,t;let{module:l}=e,r=l.icon;return(0,a.jsxs)(S(),{href:l.href,className:"group block bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:l.title}),(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(l.bgColor||"bg-blue-100"),children:(0,a.jsx)("div",{className:l.color||"text-blue-500",children:(0,a.jsx)(r,{className:"h-6 w-6"})})})]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l.description})]}),(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-sm font-medium ".concat((e=>e&&(e.includes("多頭")||e.includes("上漲")||e.includes("高成長"))?"text-green-600":e&&(e.includes("下跌")||e.includes("空頭"))?"text-red-600":e&&e.includes("中性")?"text-blue-600":"text-gray-600")(null==(s=l.data)?void 0:s.status)),children:(null==(t=l.data)?void 0:t.status)||"狀態未知"})}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 group-hover:text-blue-600 group-hover:underline flex items-center",children:["前往分析",(0,a.jsx)("svg",{className:"h-4 w-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})})]})},M=e=>{var s,t,l,n,i,c,d,o,m,x,h,u,g,p,b,j,k;let{marketData:S,analysisModules:C}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-orange-500 mr-2"}),"今日市場重點"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"台股加權指數"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:(null==(s=S.stock)?void 0:s.index)||"17,935"}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium ".concat((null==(l=S.stock)||null==(t=l.change)?void 0:t.startsWith("+"))?"text-green-600":"text-red-600"),children:[(null==(n=S.stock)?void 0:n.change)||"+125"," (",(null==(i=S.stock)?void 0:i.changePercent)||"+0.70%",")"]})})]}),(0,a.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,a.jsx)(r.A,{className:"h-8 w-8 text-blue-500"})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-4",children:[(0,a.jsx)("span",{children:"成交量"}),(0,a.jsx)("span",{children:(null==(c=S.stock)?void 0:c.volume)||"2,835億"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-2 border-t pt-2 border-gray-100",children:(null==(d=S.stock)?void 0:d.highlights)||"科技股帶動大盤上漲，AI概念股表現強勁"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"道瓊指數 DJIA"}),(0,a.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:["$",(null==(o=S.global)?void 0:o.dow)||"38,425"]}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[(null==(m=S.global)?void 0:m.change)||"+186"," (",(null==(x=S.global)?void 0:x.changePercent)||"+0.49%",")"]})})]}),(0,a.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,a.jsx)(y.A,{className:"h-8 w-8 text-blue-500"})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-4",children:[(0,a.jsx)("span",{children:"成交量"}),(0,a.jsx)("span",{children:(null==(h=S.global)?void 0:h.volume)||"5.4億"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-2 border-t pt-2 border-gray-100",children:(null==(u=S.global)?void 0:u.highlights)||"科技與金融股表現強勁，市場情緒樂觀"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"美元/新台幣"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:(null==(g=S.forex)?void 0:g.usdtwd)||"31.42"}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-red-600",children:[(null==(p=S.forex)?void 0:p.change)||"-0.15"," (",(null==(b=S.forex)?void 0:b.changePercent)||"-0.48%",")"]})})]}),(0,a.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,a.jsx)(f.A,{className:"h-8 w-8 text-green-500"})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-4",children:[(0,a.jsx)("span",{children:"成交量"}),(0,a.jsx)("span",{children:(null==(j=S.forex)?void 0:j.volume)||"12.6億美元"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-2 border-t pt-2 border-gray-100",children:(null==(k=S.forex)?void 0:k.highlights)||"美元走弱，台幣升值創近期新高"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"熱門股票"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mt-1",children:"台積電 (2330)"}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:"580.00 (+1.8%)"})})]}),(0,a.jsx)("div",{className:"p-2 bg-red-50 rounded-lg",children:(0,a.jsx)(N.A,{className:"h-8 w-8 text-red-500"})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-4",children:[(0,a.jsx)("span",{children:"成交量"}),(0,a.jsx)("span",{children:"35,862張"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-2 border-t pt-2 border-gray-100",children:"台積電AI晶片需求強勁，外資持續買超"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 text-blue-500 mr-2"}),"分析工具"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:(C||[]).map(e=>(0,a.jsx)(A,{module:e},e.title))})]}),(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-purple-500 mr-2",children:"✨"}),"AI 市場見解"]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl shadow-lg overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"flex items-center mb-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"本週市場摘要"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"基於最新數據與趨勢分析"})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-white/60 p-4 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"本週市場呈現震盪格局，科技股表現較強，金融股表現平淡。通膨數據好於預期， 可能支持央行降息預期，適合加碼布局成長股與科技龍頭。加密貨幣市場出現回升跡象， 比特幣站穩65,000美元。"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/60 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"關注焦點"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• 台積電海外擴產進度"}),(0,a.jsx)("li",{children:"• 美國非農就業數據"}),(0,a.jsx)("li",{children:"• 歐洲央行利率決議"})]})]}),(0,a.jsxs)("div",{className:"bg-white/60 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"投資機會"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• AI相關應用產業"}),(0,a.jsx)("li",{children:"• 低估值高股息標的"}),(0,a.jsx)("li",{children:"• 長線布局能源轉型"})]})]}),(0,a.jsxs)("div",{className:"bg-white/60 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"風險提示"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• 地緣政治緊張加劇"}),(0,a.jsx)("li",{children:"• 高估值科技股修正"}),(0,a.jsx)("li",{children:"• 通膨預期反轉風險"})]})]})]})]})]})})]})]})};var P=t(7346),T=t(1594),F=t(8897),E=t(3764),D=t(986);let _=e=>{let{stockDetails:s,favoriteStocks:t,toggleFavoriteStock:l,showComparison:n,setShowComparison:i,toggleCompareStock:c,stockCompare:d,handleSort:o}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"我的關注"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"比較："}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("button",{className:"flex items-center space-x-1 text-sm ".concat(n?"text-blue-600 font-medium":"text-gray-600"," hover:text-blue-600"),onClick:()=>{!n&&0===d.length&&s&&s.length>0&&c(s[0].symbol),i(!n)},children:[(0,a.jsx)(F.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:n?"取消比較":"開始比較"})]})})]})]})}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:n?"選擇":"追蹤"}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsxs)("span",{className:"cursor-pointer flex items-center",onClick:()=>o("symbol"),children:["代號/名稱"," ",(0,a.jsx)(E.A,{className:"h-3 w-3 ml-1"})]})}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsxs)("span",{className:"cursor-pointer flex items-center",onClick:()=>o("price"),children:["股價 ",(0,a.jsx)(E.A,{className:"h-3 w-3 ml-1"})]})}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsxs)("span",{className:"cursor-pointer flex items-center",onClick:()=>o("change"),children:["漲跌 ",(0,a.jsx)(E.A,{className:"h-3 w-3 ml-1"})]})}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"行業"}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"成交量"}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P/E"}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"殖利率"}),(0,a.jsx)("th",{className:"px-5 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:s&&s.map(e=>(0,a.jsxs)("tr",{className:t.includes(e.symbol)?"bg-blue-50":"",children:[(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,a.jsx)("button",{onClick:()=>n?c(e.symbol):l(e.symbol),className:"focus:outline-none",children:n?(0,a.jsx)("div",{className:"h-4 w-4 border rounded-sm ".concat(d.includes(e.symbol)?"bg-blue-500 border-blue-500":"border-gray-300"),children:d.includes(e.symbol)&&(0,a.jsx)("svg",{className:"h-3 w-3 text-white m-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}):t.includes(e.symbol)?(0,a.jsx)(T.A,{className:"h-5 w-5 text-yellow-400"}):(0,a.jsx)(P.A,{className:"h-5 w-5 text-gray-300 hover:text-yellow-400"})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"ml-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.symbol}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.name})]})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.price}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm font-medium ".concat(C(e.change)),children:[e.change," ",e.changePercent&&"(".concat(e.changePercent,")")]})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.industry}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.volume}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.pe}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.dividend||e.dividendYield}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800",children:(0,a.jsx)(r.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800",children:(0,a.jsx)(D.A,{className:"h-4 w-4"})})]})})]},e.symbol))})]}),(!s||0===s.length)&&(0,a.jsx)("div",{className:"py-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"沒有找到股票資料"})})]})]})};var I=t(8418),L=t(4550),z=t(1629),H=t(8408),W=t(1545),Y=t(1134);let B=e=>{let{availableStocks:s}=e,[t,n]=(0,l.useState)([]),[i,c]=(0,l.useState)("1M"),[d,o]=(0,l.useState)(!1),m=(e,s)=>{let t=[],a=e.price;for(let e=s;e>=0;e--){let s=new Date;s.setDate(s.getDate()-e);let l=(Math.random()-.5)*.05;a*=1+l,t.push({date:s.toISOString().split("T")[0],price:a.toFixed(2),change:l})}return t},x=e=>{switch(e){case"1W":return 7;case"1M":default:return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365}},h=()=>{if(0===t.length)return null;let e=x(i),s=[];for(let t=e;t>=0;t--){let e=new Date;e.setDate(e.getDate()-t),s.push(e.toLocaleDateString())}return{labels:s,datasets:t.map((s,t)=>{let a=m(s,e),l=["#3B82F6","#EF4444","#10B981","#F59E0B"];return{label:s.symbol,data:a.map(e=>e.price),borderColor:l[t],backgroundColor:l[t]+"20",borderWidth:2,fill:!1,tension:.1}})}};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(I.A,{className:"h-5 w-5 mr-2"}),"股票比較分析"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"並排比較多支股票的價格表現和技術指標"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"1W",children:"1週"}),(0,a.jsx)("option",{value:"1M",children:"1個月"}),(0,a.jsx)("option",{value:"3M",children:"3個月"}),(0,a.jsx)("option",{value:"6M",children:"6個月"}),(0,a.jsx)("option",{value:"1Y",children:"1年"})]}),(0,a.jsxs)("button",{onClick:()=>o(!0),disabled:t.length>=4,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"添加股票"]})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(r.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"開始比較股票"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"選擇最多4支股票進行並排比較分析"}),(0,a.jsx)("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"添加第一支股票"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>{let s=(e=>{let s=m(e,x(i)),t=parseFloat(s[0].price),a=parseFloat(s[s.length-1].price),l=(a-t)/t*100;return{performance:l.toFixed(2),isPositive:parseFloat(l.toFixed(2))>=0,startPrice:t.toFixed(2),endPrice:a.toFixed(2)}})(e);return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 relative",children:[(0,a.jsx)("button",{onClick:()=>{var s;return s=e.symbol,void n(t.filter(e=>e.symbol!==s))},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(z.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.symbol}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.name})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"當前價格"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",e.price]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:[i,"表現"]}),(0,a.jsxs)("div",{className:"flex items-center ".concat(s.isPositive?"text-green-600":"text-red-600"),children:[s.isPositive?(0,a.jsx)(H.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(W.A,{className:"h-3 w-3 mr-1"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.performance,"%"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"P/E比"}),(0,a.jsx)("span",{className:"font-medium",children:e.pe||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"市值"}),(0,a.jsx)("span",{className:"font-medium",children:e.marketCap||"N/A"})]})]})]},e.symbol)})}),h()&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-6",children:(0,a.jsx)(Y.N1,{data:h(),options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"股票價格比較 - ".concat(i)}},scales:{y:{beginAtZero:!1,title:{display:!0,text:"價格 ($)"}},x:{title:{display:!0,text:"日期"}}},interaction:{intersect:!1,mode:"index"}}})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"指標"}),t.map(e=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.symbol},e.symbol))]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{label:"當前價格",key:"price",prefix:"$"},{label:"52週高點",key:"high52w",prefix:"$"},{label:"52週低點",key:"low52w",prefix:"$"},{label:"P/E比",key:"pe"},{label:"P/B比",key:"pb"},{label:"股息收益率",key:"dividend",suffix:"%"},{label:"市值",key:"marketCap"},{label:"成交量",key:"volume"}].map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.label}),t.map(s=>(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.prefix||"",void 0!==s[e.key]&&null!==s[e.key]?String(s[e.key]):"N/A",e.suffix||""]},s.symbol))]},e.key))})]})})]}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium",children:"選擇股票"}),(0,a.jsx)("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(z.A,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:s.filter(e=>!t.find(s=>s.symbol===e.symbol)).map(e=>(0,a.jsxs)("button",{onClick:()=>(e=>{t.length<4&&!t.find(s=>s.symbol===e.symbol)&&n([...t,e]),o(!1)})(e),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:["$",e.price]})]},e.symbol))})]})})]})]})},$=e=>{var s,t,l,n,i,c,d,o,m,x,h,u,g,p,b,j,v,y,f,N,w,k,S,A,M,F;let{stock:E,favoriteStocks:D,toggleFavoriteStock:_}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.A,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[E.symbol," ",E.name," 詳細資訊"]})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-1 ".concat(D.includes(E.symbol)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"),onClick:()=>_(E.symbol),children:[D.includes(E.symbol)?(0,a.jsx)(T.A,{className:"h-5 w-5"}):(0,a.jsx)(P.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"加入追蹤"})]})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:E.price}),(0,a.jsxs)("span",{className:"ml-3 text-lg font-medium ".concat(C(E.change)),children:[E.change," (",E.changePercent||"0%",")"]})]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:["更新時間：",new Date().toLocaleTimeString("zh-TW")]})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex space-x-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"開盤"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:E.open})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"最高"}),(0,a.jsx)("div",{className:"text-sm font-medium text-green-600",children:E.high})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"最低"}),(0,a.jsx)("div",{className:"text-sm font-medium text-red-600",children:E.low})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"成交量"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:E.volume})]})]})]}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(Y.N1,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!1}}},data:{labels:(null==(s=E.chartData)?void 0:s.labels)||["1月","2月","3月","4月","5月","6月"],datasets:[{label:"股價",data:(null==(t=E.chartData)?void 0:t.prices)||E.priceHistory||[120,125,122,130,128,135],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3,fill:!0}]}})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"技術指標"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"均線"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:(null==(l=E.technicalSignals)?void 0:l.ma)||"多頭排列"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"KD指標"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:(null==(n=E.technicalSignals)?void 0:n.kd)||"超買區"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"MACD"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:(null==(i=E.technicalSignals)?void 0:i.macd)||"黃金交叉"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"支撐與壓力"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"主要支撐"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null==(c=E.technicalSignals)?void 0:c.support)||(.95*parseFloat(E.price)).toFixed(2)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"主要壓力"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null==(d=E.technicalSignals)?void 0:d.resistance)||(1.05*parseFloat(E.price)).toFixed(2)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"RSI"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:(null==(o=E.technicalSignals)?void 0:o.rsi)||"65.4"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"基本面數據"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"本益比"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:E.pe})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"股價淨值比"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:E.pb})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"殖利率"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:E.dividend||E.dividendYield||"1.8%"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"法人買賣超"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"外資"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat(parseFloat((null==(x=E.institutionalTrades)||null==(m=x.foreign)?void 0:m.net)||"1250")>=0?"text-green-600":"text-red-600"),children:(null==(u=E.institutionalTrades)||null==(h=u.foreign)?void 0:h.net)||"+1,250"}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:(null==(p=E.institutionalTrades)||null==(g=p.foreign)?void 0:g.trend)||"連買3日"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"投信"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat(parseFloat((null==(j=E.institutionalTrades)||null==(b=j.investment)?void 0:b.net)||"350")>=0?"text-green-600":"text-red-600"),children:(null==(y=E.institutionalTrades)||null==(v=y.investment)?void 0:v.net)||"+350"}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:(null==(N=E.institutionalTrades)||null==(f=N.investment)?void 0:f.trend)||"連買5日"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"自營商"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat(parseFloat((null==(k=E.institutionalTrades)||null==(w=k.dealer)?void 0:w.net)||"-50")>=0?"text-green-600":"text-red-600"),children:(null==(A=E.institutionalTrades)||null==(S=A.dealer)?void 0:S.net)||"-50"}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:(null==(F=E.institutionalTrades)||null==(M=F.dealer)?void 0:M.trend)||"賣出轉買入"})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"券商評等"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:(E.ratings||[{org:"元大證券",rating:"強力買進",target:"650.00"},{org:"國泰證券",rating:"買進",target:"630.00"},{org:"富邦證券",rating:"持有",target:"580.00"}]).map((e,s)=>(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.org}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((e=>e.includes("買進")||e.includes("強力")?"bg-green-100 text-green-800":e.includes("賣出")||e.includes("減持")?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800")(e.rating)),children:e.rating})]}),(0,a.jsxs)("div",{className:"mt-1 flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"目標價"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.target]})]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"相關新聞"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:(E.news||[{title:"台積電宣布新一代5nm製程進度超前，客戶反應熱烈",date:"2023-05-15",source:"經濟日報"},{title:"分析師：AI晶片需求強勁，台積電下半年營收可望突破新高",date:"2023-05-14",source:"工商時報"},{title:"台積電擴大資本支出，今年將達400億美元",date:"2023-05-13",source:"財經網"}]).map((e,s)=>(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:e.date}),(0,a.jsx)("span",{children:e.source})]})]},s))}),(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-2 text-center",children:(0,a.jsx)("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:"查看更多新聞"})})]})]})]})})]})};var O=t(412),U=t(1354),q=t(1790),Q=t(4331),R=t(3946),V=t(2122),X=t(8974),K=t(619),Z=t(4055),G=t(2815),J=t(3411);let ee=e=>{let{favoriteStocks:s,toggleFavoriteStock:t}=e,n=Array.isArray(s)?s:[],[,i]=(0,l.useState)("preset"),[c,d]=(0,l.useState)([]),[o,m]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),[u,g]=(0,l.useState)(null),[p,b]=(0,l.useState)(!1),[j,v]=(0,l.useState)(!1),[y,f]=(0,l.useState)(10),[N,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)({priceMin:"",priceMax:"",peMin:"",peMax:"",pbMin:"",pbMax:"",dividendMin:"",volumeMin:"",industry:"all",marketCap:"all",trend:"all",financialHealth:"all"}),[C,A]=(0,l.useState)({maStatus:"all",rsiMin:"",rsiMax:"",pattern:"all",macdSignal:"all",bollingerPosition:"all",volumeChange:"all"}),[M,F]=(0,l.useState)([]),[D,_]=(0,l.useState)(!1),[I,L]=(0,l.useState)("symbol"),[z,H]=(0,l.useState)("asc"),[W,Y]=(0,l.useState)([]),B=[{id:"value",name:"價值型投資",description:"高股息低本益比",icon:(0,a.jsx)(U.A,{className:"h-5 w-5 text-blue-500"}),filters:{peMax:"12",dividendMin:"3"}},{id:"growth",name:"成長型投資",description:"高成長潛力股",icon:(0,a.jsx)(r.A,{className:"h-5 w-5 text-green-500"}),filters:{industry:"tech",peMin:"15"}},{id:"momentum",name:"動能投資",description:"技術突破股",icon:(0,a.jsx)(q.A,{className:"h-5 w-5 text-purple-500"}),techFilters:{maStatus:"golden_cross",pattern:"breakthrough"}},{id:"volume",name:"放量突破股",description:"資金流入標的",icon:(0,a.jsx)(r.A,{className:"h-5 w-5 text-orange-500"}),filters:{volumeMin:"1000000000",trend:"up"}},{id:"dividend",name:"高股息ETF",description:"穩定配息收益型",icon:(0,a.jsx)(U.A,{className:"h-5 w-5 text-cyan-500"}),filters:{dividendMin:"5",industry:"finance"}},{id:"reversal",name:"技術反轉股",description:"超賣反彈機會",icon:(0,a.jsx)(Q.A,{className:"h-5 w-5 text-red-500"}),techFilters:{rsiMin:"20",rsiMax:"30"}}];(0,l.useEffect)(()=>{d([{id:1,name:"長期投資組合",date:"2025/05/01"},{id:2,name:"短線交易清單",date:"2025/05/15"},{id:3,name:"高殖利率股票",date:"2025/05/18"}])},[]);let $=e=>{let{name:s,value:t}=e.target;S(e=>({...e,[s]:t})),g(null)},ee=e=>{let{name:s,value:t}=e.target;A(e=>({...e,[s]:t})),g(null)},es=()=>{S({priceMin:"",priceMax:"",peMin:"",peMax:"",pbMin:"",pbMax:"",dividendMin:"",volumeMin:"",industry:"all",marketCap:"all",trend:"all",financialHealth:"all"}),A({maStatus:"all",rsiMin:"",rsiMax:"",pattern:"all",macdSignal:"all",bollingerPosition:"all",volumeChange:"all"}),g(null)},et=()=>{_(!0),Y([]),f(10),setTimeout(()=>{let e=[{symbol:"2330",name:"台積電",price:"580.00",changePercent:"+1.8%",pe:"25.4",pb:"6.8",dividend:"2.3%",volume:"35,862張",industry:"半導體",marketCap:"15.1兆",recommendation:"買入",trend:"up"},{symbol:"2317",name:"鴻海",price:"105.50",changePercent:"-1.2%",pe:"10.2",pb:"1.8",dividend:"3.8%",volume:"42,356張",industry:"電子零組件",marketCap:"1,450億",recommendation:"買入",trend:"down"}];F(e),w(e.length>10),_(!1)},1200)},ea=e=>{e===I?H(e=>"asc"===e?"desc":"asc"):(L(e),H("asc"))},el=(0,l.useMemo)(()=>0===M.length?[]:[...M].sort((e,s)=>{let t=e[I],a=s[I];if("string"==typeof t&&"string"==typeof a)return"asc"===z?t.localeCompare(a):a.localeCompare(t);let l=parseFloat(String(t).replace(/[^\d.-]/g,"")),r=parseFloat(String(a).replace(/[^\d.-]/g,""));return"asc"===z?l-r:r-l}),[M,I,z]),er=(0,l.useMemo)(()=>el.slice(0,y),[el,y]),en=e=>{let{field:s}=e;return I!==s?null:"asc"===z?(0,a.jsx)(q.A,{className:"h-4 w-4 ml-1 inline"}):(0,a.jsx)(Q.A,{className:"h-4 w-4 ml-1 inline"})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(R.A,{className:"h-6 w-6 text-blue-600 mr-2"}),"智慧選股工具"]}),(0,a.jsx)("p",{className:"mt-1 text-gray-600",children:"使用多種條件快速篩選市場中符合您投資需求的股票"})]}),W.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["已選擇 ",W.length," 個股票"]}),(0,a.jsxs)("button",{onClick:()=>{alert("已將 ".concat(W.length," 支股票加入投資組合！")),Y([])},className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"建立組合"]}),(0,a.jsx)("button",{onClick:()=>Y([]),className:"text-blue-600 hover:text-blue-800",children:"清除"})]})]}),(0,a.jsxs)(O.oz.Group,{onChange:e=>i(0===e?"preset":1===e?"custom":"saved"),defaultIndex:0,children:[(0,a.jsxs)(O.oz.List,{className:"flex space-x-1 rounded-xl bg-blue-50 p-1",children:[(0,a.jsxs)(O.oz,{className:e=>{let{selected:s}=e;return"\n              w-full py-3 text-sm font-medium leading-5 rounded-lg\n              ".concat(s?"bg-white shadow text-blue-700":"text-blue-600 hover:bg-white/[0.5] hover:text-blue-700","\n              flex items-center justify-center\n            ")},children:[(0,a.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"常用策略"]}),(0,a.jsxs)(O.oz,{className:e=>{let{selected:s}=e;return"\n              w-full py-3 text-sm font-medium leading-5 rounded-lg\n              ".concat(s?"bg-white shadow text-blue-700":"text-blue-600 hover:bg-white/[0.5] hover:text-blue-700","\n              flex items-center justify-center\n            ")},children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"自訂篩選"]}),(0,a.jsxs)(O.oz,{className:e=>{let{selected:s}=e;return"\n              w-full py-3 text-sm font-medium leading-5 rounded-lg\n              ".concat(s?"bg-white shadow text-blue-700":"text-blue-600 hover:bg-white/[0.5] hover:text-blue-700","\n              flex items-center justify-center\n            ")},children:[(0,a.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"已儲存篩選"]})]}),(0,a.jsxs)(O.oz.Panels,{children:[(0,a.jsx)(O.oz.Panel,{children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(e=>(0,a.jsxs)("div",{className:"p-5 rounded-lg border transition-all ".concat(u===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow"," cursor-pointer"),onClick:()=>(e=>{es(),e.filters&&S(s=>({...s,...e.filters})),e.techFilters&&(A(s=>({...s,...e.techFilters})),b(!0)),g(e.id)})(e),children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[e.icon,(0,a.jsx)("h4",{className:"font-medium text-gray-900 ml-2",children:e.name})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.id))}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)("button",{onClick:et,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-sm font-medium rounded-md hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"inline-block h-4 w-4 rounded-full border-2 border-white border-t-transparent animate-spin mr-2 align-middle"}),"篩選中..."]}):"套用策略並開始選股"})})]})}),(0,a.jsx)(O.oz.Panel,{children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,a.jsxs)("button",{onClick:es,className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm font-medium",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 mr-1"})," 重置條件"]}),(0,a.jsxs)("button",{onClick:()=>v(!j),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium ".concat(j?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"進階篩選",(0,a.jsx)(K.A,{className:"h-4 w-4 ml-1"})]}),(0,a.jsxs)("button",{onClick:()=>b(!p),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium ".concat(p?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,a.jsx)(r.A,{className:"h-4 w-4 mr-1"}),"技術指標",(0,a.jsx)(K.A,{className:"h-4 w-4 ml-1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"股價區間"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"priceMin",placeholder:"最小值",value:k.priceMin,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"~"}),(0,a.jsx)("input",{type:"text",name:"priceMax",placeholder:"最大值",value:k.priceMax,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"本益比區間"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"peMin",placeholder:"最小值",value:k.peMin,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"~"}),(0,a.jsx)("input",{type:"text",name:"peMax",placeholder:"最大值",value:k.peMax,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"股息殖利率 (%)"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"dividendMin",placeholder:"最小值",value:k.dividendMin,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"以上"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"產業類別"}),(0,a.jsx)("select",{name:"industry",value:k.industry,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[{id:"all",name:"全部產業"},{id:"tech",name:"科技業"},{id:"finance",name:"金融業"},{id:"industrial",name:"工業"},{id:"consumer",name:"消費"},{id:"healthcare",name:"醫療保健"},{id:"energy",name:"能源"},{id:"materials",name:"原物料"},{id:"utilities",name:"公用事業"},{id:"communication",name:"電信服務"},{id:"realestate",name:"不動產"}].map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"公司規模"}),(0,a.jsx)("select",{name:"marketCap",value:k.marketCap,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[{id:"all",name:"不限市值"},{id:"mega",name:"巨型股 (>5000億)"},{id:"large",name:"大型股 (1000-5000億)"},{id:"mid",name:"中型股 (100-1000億)"},{id:"small",name:"小型股 (20-100億)"},{id:"micro",name:"微型股 (<20億)"}].map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"成交量 (億)"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"volumeMin",placeholder:"最小值",value:k.volumeMin,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"以上"})]})]})]}),p&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-4",children:"技術指標篩選"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"均線狀態"}),(0,a.jsxs)("select",{name:"maStatus",value:C.maStatus,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"all",children:"不限"}),(0,a.jsx)("option",{value:"ma5_above_ma20",children:"5日線站上20日線"}),(0,a.jsx)("option",{value:"ma5_below_ma20",children:"5日線跌破20日線"}),(0,a.jsx)("option",{value:"ma20_above_ma60",children:"20日線站上60日線"}),(0,a.jsx)("option",{value:"golden_cross",children:"黃金交叉"}),(0,a.jsx)("option",{value:"death_cross",children:"死亡交叉"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RSI 指標"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"rsiMin",placeholder:"最小值",value:C.rsiMin,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"~"}),(0,a.jsx)("input",{type:"text",name:"rsiMax",placeholder:"最大值",value:C.rsiMax,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"技術形態"}),(0,a.jsx)("select",{name:"pattern",value:C.pattern,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[{id:"all",name:"不限形態"},{id:"golden_cross",name:"黃金交叉"},{id:"death_cross",name:"死亡交叉"},{id:"breakthrough",name:"突破"},{id:"support",name:"支撐"},{id:"resistance",name:"阻力"},{id:"head_shoulders",name:"頭肩頂/底"},{id:"double_top",name:"雙重頂/底"},{id:"triangle",name:"三角形整理"},{id:"gap_up",name:"跳空缺口"},{id:"island_reversal",name:"島狀反轉"}].map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MACD 指標"}),(0,a.jsxs)("select",{name:"macdSignal",value:C.macdSignal,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"all",children:"不限"}),(0,a.jsx)("option",{value:"golden_cross",children:"黃金交叉"}),(0,a.jsx)("option",{value:"death_cross",children:"死亡交叉"}),(0,a.jsx)("option",{value:"above_zero",children:"位於零軸之上"}),(0,a.jsx)("option",{value:"below_zero",children:"位於零軸之下"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"布林通道位置"}),(0,a.jsxs)("select",{name:"bollingerPosition",value:C.bollingerPosition,onChange:ee,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"all",children:"不限"}),(0,a.jsx)("option",{value:"above_upper",children:"突破上軌"}),(0,a.jsx)("option",{value:"below_lower",children:"跌破下軌"}),(0,a.jsx)("option",{value:"near_upper",children:"接近上軌"}),(0,a.jsx)("option",{value:"near_lower",children:"接近下軌"}),(0,a.jsx)("option",{value:"middle",children:"位於中軌附近"})]})]})]})]}),j&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-4",children:"進階篩選條件"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"財務健康度"}),(0,a.jsxs)("select",{name:"financialHealth",value:k.financialHealth,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"all",children:"不限"}),(0,a.jsx)("option",{value:"excellent",children:"優良"}),(0,a.jsx)("option",{value:"good",children:"良好"}),(0,a.jsx)("option",{value:"average",children:"一般"}),(0,a.jsx)("option",{value:"weak",children:"較弱"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"股價淨值比區間"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",name:"pbMin",placeholder:"最小值",value:k.pbMin,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("span",{className:"flex items-center text-gray-500",children:"~"}),(0,a.jsx)("input",{type:"text",name:"pbMax",placeholder:"最大值",value:k.pbMax,onChange:$,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center gap-4 border-t border-gray-200 pt-6",children:[(0,a.jsx)("input",{type:"text",value:o,onChange:e=>m(e.target.value),placeholder:"命名並保存這個篩選設定...",className:"block flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,a.jsx)("button",{onClick:()=>{o&&(h(!0),setTimeout(()=>{let e={id:Date.now(),name:o,date:new Date().toLocaleDateString("zh-TW"),filters:{...k},techFilters:{...C}};d(s=>[e,...s]),m(""),h(!1)},600))},disabled:!o||x,className:"px-4 py-2 bg-gray-700 text-white text-sm font-medium rounded-md disabled:bg-gray-400 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:x?"儲存中...":"儲存設定"})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)("button",{onClick:et,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-sm font-medium rounded-md hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-lg",disabled:D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"inline-block h-4 w-4 rounded-full border-2 border-white border-t-transparent animate-spin mr-2 align-middle"}),"篩選中..."]}):"執行選股篩選"})})]})}),(0,a.jsx)(O.oz.Panel,{children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"已儲存的篩選條件"}),c.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,a.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow cursor-pointer transition-all",onClick:()=>(e=>{e.filters&&S({...e.filters}),e.techFilters&&A({...e.techFilters}),b(!0),g(null),i("custom")})(e),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["儲存於: ",e.date]})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:e=>{e.stopPropagation()},children:(0,a.jsx)(Z.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",onClick:e=>{e.stopPropagation()},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},e.id))}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(G.A,{className:"mx-auto h-12 w-12 text-gray-300"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"您還沒有儲存任何篩選條件"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"在「自訂篩選」標籤中設定條件後可以儲存"})]})]})})]})]}),(el.length>0||D)&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"篩選結果"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["共找到 ",el.length," 檔符合條件的股票"]}),el.length>0&&(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded hover:bg-gray-200",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"匯出"]})})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:D?(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"正在根據您的條件搜尋符合的股票..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"這可能需要幾秒鐘時間"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:(0,a.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:W.length===el.length&&el.length>0,onChange:()=>{W.length===el.length?Y([]):Y(el.map(e=>e.symbol))}})}),(0,a.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:"追蹤"}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("symbol"),children:["代號/名稱 ",(0,a.jsx)(en,{field:"symbol"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("price"),children:["股價 ",(0,a.jsx)(en,{field:"price"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("changePercent"),children:["漲跌幅 ",(0,a.jsx)(en,{field:"changePercent"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("pe"),children:["本益比 ",(0,a.jsx)(en,{field:"pe"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("pb"),children:["淨值比 ",(0,a.jsx)(en,{field:"pb"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("dividend"),children:["殖利率 ",(0,a.jsx)(en,{field:"dividend"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>ea("volume"),children:["成交量 ",(0,a.jsx)(en,{field:"volume"})]}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"建議"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:er.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-3 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:W.includes(e.symbol),onChange:()=>(e=>{Y(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])})(e.symbol)})}),(0,a.jsx)("td",{className:"px-3 py-4 whitespace-nowrap",children:(0,a.jsx)("button",{className:"".concat(n.includes(e.symbol)?"text-yellow-500":"text-gray-300 hover:text-yellow-500"),onClick:()=>t&&t(e.symbol),children:n.includes(e.symbol)?(0,a.jsx)(T.A,{className:"h-5 w-5"}):(0,a.jsx)(P.A,{className:"h-5 w-5"})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.price}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.changePercent.startsWith("+")?"text-green-600":e.changePercent.startsWith("-")?"text-red-600":"text-gray-600"),children:e.changePercent})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.pe}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.pb}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:e.dividend}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.volume}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("買入"===e.recommendation?"bg-green-100 text-green-800":"持有"===e.recommendation?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.recommendation})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800",title:"圖表分析",children:(0,a.jsx)(r.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800",title:"查看詳情",children:(0,a.jsx)(J.A,{className:"h-5 w-5"})})]})})]},e.symbol))})]}),N&&(0,a.jsx)("div",{className:"flex justify-center p-4",children:(0,a.jsx)("button",{onClick:()=>{f(e=>e+10),y+10>=M.length&&w(!1)},className:"px-4 py-2 bg-white text-blue-600 text-sm font-medium border border-gray-300 rounded-md hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"載入更多結果"})})]})})]})]})};i.t1.register(i.PP,i.kc,i.FN,i.No,i.E8,i.Bs,i.hE,i.m_,i.s$,i.dN);let es=()=>{let[e,s]=(0,l.useState)("overview"),[t,i]=(0,l.useState)(""),[d]=(0,l.useState)("value"),[o]=(0,l.useState)("all"),[m,u]=(0,l.useState)(["2330"]),[v,y]=(0,l.useState)([]),[f,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(new Date),[S,C]=(0,l.useState)(!0),[A,P]=(0,l.useState)(null),T=g.getInstance(),F=p.n.getInstance(),E=b.S.getInstance(),{data:D,execute:I}=(0,j.aE)(),{data:L,loading:z,error:H}=(0,j.VX)(()=>F.getMarketOverview(),null,{onSuccess:e=>{console.log("市場概覽數據載入成功:",e),k(new Date)},onError:e=>{console.error("載入市場概覽失敗:",e),P(e instanceof Error?e.message:"載入市場概覽失敗")}}),{data:W,loading:Y,error:O,execute:U}=(0,j.aE)(),{data:q,loading:Q,error:R,execute:V}=(0,j.aE)(),{data:X,loading:K,error:Z,execute:G}=(0,j.aE)();(0,j.aE)();let J=(0,l.useCallback)(async()=>{try{let e={sector:"all"!==o?o:void 0,search:t||void 0,strategy:d};await U(()=>T.getStocks(e))}catch(s){console.error("載入股票數據失敗:",s);let e="載入股票數據失敗";"object"==typeof s&&null!==s&&"message"in s&&"string"==typeof s.message&&(e=s.message),P(e)}},[o,t,d,U,T]),es=(0,l.useCallback)(async()=>{try{await V(()=>T.getTechnicalAnalysis())}catch(s){console.error("載入技術分析失敗:",s);let e="載入技術分析失敗";"object"==typeof s&&null!==s&&"message"in s&&"string"==typeof s.message&&(e=s.message),P(e)}},[V,T]),et=(0,l.useCallback)(async()=>{try{await G(()=>F.getSectorPerformance())}catch(s){console.error("載入板塊數據失敗:",s);let e="載入板塊數據失敗";"object"==typeof s&&null!==s&&"message"in s&&"string"==typeof s.message&&(e=s.message),P(e)}},[G,F]),ea=(0,l.useCallback)(async()=>{C(!0),P(null);try{await Promise.allSettled([I(()=>E.getUserProfile("user_001")),J(),es(),et()])}catch(e){console.error("載入初始數據失敗:",e),P(e instanceof Error?e.message:"載入初始數據失敗")}finally{C(!1)}},[I,E,J,es,et]);(0,l.useEffect)(()=>{ea()},[ea]),(0,l.useEffect)(()=>{if(!S){let e=setTimeout(()=>{J()},500);return()=>clearTimeout(e)}},[t,o,d,S,J]);let el=async()=>{try{k(new Date),P(null),await Promise.allSettled([J(),es(),et()]),console.log("股票市場數據刷新完成")}catch(e){console.error("刷新股票市場數據失敗:",e),P(e instanceof Error?e.message:"刷新數據失敗")}},er=(0,l.useCallback)(e=>{i(e.target.value)},[]),en=(0,l.useCallback)(e=>{console.log("排序依據:",e)},[]),ei=(0,l.useCallback)(async e=>{if(D)try{m.includes(e)?(await T.removeFavoriteStock(D.id,e),u(s=>s.filter(s=>s!==e))):(await T.addFavoriteStock(D.id,e),u(s=>[...s,e]))}catch(e){console.error("更新收藏股票失敗:",e)}},[D,m,T]),ec=(0,l.useCallback)(e=>{y(s=>s.includes(e)?s.filter(s=>s!==e):s.length<3?[...s,e]:s)},[]),ed=(e=>e&&0!==e.length?e.map(e=>{var s,t,a,l;return{symbol:e.symbol,name:e.name,price:"number"==typeof e.price?"$".concat(e.price.toFixed(2)):String(e.price),change:e.change||"0",changePercent:e.changePercent||e.change||"0%",industry:e.industry||"未分類",volume:(null==(s=e.volume)?void 0:s.toString())||"N/A",pe:(null==(t=e.pe)?void 0:t.toString())||"N/A",dividend:(null==(a=e.dividendYield)?void 0:a.toString())||"N/A",dividendYield:(null==(l=e.dividendYield)?void 0:l.toString())||"N/A"}}):[])(W||[]),eo=(e=>e&&0!==e.length?e.map(e=>{var s,t,a,l,r;return{symbol:e.symbol,name:e.name,price:"number"==typeof e.price?e.price:parseFloat(String(e.price))||0,pe:e.pe,pb:e.pb,dividend:null==(s=e.dividendYield)?void 0:s.toString(),marketCap:null==(t=e.marketCap)?void 0:t.toString(),volume:null==(a=e.volume)?void 0:a.toString(),high52w:null==(l=e.high52w)?void 0:l.toString(),low52w:null==(r=e.low52w)?void 0:r.toString()}}):[])(W||[]),em=(e=>{var s,t,a,l,r,n,i,c,d;if(!e||0===e.length)return null;let o=e[0];return{symbol:o.symbol,name:o.name,price:(null==(s=o.price)?void 0:s.toString())||"0",change:o.change||"0",changePercent:o.changePercent||o.change||"0%",open:(null==(t=o.open)?void 0:t.toString())||"0",high:(null==(a=o.high)?void 0:a.toString())||"0",low:(null==(l=o.low)?void 0:l.toString())||"0",volume:(null==(r=o.volume)?void 0:r.toString())||"N/A",pe:(null==(n=o.pe)?void 0:n.toString())||"N/A",pb:(null==(i=o.pb)?void 0:i.toString())||"N/A",dividend:null==(c=o.dividendYield)?void 0:c.toString(),dividendYield:null==(d=o.dividendYield)?void 0:d.toString(),priceHistory:o.priceHistory,chartData:void 0,technicalSignals:void 0,institutionalTrades:void 0,ratings:void 0,news:void 0}})(W||[]),ex=A||H||O||R||Z;return S||z&&!L?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"載入股票市場數據中..."}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"請稍候，正在初始化數據..."})]})}):ex?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-red-800",children:"載入失敗"}),(0,a.jsx)("p",{className:"mt-2 text-red-600",children:String(ex)}),(0,a.jsx)("button",{onClick:el,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"重新載入"})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,a.jsx)(r.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"股票市場分析"}),(0,a.jsxs)("p",{className:"text-blue-100 text-sm",children:["最後更新: ",w.toLocaleString("zh-TW")]})]})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-[240px]",children:[(0,a.jsx)("input",{type:"text",placeholder:"搜尋股票代號或名稱...",className:"w-full pl-10 pr-4 py-2 border border-white/30 bg-white/20 rounded-full focus:ring-2 focus:ring-white text-white placeholder-white/70",value:t,onChange:er}),(0,a.jsx)(n.A,{className:"h-5 w-5 text-white absolute left-3 top-2.5"})]}),(0,a.jsx)("button",{onClick:el,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",title:"刷新數據",disabled:Y||Q||K,children:(0,a.jsx)("svg",{className:"h-5 w-5 text-white ".concat(Y||Q||K?"animate-spin":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("nav",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-hide",children:[(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap ".concat("overview"===e?"bg-white text-indigo-700":"text-white hover:bg-white/10"),onClick:()=>s("overview"),children:"市場概覽"}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap ".concat("stocks"===e?"bg-white text-indigo-700":"text-white hover:bg-white/10"),onClick:()=>s("stocks"),children:"個股分析"}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap ".concat("sectors"===e?"bg-white text-indigo-700":"text-white hover:bg-white/10"),onClick:()=>s("sectors"),children:"產業分析"}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap ".concat("technical"===e?"bg-white text-indigo-700":"text-white hover:bg-white/10"),onClick:()=>s("technical"),children:"技術分析"}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md whitespace-nowrap ".concat("screener"===e?"bg-white text-indigo-700":"text-white hover:bg-white/10"),onClick:()=>s("screener"),children:"選股器"})]})})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===e&&(0,a.jsx)(M,{marketData:L||x,analysisModules:h}),"stocks"===e&&(0,a.jsxs)("div",{className:"space-y-8",children:[Y&&(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"text-gray-600",children:"載入股票數據中..."})]})}),(0,a.jsx)(_,{stockDetails:ed,favoriteStocks:m,toggleFavoriteStock:ei,showComparison:f,setShowComparison:N,toggleCompareStock:ec,stockCompare:v,handleSort:en}),f&&v.length>0&&(0,a.jsx)(B,{availableStocks:eo}),em&&(0,a.jsx)($,{stock:{...em,chartData:em.chartData?{...em.chartData,labels:Array.isArray(em.chartData.labels)?em.chartData.labels:[]}:void 0,technicalSignals:void 0,institutionalTrades:void 0,ratings:void 0,news:void 0},favoriteStocks:m,toggleFavoriteStock:ei})]}),"sectors"===e&&(0,a.jsx)("div",{children:K?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"text-gray-600",children:"載入板塊分析中..."})]})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"產業分析"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["板塊分析頁面內容 - 使用 ",X?"真實":"模擬"," 數據"]}),Z&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,a.jsxs)("p",{className:"text-yellow-800",children:["載入板塊數據時出現問題: ",String(Z)]})})]})}),"technical"===e&&(0,a.jsx)("div",{children:Q?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"text-gray-600",children:"載入技術分析中..."})]})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"技術分析"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["技術分析頁面內容 - 使用 ",q?"真實":"模擬"," ","數據"]}),R&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,a.jsxs)("p",{className:"text-yellow-800",children:["載入技術分析數據時出現問題: ",String(R)]})})]})}),"screener"===e&&(0,a.jsx)(ee,{favoriteStocks:m,toggleFavoriteStock:ei})]}),(0,a.jsx)(c.A,{})]})}},8405:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/market-analysis/stock",function(){return t(2594)}])}},e=>{e.O(0,[938,697,417,847,838,636,593,792],()=>e(e.s=8405)),_N_E=e.O()}]);