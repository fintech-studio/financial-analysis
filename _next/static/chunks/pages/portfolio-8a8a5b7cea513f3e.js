(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{1826:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio",function(){return t(1972)}])},1972:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ea}});var a=t(5893),l=t(7294),r=t(8746),i=t(2805),n=t(5615),d=t(8283),c=t(6162),x=t(4516),m=t(4910),o=t(4931),h=t(81),g=t(1447),b=t(9825),u=t(6483),p=t(8660),j=t(2704),y=t(2044),N=t(1200),f=t(7530),v=t(6111),w=t(2123),k=t(2997),C=t(3148),T=t(6495);C.kL.register(C.uw,C.f$,C.od,C.jn,C.u,C.Gu,C.qi,C.De);var Z=e=>{let{data:s}=e,t={labels:["股票","ETF","債券","加密貨幣","現金"],datasets:[{data:[45,20,15,12,8],backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 99, 132, 0.6)"],borderWidth:0}]},l={labels:Array(30).fill(""),datasets:[{data:[235e4,2355e3,236e4,2365e3,237e4,2375e3,238e4,2375e3,237e4,2375e3,238e4,2385e3,239e4,2395e3,24e5,2405e3,241e4,2415e3,242e4,2425e3,243e4,2435e3,244e4,2445e3,245e4,2445e3,244e4,2445e3,245e4,2450600],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0}]},r={labels:["台灣","美國","歐洲","亞洲其他","其他"],datasets:[{data:[45,30,12,8,5],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)"]}]},i=[{label:"產業佔比",data:[35,20,15,10,10,10],backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 206, 86, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 159, 64, 0.8)"],borderWidth:1}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.Z,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"投資組合摘要"})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["最後更新: ",s.lastUpdate]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end space-y-4 md:space-y-0 md:space-x-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"總資產價值"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:s.totalValue})]}),(0,a.jsxs)("div",{className:"flex items-baseline space-x-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"總收益"}),(0,a.jsxs)("div",{className:"text-xl font-bold ".concat(parseFloat(s.totalReturn.value)>=0?"text-green-600":"text-red-600"),children:[parseFloat(s.totalReturn.value)>=0?"+":"",s.totalReturn.value]})]}),(0,a.jsxs)("div",{className:"text-lg font-medium ".concat(parseFloat(s.totalReturn.percentage)>=0?"text-green-600":"text-red-600"),children:["(",s.totalReturn.percentage,")"]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-blue-600 mr-1"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"投資目標進度"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"font-medium",children:[2450600..toLocaleString()," NT$"]})," ","/ ",5e6.toLocaleString()," NT$"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(49.012,"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["距離目標還差"," ",2549400..toLocaleString()," ","NT$ （已完成 ","49.0","%）"]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"近30日資產趨勢"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:parseFloat(s.monthlyChange)>=0?"text-green-500":"text-red-500",children:[(parseFloat(s.monthlyChange),""),s.monthlyChange,"%"]}),"較上月"]})]}),(0,a.jsx)("div",{className:"h-24",children:(0,a.jsx)(T.x1,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0},line:{tension:.4,borderWidth:1.5}}},data:l})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"資產配置"}),(0,a.jsx)("div",{className:"h-40 mb-4",children:(0,a.jsx)(T.$I,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,position:"right",labels:{font:{size:10}}}}}})}),(0,a.jsx)("div",{className:"space-y-2",children:t.labels.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"block w-2 h-2 rounded-full mr-1",style:{backgroundColor:t.datasets[0].backgroundColor[s]}}),(0,a.jsx)("span",{className:"text-gray-500",children:e})]}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[t.datasets[0].data[s],"%"]})]},s))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-indigo-600 mr-2"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-gray-900",children:"區域分布"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-40",children:(0,a.jsx)(T.$I,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}),(0,a.jsx)("div",{className:"space-y-2",children:r.labels.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"block w-2 h-2 rounded-full mr-1",style:{backgroundColor:r.datasets[0].backgroundColor[s]}}),(0,a.jsx)("span",{className:"text-gray-500",children:e})]}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[r.datasets[0].data[s],"%"]})]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-gray-900",children:"產業分布"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"space-y-2",children:["科技","金融","醫療","能源","消費","其他"].map((e,s)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-gray-500",children:e}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[i[0].data[s],"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full",style:{width:"".concat(i[0].data[s],"%"),backgroundColor:i[0].backgroundColor[s]}})})]},s))}),(0,a.jsx)("div",{className:"h-40 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"35%"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"科技產業佔比"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"產業集中度較高"})]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"年化報酬率"}),(0,a.jsx)(y.Z,{className:"h-6 w-6 text-blue-600"})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"+22.4%"}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["較市場指數 ",(0,a.jsx)("span",{className:"text-green-500",children:"+3.2%"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"75%"}})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"投資標的數"}),(0,a.jsx)(n.Z,{className:"h-6 w-6 text-indigo-600"})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"10"}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["最高配置: ",(0,a.jsx)("span",{className:"font-medium",children:"AAPL (12.8%)"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs",children:[(0,a.jsx)("span",{children:"股票: 4"}),(0,a.jsx)("span",{children:"ETF: 3"}),(0,a.jsx)("span",{children:"加密貨幣: 2"}),(0,a.jsx)("span",{children:"債券: 1"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"投資組合β值"}),(0,a.jsx)(N.Z,{className:"h-6 w-6 text-purple-600"})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"0.85"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"較低市場波動敏感度"}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-3",children:(0,a.jsx)("div",{className:"bg-purple-600 h-1.5 rounded-full",style:{width:"42%"}})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"最近交易"}),(0,a.jsx)(f.Z,{className:"h-6 w-6 text-green-600"})]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:"5/15"}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["買入: ",(0,a.jsx)("span",{className:"font-medium",children:"台積電 (50股)"})]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:"3筆交易 in 最近30天"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.Z,{className:"h-6 w-6 text-blue-500"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"AI智能投資見解"})]}),(0,a.jsxs)("button",{className:"text-sm text-blue-600 font-medium flex items-center",children:["查看完整建議",(0,a.jsx)(v.Z,{className:"h-4 w-4 ml-1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white bg-opacity-80 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-md",children:(0,a.jsx)(w.Z,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"再平衡建議"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"科技股比重達57.8%，明顯高於建議的35%上限。考慮減持AAPL和MSFT各15-20%。"}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs text-blue-600 font-medium",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-red-100 text-red-800 rounded-full mr-2",children:"高優先"}),(0,a.jsx)("span",{children:"預期風險降低15%"})]})]})]})}),(0,a.jsx)("div",{className:"bg-white bg-opacity-80 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-md",children:(0,a.jsx)(v.Z,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"投資機會"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"綠能產業具增長潛力，政策支持力度增強。建議分配約5%資金至ICLN清潔能源ETF。"}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs text-blue-600 font-medium",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded-full mr-2",children:"中優先"}),(0,a.jsx)("span",{children:"潛在年化收益+3.2%"})]})]})]})}),(0,a.jsx)("div",{className:"bg-white bg-opacity-80 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-red-100 p-2 rounded-md",children:(0,a.jsx)(k.Z,{className:"h-5 w-5 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"通膨風險防禦"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"面對攀升的通膨數據，投資組合缺少足夠的防禦性資產。建議增加GLD黃金ETF (5-8%)。"}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs text-blue-600 font-medium",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-red-100 text-red-800 rounded-full mr-2",children:"高優先"}),(0,a.jsx)("span",{children:"通膨保護能力+40%"})]})]})]})})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-100 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mr-4",children:"投資組合健康度"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:"76"}),(0,a.jsx)("div",{className:"text-sm text-blue-400 ml-1",children:"/100"})]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"最後更新: 2024-05-28 10:30"})]})]})]})},F=t(5459),S=t(7741);C.kL.register(C.qi,C.u,C.De,C.uw,C.f$,C.ZL);var R=e=>{let{data:s}=e,[t,i]=(0,l.useState)("assetClass"),[n,d]=(0,l.useState)(!1),c={assetClass:[{name:"股票",percentage:50},{name:"債券",percentage:30},{name:"加密貨幣",percentage:5},{name:"現金",percentage:10},{name:"黃金",percentage:5},{name:"其他",percentage:0}]},{chartData:x,targetData:o}=(e=>{let t,a;switch(e){case"assetClass":t={labels:s.byAssetClass.map(e=>e.name),datasets:[{data:s.byAssetClass.map(e=>e.percentage),backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(255, 159, 64, 0.6)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},n&&(a={labels:s.byAssetClass.map(e=>e.name),datasets:[{label:"目前配置",data:s.byAssetClass.map(e=>e.percentage),backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"推薦配置",data:c.assetClass.map(e=>e.percentage),backgroundColor:"rgba(255, 99, 132, 0.6)"}]});break;case"sector":t={labels:s.bySector.map(e=>e.name),datasets:[{data:s.bySector.map(e=>e.percentage),backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 71, 0.6)","rgba(46, 139, 87, 0.6)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 71, 1)","rgba(46, 139, 87, 1)"],borderWidth:1}]};break;case"region":t={labels:s.byRegion.map(e=>e.name),datasets:[{data:s.byRegion.map(e=>e.percentage),backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};break;default:t={labels:[],datasets:[{data:[],backgroundColor:[],borderColor:[],borderWidth:1}]}}return{chartData:t,targetData:a}})(t),h=("assetClass"!==t?[]:s.byAssetClass.map((e,s)=>{let t=c.assetClass.find(s=>s.name===e.name)||{name:e.name,percentage:0},a=e.percentage-t.percentage;return{name:e.name,current:e.percentage,target:t.percentage,deviation:a,status:a>5?"過高":a<-5?"過低":"適中"}})).filter(e=>Math.abs(e.deviation)>5);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.Z,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"資產配置分析"})]}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsxs)("button",{onClick:()=>d(!n),className:"flex items-center px-3 py-1 text-sm font-medium rounded-md ".concat(n?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-1"}),"對比目標配置"]})})]}),(0,a.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,a.jsx)("button",{onClick:()=>i("assetClass"),className:"py-2 px-4 font-medium text-sm border-b-2 ".concat("assetClass"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"按資產類別"]})}),(0,a.jsx)("button",{onClick:()=>i("sector"),className:"py-2 px-4 font-medium text-sm border-b-2 ".concat("sector"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"按產業分布"]})}),(0,a.jsx)("button",{onClick:()=>i("region"),className:"py-2 px-4 font-medium text-sm border-b-2 ".concat("region"===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"按地區分布"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"h-64 md:h-80",children:n&&"assetClass"===t?(0,a.jsx)(T.$Q,{data:o,options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{position:"bottom",labels:{font:{size:12},usePointStyle:!0}},tooltip:{callbacks:{label:function(e){let s=e.dataset.label||"";return s&&(s+=": "),s+=e.parsed.x+"%"}}}},scales:{x:{stacked:!1,title:{display:!0,text:"資產配置百分比"},ticks:{callback:function(e){return e+"%"}}},y:{stacked:!1}}}}):(0,a.jsx)(T.$I,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:15,usePointStyle:!0}},tooltip:{callbacks:{label:function(e){let s=e.label||"";return s&&(s+=": "),s+=e.parsed+"%"}}}}}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"配置明細"}),(0,a.jsxs)("div",{className:"space-y-2",children:["assetClass"===t&&(0,a.jsx)("div",{className:"overflow-hidden bg-white rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"資產類別"}),(0,a.jsx)("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目前配置"}),n&&(0,a.jsx)("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目標配置"}),n&&(0,a.jsx)("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"差異"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.byAssetClass.map((e,s)=>{let t=n?c.assetClass.find(s=>s.name===e.name)||{name:e.name,percentage:0}:null,l=n?e.percentage-t.percentage:0;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium",children:[e.percentage,"%"]}),n&&(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right",children:[t.percentage,"%"]}),n&&(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right",children:(0,a.jsxs)("span",{className:"".concat(l>0?"text-red-600":l<0?"text-green-600":"text-gray-600"),children:[l>0?"+":"",l,"%"]})})]},s)})})]})}),"sector"===t&&(0,a.jsx)("div",{className:"space-y-2",children:s.bySector.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"rgba(".concat(30*s%255,", ").concat((50*s+100)%255,", ").concat((70*s+50)%255,", 0.6)")}}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.percentage,"%"]})]},s))}),"region"===t&&(0,a.jsx)("div",{className:"space-y-2",children:s.byRegion.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"rgba(".concat(50*s%255,", ").concat((70*s+50)%255,", ").concat((40*s+150)%255,", 0.6)")}}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.percentage,"%"]})]},s))})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5 text-indigo-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"配置風險分析"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"集中度風險"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:"中等"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-yellow-500 h-1.5 rounded-full",style:{width:"60%"}})}),(0,a.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"科技股佔比57.8%，高於建議的35%上限"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"區域風險"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:"中等"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-yellow-500 h-1.5 rounded-full",style:{width:"55%"}})}),(0,a.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"台灣市場佔比40%，地域集中度較高"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"通膨抵禦力"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 font-medium",children:"較低"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:"30%"}})}),(0,a.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"抗通膨資產配置僅占8%，建議至少15%"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"配置優化建議"})]}),(0,a.jsxs)("button",{className:"text-sm text-blue-600 font-medium flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"再平衡"]})]}),n&&h.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[h.map((e,s)=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full ".concat(e.deviation>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.status})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["現在: ",e.current,"% | 目標: ",e.target,"% | 差異:"," ",(0,a.jsxs)("span",{className:e.deviation>0?"text-red-600":"text-green-600",children:[e.deviation>0?"+":"",e.deviation,"%"]})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:(0,a.jsx)("button",{className:"text-xs px-2 py-1 rounded ".concat(e.deviation>0?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"),children:e.deviation>0?"減持":"增持"})})]},s)),(0,a.jsx)("div",{className:"pt-3 mt-3 border-t border-gray-200",children:(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:"生成再平衡計畫"})})]}):(0,a.jsx)("ul",{className:"space-y-2",children:s.recommendations.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2 p-3 rounded-lg border border-gray-100 hover:bg-gray-50",children:[(0,a.jsx)("span",{className:"flex-shrink-0 p-1 rounded-md mt-0.5 ".concat("positive"===e.type?"bg-green-100":"neutral"===e.type?"bg-yellow-100":"bg-red-100"),children:(0,a.jsx)("span",{className:"block w-2 h-2 rounded-full ".concat("positive"===e.type?"bg-green-500":"neutral"===e.type?"bg-yellow-500":"bg-red-500")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-800",children:e.text}),"negative"===e.type&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:"查看調整方案"})})]})]},s))})]})]})]})},M=t(6145),$=t(1594),L=t(3681),A=t(6979),D=t(4874),E=t(7371),q=t(9959),B=t(2424),W=t(8771),V=t(3069),P=t(9632),z=t(1521);let _=e=>{let{data:s,color:t}=e,r=(0,l.useMemo)(()=>{if(!s||0===s.length)return[];let e=Math.min(...s),t=Math.max(...s)-e;return 0===t?s.map(()=>50):s.map(s=>100-Math.round((s-e)/t*100))},[s]);if(!r.length)return(0,a.jsx)("div",{className:"h-10"});let i=r.map((e,s)=>{let t=s/(r.length-1)*80;return"".concat(t,",").concat(e/100*30)}).join(" "),n=r[0]>r[r.length-1]?"down":"up";return(0,a.jsx)("svg",{width:80,height:30,className:"overflow-visible",children:(0,a.jsx)("polyline",{points:i,fill:"none",stroke:"up"===n?t||"#10B981":"#EF4444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},I=e=>{let{holding:s,onClose:t}=e;if(!s)return null;let l=s.priceChange>=0?"text-green-500":"text-red-500",r=parseFloat(s.totalReturn.percentage)>=0?"text-green-500":"text-red-500";return(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(M.Z,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"資產詳情"})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)($.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:s.name}),(0,a.jsx)("div",{className:"text-gray-500",children:s.symbol})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.price}),(0,a.jsxs)("div",{className:l,children:[s.priceChange>=0?"+":"",s.priceChange,"%"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"市值"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:s.marketValue})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"持有數量"}),(0,a.jsxs)("div",{className:"text-lg font-semibold",children:[s.quantity,"股"]})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"成本"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:s.costBasis})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"總收益"}),(0,a.jsxs)("div",{className:"text-lg font-semibold ".concat(r),children:[s.totalReturn.value," (",s.totalReturn.percentage,")"]})]}),(0,a.jsxs)("div",{className:"border-b pb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"投資組合權重"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:s.weight})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-700",children:"AI 分析"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["基於目前市場趨勢與產業分析，",s.name,"（",s.symbol,"）",parseFloat(s.totalReturn.percentage)>=15?"已經有不錯的收益，可考慮適度獲利了結一部分倉位，降低風險。":-10>=parseFloat(s.totalReturn.percentage)?"處於虧損狀態，建議評估基本面是否改變，決定是否止損或加碼攤平成本。":"表現穩健，可持續持有，並在價格回檔時考慮增持。"]}),(0,a.jsx)("div",{className:"mt-3 flex items-center space-x-2",children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(parseFloat(s.totalReturn.percentage)>=15?"bg-green-100 text-green-800":-10>=parseFloat(s.totalReturn.percentage)?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:parseFloat(s.totalReturn.percentage)>=15?"考慮獲利了結":-10>=parseFloat(s.totalReturn.percentage)?"評估風險":"持續持有"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 mr-1"})," 買入"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 mr-1"})," 賣出"]})]}),(0,a.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-1"})," 詳細資訊"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 mr-1"})," 交易歷史"]})]})]})]})]})]})})};var Y=e=>{let{holdings:s,onSelectHolding:t,selectedHolding:i}=e,[d,c]=(0,l.useState)("marketValue"),[x,m]=(0,l.useState)("desc"),[o,h]=(0,l.useState)(""),[g,b]=(0,l.useState)("all"),[u,p]=(0,l.useState)(!1),[j,N]=(0,l.useState)(null),f=(0,l.useMemo)(()=>s.reduce((e,s)=>{parseFloat(s.totalReturn.percentage);let t=parseFloat(s.totalReturn.percentage)>=0,a=[],l=100;for(let e=0;e<15;e++)a.push(l=Math.max(50,Math.min(150,l+(6*Math.random()-3+(t?1:-1)))));return e[s.symbol]=a,e},{}),[s]),v=(0,l.useMemo)(()=>{let e={all:{label:"全部",count:s.length},stock:{label:"股票",count:0},etf:{label:"ETF",count:0},crypto:{label:"加密貨幣",count:0},bond:{label:"債券",count:0}};return s.forEach(s=>{s.symbol.includes("0")&&s.symbol.length<=4?e.etf.count++:s.symbol.includes("BTC")||s.symbol.includes("ETH")||s.name.includes("幣")?e.crypto.count++:s.name.includes("債")||s.name.includes("債券")?e.bond.count++:e.stock.count++}),e},[s]),w=e=>{e===d?m("asc"===x?"desc":"asc"):(c(e),m("desc"))},k=(0,l.useMemo)(()=>[...s].filter(e=>{let s=e.name.toLowerCase().includes(o.toLowerCase())||e.symbol.toLowerCase().includes(o.toLowerCase()),t=!0;return"all"!==g&&("stock"===g?t=!(e.symbol.includes("0")&&e.symbol.length<=4)&&!e.symbol.includes("BTC")&&!e.symbol.includes("ETH")&&!e.name.includes("幣")&&!e.name.includes("債"):"etf"===g?t=e.symbol.includes("0")&&e.symbol.length<=4:"crypto"===g?t=e.symbol.includes("BTC")||e.symbol.includes("ETH")||e.name.includes("幣"):"bond"===g&&(t=e.name.includes("債")||e.name.includes("債券"))),s&&t}).sort((e,s)=>{if(["marketValue","totalReturn","weight","price","quantity","costBasis","returnPercentage"].includes(d)){if("returnPercentage"===d){let t=parseFloat(e.totalReturn.percentage),a=parseFloat(s.totalReturn.percentage);return"asc"===x?t-a:a-t}{let t="string"==typeof e[d]&&e[d].includes("%")?parseFloat(e[d]):e[d],a="string"==typeof s[d]&&s[d].includes("%")?parseFloat(s[d]):s[d];return"asc"===x?t-a:a-t}}let t=e[d],a=s[d];return"asc"===x?t.localeCompare(a):a.localeCompare(t)}),[s,d,x,o,g]),C=e=>{let{field:s}=e;return d!==s?null:"asc"===x?(0,a.jsx)(q.Z,{className:"h-4 w-4 ml-1 inline"}):(0,a.jsx)(B.Z,{className:"h-4 w-4 ml-1 inline"})},T=e=>{N(s.find(s=>s.symbol===e)),p(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"持倉明細"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(",k.length," 項資產)"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)("div",{className:"flex space-x-2",children:Object.entries(v).map(e=>{let[s,t]=e;return(0,a.jsxs)("button",{className:"px-3 py-1 text-xs rounded-full flex items-center ".concat(g===s?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"),onClick:()=>b(s),children:["stock"===s&&(0,a.jsx)(M.Z,{className:"h-3.5 w-3.5 mr-1"}),"etf"===s&&(0,a.jsx)(r.Z,{className:"h-3.5 w-3.5 mr-1"}),"crypto"===s&&(0,a.jsx)(n.Z,{className:"h-3.5 w-3.5 mr-1"}),"bond"===s&&(0,a.jsx)(W.Z,{className:"h-3.5 w-3.5 mr-1"}),t.label," ",(0,a.jsxs)("span",{className:"ml-1",children:["(",t.count,")"]})]},s)})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"搜尋資產...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>h(e.target.value)}),(0,a.jsx)(V.Z,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"}),o&&(0,a.jsx)("button",{className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",onClick:()=>h(""),children:(0,a.jsx)($.Z,{className:"h-5 w-5"})})]})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("symbol"),children:["代號 ",(0,a.jsx)(C,{field:"symbol"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("name"),children:["名稱 ",(0,a.jsx)(C,{field:"name"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("price"),children:["當前價格 ",(0,a.jsx)(C,{field:"price"})]}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"趨勢"}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("quantity"),children:["持有數量 ",(0,a.jsx)(C,{field:"quantity"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("marketValue"),children:["市值 ",(0,a.jsx)(C,{field:"marketValue"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("returnPercentage"),children:["收益率 ",(0,a.jsx)(C,{field:"returnPercentage"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>w("weight"),children:["權重 ",(0,a.jsx)(C,{field:"weight"})]}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[k.map(e=>(0,a.jsxs)("tr",{className:"".concat(i===e.symbol?"bg-blue-50":"hover:bg-gray-50"," cursor-pointer"),onClick:()=>t(e.symbol),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:e.symbol}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.price,(0,a.jsxs)("span",{className:"ml-1 text-xs ".concat(e.priceChange>=0?"text-green-500":"text-red-500"),children:["(",e.priceChange>=0?"+":"",e.priceChange,"%)"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(_,{data:f[e.symbol],color:parseFloat(e.totalReturn.percentage)>=0?"#10B981":"#EF4444"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.marketValue}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,a.jsx)("span",{className:"font-medium ".concat(parseFloat(e.totalReturn.percentage)>=0?"text-green-500":"text-red-500"),children:e.totalReturn.percentage}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 block",children:[parseFloat(e.totalReturn.value)>=0?"+":"",e.totalReturn.value]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.weight}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900",title:"圖表分析",onClick:s=>{s.stopPropagation(),t(e.symbol)},children:(0,a.jsx)(y.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-gray-700",title:"詳細資訊",onClick:s=>{s.stopPropagation(),T(e.symbol)},children:(0,a.jsx)(P.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600",title:"更多操作",children:(0,a.jsx)(z.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[(0,a.jsx)("button",{className:"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100",children:"買入"}),(0,a.jsx)("button",{className:"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100",children:"賣出"}),(0,a.jsx)("button",{className:"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100",children:"設置提醒"})]})]})]})})]},e.symbol)),0===k.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"9",className:"px-6 py-10 text-center text-gray-500",children:"沒有找到匹配的持倉資產"})})]})]})}),(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["顯示 ",k.length," 項資產，總計：",(0,a.jsxs)("span",{className:"font-medium text-gray-900 ml-1",children:[s.reduce((e,s)=>e+parseFloat(s.marketValue.replace(/[^0-9.-]+/g,"")),0).toLocaleString(),"NT$"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["總收益：",(0,a.jsxs)("span",{className:"font-medium ml-1 text-green-600",children:[s.reduce((e,s)=>e+parseFloat(s.totalReturn.value.replace(/[^0-9.-]+/g,"")),0).toLocaleString(),"NT$"]})]})]})})]}),u&&(0,a.jsx)(I,{holding:j,onClose:()=>p(!1)})]})},G=t(7432);C.kL.register(C.uw,C.f$,C.od,C.jn,C.ZL,C.Dx,C.u,C.De,C.Gu);var H=e=>{let s,{data:t,timeRange:r,showBenchmark:i=!1,showDetails:n=!1}=e,[d,c]=(0,l.useState)("line"),[x,m]=(0,l.useState)(["benchmark"]),[o,h]=(0,l.useState)(!1),[g,u]=(0,l.useState)(!1),p=[{id:"benchmark",name:"大盤指數",color:"rgb(255, 99, 132)"},{id:"sp500",name:"S&P 500",color:"rgb(54, 162, 235)"},{id:"nasdaq",name:"納斯達克",color:"rgb(255, 206, 86)"},{id:"peers",name:"同類型投資者",color:"rgb(75, 192, 192)"}],j=l.useMemo(()=>{var e,s,a,l;switch(r){case"1W":return{labels:t.daily.labels.slice(-7),portfolio:t.daily.portfolio.slice(-7),benchmark:null===(e=t.daily.benchmark)||void 0===e?void 0:e.slice(-7)};case"1M":return{labels:t.daily.labels.slice(-30),portfolio:t.daily.portfolio.slice(-30),benchmark:null===(s=t.daily.benchmark)||void 0===s?void 0:s.slice(-30)};case"3M":return{labels:t.daily.labels.slice(-90),portfolio:t.daily.portfolio.slice(-90),benchmark:null===(a=t.daily.benchmark)||void 0===a?void 0:a.slice(-90)};case"6M":case"1Y":return t.weekly;case"YTD":return{labels:t.daily.labels.slice(-150),portfolio:t.daily.portfolio.slice(-150),benchmark:null===(l=t.daily.benchmark)||void 0===l?void 0:l.slice(-150)};default:return t.monthly}},[t,r]),N=e=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",maximumFractionDigits:0}).format(e),f=e=>{if(e.length<=1)return 0;let s=0,t=[];for(let a=1;a<e.length;a++){let l=(e[a]-e[a-1])/e[a-1]*100;t.push(l),s+=l}let a=s/t.length,l=0;for(let e of t)l+=Math.pow(e-a,2);return Math.sqrt(l/=t.length)*Math.sqrt(252)},v=(e,s)=>Math.pow(1+e/100,1/(({"1W":1/52,"1M":1/12,"3M":.25,"6M":.5,"1Y":1,YTD:.5,ALL:3})[s]||1))-1,w=l.useMemo(()=>{let e=Math.max(...j.portfolio),s=Math.min(...j.portfolio),t=j.portfolio[j.portfolio.length-1],a=j.portfolio[0],l=(e-t)/e*100,i=f(j.portfolio),n=(t-a)/a*100,d=v(n,r);return{drawdown:l.toFixed(2),volatility:i.toFixed(2),totalReturn:n.toFixed(2),annualizedReturn:d.toFixed(2),highest:N(e),lowest:N(s),current:N(t)}},[j,r]),k=(s=[{label:"投資組合",data:j.portfolio,borderColor:"rgb(53, 162, 235)",backgroundColor:"area"===d?"rgba(53, 162, 235, 0.2)":"rgba(53, 162, 235, 0.7)",tension:.3,fill:"area"===d,borderWidth:2}],i&&x.forEach(e=>{let t=p.find(s=>s.id===e);t&&j[e]&&s.push({label:t.name,data:j[e],borderColor:t.color,backgroundColor:"".concat(t.color).concat("bar"===d?"70":"20"),tension:.3,fill:"area"===d,borderDash:"benchmark"===e?[5,5]:void 0,borderWidth:2})}),o&&t.keyPeriods&&t.keyPeriods.forEach(e=>{if(e.range[0]>=0&&e.range[1]<j.labels.length){let t=Array(j.labels.length).fill(null);for(let s=e.range[0];s<=e.range[1];s++)t[s]=j.portfolio[s];s.push({label:e.name,data:t,borderColor:e.color||"rgba(255, 99, 132, 1)",backgroundColor:e.color||"rgba(255, 99, 132, 0.4)",pointRadius:0,borderWidth:0,fill:!0,tension:.3})}}),{labels:j.labels,datasets:s}),C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){let s=e.dataset.label||"";return s&&(s+=": "),null!==e.parsed.y&&(s+=N(e.parsed.y)),s}}}},hover:{mode:"nearest",intersect:!1},scales:{y:{beginAtZero:!1,ticks:{callback:function(e){return N(e)}}}},interaction:{intersect:!1,mode:"index"}},Z=e=>{x.includes(e)?m(x.filter(s=>s!==e)):m([...x,e])};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 ".concat(g?"fixed inset-0 z-50 overflow-auto":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"績效走勢分析"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,a.jsxs)("span",{className:"text-sm font-medium px-3 py-1 bg-gray-100 rounded-full",children:[r,"期間報酬率：",(0,a.jsxs)("span",{className:t.returns[r]>=0?"text-green-600":"text-red-600",children:[t.returns[r]>=0?"+":"",t.returns[r],"%"]})]}),(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-md",onClick:()=>u(!g),title:g?"退出全屏":"全屏查看",children:(0,a.jsx)(G.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex space-x-2 mb-2 sm:mb-0",children:[(0,a.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c("line"),className:"px-4 py-2 text-xs font-medium rounded-l-lg ".concat("line"===d?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:"線圖"}),(0,a.jsx)("button",{type:"button",onClick:()=>c("area"),className:"px-4 py-2 text-xs font-medium ".concat("area"===d?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border-t border-b border-gray-300"),children:"區域圖"}),(0,a.jsx)("button",{type:"button",onClick:()=>c("bar"),className:"px-4 py-2 text-xs font-medium rounded-r-lg ".concat("bar"===d?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:"柱狀圖"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>h(!o),className:"px-3 py-2 text-xs font-medium rounded-lg flex items-center ".concat(o?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1"}),"顯示關鍵時期"]})]}),i&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,a.jsxs)("button",{onClick:()=>Z(e.id),className:"px-3 py-1 text-xs font-medium rounded-full flex items-center ".concat(x.includes(e.id)?"bg-blue-100 text-blue-700 border border-blue-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{backgroundColor:e.color}}),e.name]},e.id))})]}),(0,a.jsx)("div",{className:"h-[400px]",children:"bar"===d?(0,a.jsx)(T.$Q,{options:C,data:k}):(0,a.jsx)(T.x1,{options:C,data:k})}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-blue-700 font-medium mb-1",children:"總回報率"}),(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(Number(w.totalReturn)>=0?"text-green-600":"text-red-600"),children:[Number(w.totalReturn)>=0?"+":"",w.totalReturn,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[r," 期間"]})]}),(0,a.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-indigo-700 font-medium mb-1",children:"年化回報率"}),(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(Number(w.annualizedReturn)>=0?"text-green-600":"text-red-600"),children:[Number(w.annualizedReturn)>=0?"+":"",w.annualizedReturn,"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"折算年度表現"})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-red-700 font-medium mb-1",children:"最大回撤"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[w.drawdown,"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"從最高點下跌"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-green-700 font-medium mb-1",children:"波動率"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:[w.volatility,"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"年化標準差"})]})]}),n&&(0,a.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"績效詳細數據"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,a.jsx)("h5",{className:"font-medium text-gray-700",children:"期間回報率"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(t.returns).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[s,":"]}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(t>=0?"text-green-600":"text-red-600"),children:[t>=0?"+":"",t,"%"]})]},s)})})})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,a.jsx)("h5",{className:"font-medium text-gray-700",children:"資產價值走勢"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"當前價值:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:w.current})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"初始價值:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:N(j.portfolio[0])})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"最高點:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:w.highest})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"最低點:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-600",children:w.lowest})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden md:col-span-2",children:[(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,a.jsx)("h5",{className:"font-medium text-gray-700",children:"績效對比"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"指標"}),(0,a.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"報酬率"}),(0,a.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"超額報酬"}),(0,a.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"年化報酬"}),(0,a.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"夏普比率"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:"投資組合"}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:["+",w.totalReturn,"%"]}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium",children:"-"}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:["+",w.annualizedReturn,"%"]}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium",children:"1.45"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:"大盤指數"}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:"+16.8%"}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:["+",(w.totalReturn-16.8).toFixed(1),"%"]}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:"+14.2%"}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium",children:"1.12"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:"S&P 500"}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:"+21.5%"}),(0,a.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-red-600",children:[(w.totalReturn-21.5).toFixed(1),"%"]}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium text-green-600",children:"+18.3%"}),(0,a.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-right font-medium",children:"1.65"})]})]})]})})]})]})]}),n&&(0,a.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-blue-600 mr-2"}),"投資的影響因素分析"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"投資成本影響"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"交易費用和管理費會影響您的實際報酬率。減少不必要的交易和選擇低費率產品可以提高收益。"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"平均費率:"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:"-0.68%/年"})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"長期影響 (10年):"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:"-7.02%"})]}),(0,a.jsx)("div",{className:"mt-3 text-xs text-blue-600 font-medium",children:"建議: 考慮將部分主動式基金轉為低費率ETF"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"再平衡效益分析"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"定期再平衡可以維持您的風險水平，同時可能提高長期回報率。"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"上次再平衡:"}),(0,a.jsx)("span",{className:"font-medium text-gray-800",children:"90天前"})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"預估效益:"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"+0.35%/年"})]}),(0,a.jsx)("div",{className:"mt-3 text-xs text-blue-600 font-medium",children:"建議: 考慮進行季度再平衡"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"稅務效率分析"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"稅務策略可以顯著影響您的淨回報。稅務損失收割和稅務遞延帳戶可以優化稅後回報。"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"稅務損失機會:"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"NT$15,400"})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"稅務效率指數:"}),(0,a.jsx)("span",{className:"font-medium text-gray-800",children:"7.5/10"})]}),(0,a.jsx)("div",{className:"mt-3 text-xs text-blue-600 font-medium",children:"建議: 考慮賣出特斯拉實現稅務損失"})]})]})]})]})},U=t(1263),O=t(4001),Q=t(2873),K=t(749),X=t(5391);C.kL.register(C.uw,C.f$,C.od,C.ZL,C.jn,C.qi,C.Dx,C.u,C.De,C.Gu);let J=e=>{let{transaction:s,onClose:t}=e;if(!s)return null;let l="買入"===s.type;return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"p-2 rounded-md ".concat(l?"bg-green-100":"bg-red-100"),children:(0,a.jsx)(n.Z,{className:"h-5 w-5 ".concat(l?"text-green-600":"text-red-600")})}),(0,a.jsx)("h3",{className:"ml-3 text-lg font-semibold",children:"買入"===s.type?"買入交易":"賣出交易"})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"交易資訊"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"交易日期"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.date})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"交易類型"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("買入"===s.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.type})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"證券代號"}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600",children:s.symbol})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"證券名稱"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"交易所/市場"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.exchange||"台灣證券交易所"})]})]}),(0,a.jsxs)("div",{className:"mt-5 pt-5 border-t border-gray-200",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"交易細節"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"數量"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.quantity})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"價格"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.price})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"總額"}),(0,a.jsx)("div",{className:"text-sm font-bold",children:s.total})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"手續費"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",(.001425*parseFloat(s.total.replace(/[^0-9.-]+/g,""))).toFixed(0)]})]})]})]}),(0,a.jsxs)("div",{className:"mt-5 pt-5 border-t border-gray-200",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"交易備註"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.note||"無交易備註"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500 mb-3",children:"市場數據"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"當日開盤價"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",(parseFloat(s.price.replace(/[^0-9.-]+/g,""))*(1-.01*Math.random())).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"當日收盤價"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",(parseFloat(s.price.replace(/[^0-9.-]+/g,""))*(1+.01*Math.random())).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"當日最高價"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",(parseFloat(s.price.replace(/[^0-9.-]+/g,""))*(1+.02*Math.random())).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"當日最低價"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",(parseFloat(s.price.replace(/[^0-9.-]+/g,""))*(1-.02*Math.random())).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"買入"===s.type?"買入成本分析":"賣出收益分析"}),(0,a.jsx)("div",{className:"h-40",children:(0,a.jsx)(T.by,{data:{labels:"買入"===s.type?["證券價值","手續費"]:["賣出收益","手續費"],datasets:[{data:[parseFloat(s.total.replace(/[^0-9.-]+/g,"")),.001425*parseFloat(s.total.replace(/[^0-9.-]+/g,""))],backgroundColor:["買入"===s.type?"rgba(59, 130, 246, 0.5)":"rgba(34, 197, 94, 0.5)","rgba(239, 68, 68, 0.5)"],borderColor:["買入"===s.type?"rgb(59, 130, 246)":"rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:11},boxWidth:15}}}}})})]}),(0,a.jsxs)("div",{className:"mt-4 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(P.Z,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,a.jsx)("h5",{className:"text-sm font-medium text-blue-900",children:"投資建議"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-800",children:"買入"===s.type?"設置適當的停損停利點，可考慮以10%的停損幅度和20%的停利目標來管理該投資風險。":"賣出後請檢視整體組合配置，並考慮將資金重新分配至目前被低估的資產類別。"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200",children:"查看相關交易紀錄"})})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex justify-end",children:[(0,a.jsx)("button",{onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200 mr-3",children:"關閉"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:"編輯交易"})]})]})]})})};var ee=e=>{let{transactions:s}=e,[t,r]=(0,l.useState)("date"),[i,n]=(0,l.useState)("desc"),[d,c]=(0,l.useState)(""),[x,o]=(0,l.useState)("all"),[h,g]=(0,l.useState)(1),[b,u]=(0,l.useState)("all"),[p,j]=(0,l.useState)(!1),[N,f]=(0,l.useState)(null),v=e=>{e===t?n("asc"===i?"desc":"asc"):(r(e),n("desc"))},w=e=>{let s=new Date,t=new Date;switch(e){case"last7days":t.setDate(s.getDate()-7);break;case"last30days":t.setDate(s.getDate()-30);break;case"last90days":t.setDate(s.getDate()-90);break;case"thisYear":t=new Date(s.getFullYear(),0,1);break;default:return()=>!0}return e=>{let a=new Date(e.date);return a>=t&&a<=s}},k=(0,l.useMemo)(()=>{let e=w(b);return[...s].filter(s=>{let t=""===d||s.symbol.toLowerCase().includes(d.toLowerCase())||s.name.toLowerCase().includes(d.toLowerCase()),a="all"===x||s.type===x,l=e(s);return t&&a&&l}).sort((e,s)=>{if("date"===t){let t=new Date(e.date),a=new Date(s.date);return"asc"===i?t-a:a-t}if(["quantity","price","total"].includes(t)){let a="string"==typeof e[t]?parseFloat(e[t].replace(/[^0-9.-]+/g,"")):e[t],l="string"==typeof s[t]?parseFloat(s[t].replace(/[^0-9.-]+/g,"")):s[t];return"asc"===i?a-l:l-a}let a=e[t],l=s[t];return"asc"===i?a.localeCompare(l):l.localeCompare(a)})},[s,t,i,d,x,b]),C=Math.ceil(k.length/10),Z=k.slice((h-1)*10,10*h);(0,l.useEffect)(()=>{g(1)},[d,x,b]);let F=(0,l.useMemo)(()=>{let e={買入:{count:0,total:0},賣出:{count:0,total:0}},t={},a={};return s.forEach(s=>{let l=s.type,r=parseFloat(s.total.replace(/[^0-9.-]+/g,"")),i=new Date(s.date),n="".concat(i.getFullYear(),"-").concat((i.getMonth()+1).toString().padStart(2,"0")),d=s.symbol;e[l].count+=1,e[l].total+=r,t[n]||(t[n]={買入:0,賣出:0}),t[n][l]+=r,a[d]||(a[d]={name:s.name,買入:0,賣出:0,count:0}),a[d][l]+=r,a[d].count+=1}),{basic:e,monthly:Object.entries(t).sort((e,s)=>{let[t]=e,[a]=s;return t.localeCompare(a)}).slice(-12),symbols:Object.entries(a).map(e=>{let[s,t]=e;return{symbol:s,...t}}).sort((e,s)=>s.count-e.count).slice(0,10),netCashFlow:e.賣出.total-e.買入.total}},[s]),S=(0,l.useMemo)(()=>{let e=F.monthly.map(e=>{let[s]=e;return s});return{monthlyChart:{labels:e,datasets:[{label:"買入",data:F.monthly.map(e=>{let[s,t]=e;return t.買入}),backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgb(34, 197, 94)",borderWidth:1},{label:"賣出",data:F.monthly.map(e=>{let[s,t]=e;return t.賣出}),backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgb(239, 68, 68)",borderWidth:1}]},symbolChart:{labels:F.symbols.slice(0,5).map(e=>e.symbol),datasets:[{data:F.symbols.slice(0,5).map(e=>e.買入+e.賣出),backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)"],borderWidth:1}]}}},[F]),R=e=>{let{field:s}=e;return t!==s?null:"asc"===i?(0,a.jsx)(q.Z,{className:"h-4 w-4 ml-1 inline"}):(0,a.jsx)(B.Z,{className:"h-4 w-4 ml-1 inline"})},$=e=>{f(e),j(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"交易概況"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:b,onChange:e=>u(e.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"全部時間"}),(0,a.jsx)("option",{value:"last7days",children:"最近7天"}),(0,a.jsx)("option",{value:"last30days",children:"最近30天"}),(0,a.jsx)("option",{value:"last90days",children:"最近90天"}),(0,a.jsx)("option",{value:"thisYear",children:"本年度"})]}),(0,a.jsx)(U.Z,{className:"h-5 w-5 text-gray-400"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"總交易次數"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:k.length}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["買入：",F.basic.買入.count," | 賣出：",F.basic.賣出.count]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"買入總額"})}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["NT$ ",F.basic.買入.total.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["平均每筆 NT$"," ",(F.basic.買入.total/Math.max(1,F.basic.買入.count)).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"賣出總額"})}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["NT$ ",F.basic.賣出.total.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["平均每筆 NT$"," ",(F.basic.賣出.total/Math.max(1,F.basic.賣出.count)).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"淨現金流"})}),(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(F.netCashFlow>=0?"text-green-600":"text-red-600"),children:["NT$ ",F.netCashFlow.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[F.netCashFlow>=0?"淨賣出":"淨買入","資產"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"月度交易金額趨勢"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-64",children:(0,a.jsx)(T.$Q,{data:S.monthlyChart,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):"".concat((e/1e3).toFixed(0),"K")}}}},plugins:{legend:{display:!0,position:"top",labels:{boxWidth:15,padding:10,font:{size:11}}}}}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"交易標的分布"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-64 flex items-center justify-center",children:(0,a.jsx)(T.by,{data:S.symbolChart,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:11},boxWidth:15}}}}})})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"熱門交易標的"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:F.symbols.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.symbol}),(0,a.jsxs)("div",{className:"text-xs font-medium",children:[e.count,"筆交易"]})]}),(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900 truncate",title:e.name,children:e.name}),(0,a.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,a.jsxs)("span",{className:"text-xs text-green-600",children:["買：",e.買入.toLocaleString()]}),(0,a.jsxs)("span",{className:"text-xs text-red-600",children:["賣：",e.賣出.toLocaleString()]})]})]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-wrap justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"交易歷史"}),(0,a.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium rounded-full px-2.5 py-0.5",children:["共 ",k.length," 筆"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:x,onChange:e=>o(e.target.value),className:"text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"所有交易"}),(0,a.jsx)("option",{value:"買入",children:"僅買入"}),(0,a.jsx)("option",{value:"賣出",children:"僅賣出"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"搜尋代號或名稱...",className:"pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>c(e.target.value)}),(0,a.jsx)(V.Z,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),d&&(0,a.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{},className:"px-3 py-1.5 text-sm text-gray-600 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",title:"匯出交易歷史",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 mr-1"}),"匯出"]}),(0,a.jsxs)("button",{onClick:()=>{r("date"),n("desc"),c(""),o("all"),u("all")},className:"px-3 py-1.5 text-sm text-gray-600 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",title:"重設篩選",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"重設"]})]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("date"),children:["日期 ",(0,a.jsx)(R,{field:"date"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("type"),children:["類型 ",(0,a.jsx)(R,{field:"type"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("symbol"),children:["代號 ",(0,a.jsx)(R,{field:"symbol"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("name"),children:["名稱 ",(0,a.jsx)(R,{field:"name"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("quantity"),children:["數量 ",(0,a.jsx)(R,{field:"quantity"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("price"),children:["價格 ",(0,a.jsx)(R,{field:"price"})]}),(0,a.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("total"),children:["總額 ",(0,a.jsx)(R,{field:"total"})]}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Z.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("買入"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.type})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:e.symbol}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.price}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.total}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,a.jsxs)("button",{onClick:()=>$(e),className:"text-blue-600 hover:text-blue-900 text-sm font-medium inline-flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-1"}),"詳細"]})})]},e.id)),0===Z.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"8",className:"px-6 py-10 text-center text-gray-500",children:"沒有找到符合條件的交易紀錄"})})]})]})}),C>1&&(0,a.jsxs)("div",{className:"px-6 py-3 bg-white border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>g(Math.max(1,h-1)),disabled:1===h,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ".concat(1===h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"上一頁"}),(0,a.jsx)("button",{onClick:()=>g(Math.min(C,h+1)),disabled:h===C,className:"relative ml-3 inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ".concat(h===C?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"下一頁"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["顯示第"," ",(0,a.jsx)("span",{className:"font-medium",children:(h-1)*10+1})," ","至"," ",(0,a.jsx)("span",{className:"font-medium",children:Math.min(10*h,k.length)})," ","筆，共"," ",(0,a.jsx)("span",{className:"font-medium",children:k.length})," ","筆"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,a.jsxs)("button",{onClick:()=>g(Math.max(1,h-1)),disabled:1===h,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ".concat(1===h?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,a.jsx)("span",{className:"sr-only",children:"上一頁"}),(0,a.jsx)(Q.Z,{className:"h-5 w-5"})]}),Array.from({length:Math.min(5,C)},(e,s)=>{let t;return t=C<=5?s+1:h<=3?s+1:h>=C-2?C-4+s:h-2+s,(0,a.jsx)("button",{onClick:()=>g(t),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(h===t?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t},t)}),(0,a.jsxs)("button",{onClick:()=>g(Math.min(C,h+1)),disabled:h===C,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ".concat(h===C?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,a.jsx)("span",{className:"sr-only",children:"下一頁"}),(0,a.jsx)(K.Z,{className:"h-5 w-5"})]})]})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"交易績效分析"})]}),(0,a.jsx)(X.Z,{className:"h-5 w-5 text-gray-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"買賣比例"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(F.basic.買入.count/Math.max(1,k.length)*100,"%")}})})}),(0,a.jsxs)("div",{className:"ml-3 text-sm font-medium",children:[Math.round(F.basic.買入.count/Math.max(1,k.length)*100),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs mt-2",children:[(0,a.jsxs)("div",{children:["買入次數: ",F.basic.買入.count]}),(0,a.jsxs)("div",{children:["賣出次數: ",F.basic.賣出.count]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"交易節奏"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"平均持有時間"}),(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:["約 ",Math.floor(100*Math.random()+30)," 天"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"交易頻率"}),(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[(k.length/Math.max(1,F.monthly.length)).toFixed(1)," ","筆/月"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"最後交易"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:k.length>0?k[0].date:"-"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"交易習慣分析"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"最常交易的資產類型"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:"個股 (佔總交易的76%)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"最常交易的時間"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:"每月中旬 (佔總交易的42%)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"平均交易金額"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:["NT$"," ",((F.basic.買入.total+F.basic.賣出.total)/k.length).toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(M.Z,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"交易習慣改善建議"})]}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-5 w-5 flex items-center justify-center",children:(0,a.jsx)("span",{className:"block h-2 w-2 rounded-full bg-blue-600"})}),(0,a.jsx)("p",{className:"ml-2 text-sm text-blue-800",children:"考慮減少個股交易頻率，增加ETF等低成本指數化商品的配置比例。"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-5 w-5 flex items-center justify-center",children:(0,a.jsx)("span",{className:"block h-2 w-2 rounded-full bg-blue-600"})}),(0,a.jsx)("p",{className:"ml-2 text-sm text-blue-800",children:"買賣比例接近平衡，可考慮增加長期持有策略的比重，減少短期交易次數。"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-5 w-5 flex items-center justify-center",children:(0,a.jsx)("span",{className:"block h-2 w-2 rounded-full bg-blue-600"})}),(0,a.jsx)("p",{className:"ml-2 text-sm text-blue-800",children:"建議採用固定時間定期投資策略，避免過度交易帶來的成本增加。"})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-3 border-t border-blue-200",children:(0,a.jsx)("button",{className:"px-3 py-1.5 bg-white border border-blue-300 rounded-md text-xs font-medium text-blue-700 hover:bg-blue-50",children:"查看完整建議報告 →"})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"成本分析"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"總交易成本"}),(0,a.jsxs)("span",{children:["NT$ ",(20*k.length).toLocaleString()]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-purple-600 h-1.5 rounded-full",style:{width:"8%"}})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"佔總交易金額的0.21%"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"證券交易稅"}),(0,a.jsxs)("span",{children:["NT$"," ",Math.round(.003*F.basic.賣出.total).toLocaleString()]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-indigo-600 h-1.5 rounded-full",style:{width:"12%"}})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"賣出交易金額的0.3%"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"交易手續費"}),(0,a.jsxs)("span",{children:["NT$"," ",Math.round((F.basic.買入.total+F.basic.賣出.total)*.001425).toLocaleString()]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"10%"}})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"交易金額的0.1425%"})]})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(P.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-green-900",children:"投資知識"})]}),(0,a.jsx)("p",{className:"text-sm text-green-800 mb-3",children:"長期投資者與頻繁交易者相比，一般能獲得更高的複合回報率。減少交易頻率可以降低交易成本和稅負影響，增加投資淨收益。"}),(0,a.jsx)("a",{href:"#",className:"text-xs font-medium text-green-700 hover:text-green-800",children:"了解更多投資策略 →"})]})]})]})]}),p&&(0,a.jsx)(J,{transaction:N,onClose:()=>j(!1)})]})};C.kL.register(C.uw,C.f$,C.od,C.jn,C.ZL,C.Dx,C.u,C.De,C.l7);var es=e=>{var s;let{riskData:t,aiData:r}=e,[i,c]=(0,l.useState)("analysis"),[x,o]=(0,l.useState)("all"),[h,b]=(0,l.useState)(!1),u={labels:t.volatility.labels,datasets:[{label:"投資組合波動率",data:t.volatility.portfolio,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.1},{label:"大盤波動率",data:t.volatility.market,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",tension:.1,borderDash:[5,5]}]},p={labels:t.riskFactors.labels,datasets:[{label:"投資組合風險指標",data:t.riskFactors.values,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgb(54, 162, 235)",pointBackgroundColor:"rgb(54, 162, 235)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(54, 162, 235)"}]},j={labels:t.drawdown.labels,datasets:[{label:"最大回撤百分比",data:t.drawdown.values,backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)"}]},f=e=>{switch(e){case"rebalance":return{bg:"bg-blue-50",iconBg:"bg-blue-100",iconColor:"text-blue-600",icon:N.Z};case"opportunity":return{bg:"bg-green-50",iconBg:"bg-green-100",iconColor:"text-green-600",icon:d.Z};case"risk":return{bg:"bg-red-50",iconBg:"bg-red-100",iconColor:"text-red-600",icon:k.Z};case"adjustment":return{bg:"bg-amber-50",iconBg:"bg-amber-100",iconColor:"text-amber-600",icon:y.Z};case"tax":return{bg:"bg-indigo-50",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",icon:n.Z};default:return{bg:"bg-gray-50",iconBg:"bg-gray-100",iconColor:"text-gray-600",icon:w.Z}}},v=(s=r.recommendations,"all"===x?s:s.filter(e=>e.type===x));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"風險評估與智能建議"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>c("analysis"),className:"px-4 py-2 rounded-lg text-sm font-medium ".concat("analysis"===i?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:[(0,a.jsx)(k.Z,{className:"h-5 w-5 inline mr-1"}),"風險評估"]}),(0,a.jsxs)("button",{onClick:()=>c("recommendations"),className:"px-4 py-2 rounded-lg text-sm font-medium ".concat("recommendations"===i?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"),children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 inline mr-1"}),"AI智能建議"]}),(0,a.jsx)("button",{onClick:()=>{b(!0),setTimeout(()=>{b(!1)},1500)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-full ".concat(h?"animate-spin":""),disabled:h,title:"重新分析",children:(0,a.jsx)(m.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"col-span-1 md:col-span-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"bg-white bg-opacity-70 p-3 rounded-lg",children:"analysis"===i?(0,a.jsx)(k.Z,{className:"h-6 w-6 text-blue-500"}):(0,a.jsx)(g.Z,{className:"h-6 w-6 text-blue-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"analysis"===i?"投資組合風險摘要":"AI 分析摘要"}),(0,a.jsx)("p",{className:"text-gray-700",children:"analysis"===i?"您的投資組合整體風險等級為".concat(t.metrics.volatility,"%，較大盤").concat(t.metrics.volatilityVsMarket<0?"低":"高").concat(Math.abs(t.metrics.volatilityVsMarket),"%。主要風險來自於科技股比重過高與單一持股集中度。"):r.summary})]})]})}),(0,a.jsxs)("div",{className:"col-span-1 flex flex-col justify-center border-l border-blue-100 pl-6",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"投資組合健康度"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:r.healthScore}),(0,a.jsx)("div",{className:"text-lg text-blue-400 ml-1",children:"/100"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:(0,a.jsx)("div",{className:"h-2.5 rounded-full ".concat(r.healthScore>80?"bg-green-500":r.healthScore>60?"bg-blue-500":r.healthScore>40?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(r.healthScore,"%")}})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:r.healthScore>80?"優良":r.healthScore>60?"良好":r.healthScore>40?"需注意":"需調整"})]})]})}),"analysis"===i&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"波動率"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:[t.metrics.volatility,"%"]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["較大盤",(0,a.jsxs)("span",{className:t.metrics.volatilityVsMarket<0?"text-green-500":"text-red-500",children:[t.metrics.volatilityVsMarket>=0?"+":"",t.metrics.volatilityVsMarket,"%"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"夏普比率"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:t.metrics.sharpeRatio}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[t.metrics.sharpeRatio>=1.5?"優良":t.metrics.sharpeRatio>=1?"良好":t.metrics.sharpeRatio>=.5?"一般":"不佳",(0,a.jsx)("span",{className:"text-xs ml-2 text-gray-400",children:"(高於1.0為佳)"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"最大回撤"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-red-600",children:[t.metrics.maxDrawdown,"%"]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["發生於 ",t.metrics.maxDrawdownDate]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,a.jsx)("div",{className:"h-[300px]",children:(0,a.jsx)(T.x1,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"波動率趨勢"}},scales:{y:{beginAtZero:!1}}},data:u})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"風險因子分析"}),(0,a.jsx)("div",{className:"h-[300px]",children:(0,a.jsx)(T.Fk,{data:p,options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:100,ticks:{stepSize:20}}}}})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"歷史回撤"}),(0,a.jsx)("div",{className:"h-[300px]",children:(0,a.jsx)(T.$Q,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"最大回撤"},tooltip:{callbacks:{label:function(e){let s=e.dataset.label||"";return s&&(s+=": "),null!==e.parsed.y&&(s+=e.parsed.y+"%"),s}}}},scales:{y:{title:{display:!0,text:"回撤百分比 (%)"},ticks:{callback:function(e){return e+"%"}}}}},data:j})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"其他風險指標"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.otherMetrics.map((e,s)=>(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:e.name}),(0,a.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.value}),(0,a.jsx)("div",{className:"text-sm ".concat("good"===e.status?"text-green-500":"neutral"===e.status?"text-yellow-500":"text-red-500"),children:e.interpretation})]})]},s))})]})]}),"recommendations"===i&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>o("all"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("all"===x?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"全部"}),(0,a.jsx)("button",{onClick:()=>o("rebalance"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("rebalance"===x?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"再平衡"}),(0,a.jsx)("button",{onClick:()=>o("opportunity"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("opportunity"===x?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"投資機會"}),(0,a.jsx)("button",{onClick:()=>o("risk"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("risk"===x?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"風險警示"}),(0,a.jsx)("button",{onClick:()=>o("adjustment"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("adjustment"===x?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"調整建議"}),(0,a.jsx)("button",{onClick:()=>o("tax"),className:"px-3 py-1 rounded-full text-sm font-medium ".concat("tax"===x?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"稅務規劃"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,a.jsx)(k.Z,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"投資組合健康度"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[r.healthScore,"/100"]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["較上月"," ",(0,a.jsxs)("span",{className:r.healthScore>=75?"text-green-500":"text-red-500",children:[r.healthScore>=75?"+":"-","3.5"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-green-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"優化潛力"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["+",r.optimizationPotential,"%"]}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"透過調整配置提升潛在回報"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg",children:(0,a.jsx)(g.Z,{className:"h-5 w-5 text-indigo-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"建議指數"})]}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-indigo-600",children:[r.recommendationLevel,"/10"]}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"建議優先處理高優先級項目"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((e,s)=>{let t=f(e.type),l=t.icon;return(0,a.jsxs)("div",{className:"".concat(t.bg," rounded-xl p-6 shadow-sm"),children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"".concat(t.iconBg," p-2 rounded-lg"),children:(0,a.jsx)(l,{className:"h-5 w-5 ".concat(t.iconColor)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),e.priority&&(0,a.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"),children:"high"===e.priority?"高優先":"medium"===e.priority?"中優先":"低優先"})]}),e.subtitle&&(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500 mt-1",children:e.subtitle})]})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:e.description}),e.actions&&e.actions.length>0&&(0,a.jsx)("div",{className:"mt-4 space-y-2",children:e.actions.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-5 w-5 rounded-full bg-white flex items-center justify-center",children:(0,a.jsx)("span",{className:"h-3 w-3 rounded-full bg-blue-500"})}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},s))}),e.impact&&(0,a.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"預期效果"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:e.impact})]})}),(0,a.jsxs)("div",{className:"mt-5 flex space-x-2",children:[(0,a.jsx)("button",{className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"了解更多"}),(0,a.jsx)("button",{className:"flex-1 px-3 py-2 bg-blue-600 rounded-md text-sm font-medium text-white hover:bg-blue-700",children:"執行建議"})]})]},s)})}),0===v.length&&(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(w.Z,{className:"mx-auto h-12 w-12 text-gray-300"}),(0,a.jsxs)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:["沒有","all"!==x?"此類型的":"","建議"]}),(0,a.jsx)("p",{className:"mt-1 text-gray-500",children:"目前沒有可用的 AI 建議，請稍後再查看或嘗試其他類型。"})]})]})]})};let et={overview:{totalValue:"NT$2,450,600",totalReturn:{value:"NT$450,600",percentage:"+22.5%"},dailyReturn:{value:"NT$12,500",percentage:"+0.5%"},monthlyReturn:{value:"NT$45,600",percentage:"+1.9%"},monthlyChange:"+0.5",lastUpdate:"2023-04-28 15:30",riskScore:68,riskLevel:"中",volatility:"15.2%"},allocation:{byAssetClass:[{name:"股票",percentage:65},{name:"債券",percentage:15},{name:"加密貨幣",percentage:10},{name:"現金",percentage:5},{name:"黃金",percentage:3},{name:"其他",percentage:2}],bySector:[{name:"科技",percentage:35},{name:"金融",percentage:15},{name:"健康醫療",percentage:12},{name:"消費",percentage:10},{name:"能源",percentage:8},{name:"工業",percentage:7},{name:"房地產",percentage:5},{name:"其他",percentage:8}],byRegion:[{name:"台灣",percentage:40},{name:"美國",percentage:30},{name:"中國",percentage:15},{name:"歐洲",percentage:10},{name:"其他",percentage:5}],recommendations:[{type:"positive",text:"您的資產配置大致均衡，風險分散較為適當。"},{type:"neutral",text:"台股配置比例偏高，可考慮增加其他地區投資降低地域風險。"},{type:"negative",text:"科技股比重偏高，建議適度分散至其他產業以降低風險。"},{type:"positive",text:"短期債券配置比例適中，可提供穩定收益。"}]},performance:{daily:{labels:["4/1","4/2","4/3","4/4","4/5","4/6","4/7","4/8","4/9","4/10","4/11","4/12","4/13","4/14","4/15","4/16","4/17","4/18","4/19","4/20","4/21","4/22","4/23","4/24","4/25","4/26","4/27","4/28","4/29","4/30","5/1","5/2","5/3","5/4","5/5","5/6","5/7","5/8","5/9","5/10","5/11","5/12","5/13","5/14","5/15","5/16","5/17","5/18","5/19","5/20","5/21","5/22","5/23","5/24","5/25","5/26","5/27","5/28"],portfolio:[235e4,2355e3,236e4,2365e3,237e4,2375e3,238e4,2375e3,237e4,2365e3,236e4,2365e3,237e4,2375e3,238e4,2385e3,239e4,2395e3,24e5,2395e3,239e4,2385e3,239e4,2395e3,24e5,2405e3,241e4,2415e3,242e4,2425e3,242e4,2415e3,241e4,2415e3,242e4,2425e3,243e4,2425e3,242e4,2415e3,242e4,2425e3,243e4,2435e3,244e4,2445e3,2445e3,244e4,2445e3,245e4,2445e3,244e4,2435e3,244e4,2445e3,245e4,2450600],benchmark:[17800,17850,17900,17950,18e3,18050,18100,18050,18e3,17950,17900,17950,18e3,18050,18100,18150,18200,18250,18300,18250,18200,18150,18200,18250,18300,18350,18400,18450,18500,18550,18500,18450,18400,18450,18500,18550,18600,18550,18500,18450,18500,18550,18600,18650,18700,18750,18750,18700,18750,18800,18750,18700,18650,18700,18750,18800,18850]},weekly:{labels:["1月第1週","1月第2週","1月第3週","1月第4週","2月第1週","2月第2週","2月第3週","2月第4週","3月第1週","3月第2週","3月第3週","3月第4週","4月第1週","4月第2週","4月第3週","4月第4週","5月第1週","5月第2週","5月第3週","5月第4週","6月第1週"],portfolio:[21e5,212e4,214e4,216e4,218e4,22e5,222e4,224e4,226e4,228e4,23e5,232e4,234e4,236e4,238e4,24e5,242e4,244e4,2445e3,245e4,2450600],benchmark:[16800,16900,17e3,17100,17200,17300,17400,17500,17600,17700,17800,17900,18e3,18100,18200,18300,18400,18500,18600,18700,18800]},monthly:{labels:["2023/1","2023/2","2023/3","2023/4","2023/5","2023/6","2023/7","2023/8","2023/9","2023/10","2023/11","2023/12","2024/1","2024/2","2024/3","2024/4","2024/5"],portfolio:[18e5,185e4,19e5,195e4,2e6,205e4,21e5,215e4,22e5,225e4,23e5,235e4,237e4,239e4,241e4,243e4,2450600],benchmark:[15e3,15300,15600,15900,16200,16500,16800,17100,17400,17700,18e3,18200,18400,18600,18700,18800,18850]},returns:{"1W":.5,"1M":1.9,"3M":5.8,"6M":10.2,"1Y":20.5,YTD:8.6,ALL:36.1}},transactions:[{id:1,date:"2024-05-15",type:"買入",symbol:"2330",name:"台積電",quantity:50,price:"NT$585",total:"NT$29,250"},{id:2,date:"2024-05-10",type:"賣出",symbol:"2308",name:"台達電",quantity:200,price:"NT$312",total:"NT$62,400"},{id:3,date:"2024-05-02",type:"買入",symbol:"0050",name:"元大台灣50",quantity:300,price:"NT$142",total:"NT$42,600"},{id:4,date:"2024-04-28",type:"買入",symbol:"AAPL",name:"蘋果公司",quantity:10,price:"US$175.5",total:"NT$54,640"},{id:5,date:"2024-04-18",type:"賣出",symbol:"NVDA",name:"輝達",quantity:5,price:"US$860",total:"NT$133,650"},{id:6,date:"2024-04-10",type:"買入",symbol:"BTC",name:"比特幣",quantity:.1,price:"US$63,500",total:"NT$19,750"},{id:7,date:"2024-04-05",type:"買入",symbol:"MSFT",name:"微軟",quantity:5,price:"US$330",total:"NT$51,300"}],risk:{metrics:{volatility:15.2,volatilityVsMarket:-2.5,sharpeRatio:1.65,maxDrawdown:12.4,maxDrawdownDate:"2023-10-15"},volatility:{labels:["2023/12","2024/1","2024/2","2024/3","2024/4","2024/5"],portfolio:[14.8,14.2,15.6,16.1,15.5,15.2],market:[17.5,16.8,18.2,19,18.5,17.7]},drawdown:{labels:["2023/7","2023/8","2023/9","2023/10","2023/11","2023/12","2024/1","2024/2","2024/3","2024/4","2024/5"],values:[2.3,5.1,8.2,12.4,10.5,7.8,5.2,3.6,6.5,4.1,2.8]},riskFactors:{labels:["市場風險","信用風險","流動性風險","波動性風險","集中度風險","通膨風險"],values:[45,25,30,60,70,40]},otherMetrics:[{name:"特雷諾比率",value:"1.42",status:"good",interpretation:"高於平均"},{name:"索提諾比率",value:"1.18",status:"good",interpretation:"良好"},{name:"信息比率",value:"0.78",status:"neutral",interpretation:"中等"},{name:"貝塔係數",value:"0.85",status:"good",interpretation:"低於市場"},{name:"阿爾法係數",value:"3.7%",status:"good",interpretation:"優於市場"},{name:"R平方",value:"0.82",status:"neutral",interpretation:"中度相關"}],recommendations:[{text:"考慮增加國際債券配置以降低整體風險",priority:"medium"},{text:"科技股集中度偏高，建議適當分散至其他產業",priority:"high"},{text:"增加低波動性資產如大型藍籌股以降低波動風險",priority:"medium"},{text:"考慮增加黃金等抗通膨資產以對沖通膨風險",priority:"low"},{text:"單一持股台積電占比較高，建議控制單一持股比重不超過5%",priority:"medium"}]},holdings:[{symbol:"2330",name:"台積電",price:"NT$585",priceChange:1.2,quantity:200,marketValue:"NT$117,000",costBasis:"NT$98,000",totalReturn:{value:"NT$19,000",percentage:"+19.4%"},weight:"4.8%"},{symbol:"2317",name:"鴻海",price:"NT$108.5",priceChange:-.5,quantity:500,marketValue:"NT$54,250",costBasis:"NT$51,000",totalReturn:{value:"NT$3,250",percentage:"+6.4%"},weight:"2.2%"},{symbol:"0050",name:"元大台灣50",price:"NT$142",priceChange:.2,quantity:1e3,marketValue:"NT$142,000",costBasis:"NT$125,000",totalReturn:{value:"NT$17,000",percentage:"+13.6%"},weight:"5.8%"},{symbol:"AAPL",name:"蘋果公司",price:"US$175.5",priceChange:1.8,quantity:50,marketValue:"NT$273,200",costBasis:"NT$218,000",totalReturn:{value:"NT$55,200",percentage:"+25.3%"},weight:"11.1%"},{symbol:"MSFT",name:"微軟",price:"US$335.8",priceChange:2.1,quantity:30,marketValue:"NT$313,650",costBasis:"NT$253,500",totalReturn:{value:"NT$60,150",percentage:"+23.7%"},weight:"12.8%"}],aiRecommendations:{lastUpdate:"2024-05-28 10:30",summary:"根據您的投資目標和市場趨勢分析，您的投資組合整體表現良好，但存在優化空間。科技股比重過高導致風險集中，建議適當分散至其他產業並增加抗通膨資產。",healthScore:76,optimizationPotential:8.5,recommendationLevel:7,recommendations:[{type:"rebalance",title:"投資組合再平衡",priority:"high",subtitle:"降低科技股比重",description:"您的投資組合中科技股比重達到 57.8%，明顯高於建議的 35% 上限，增加了集中度風險。",actions:["從蘋果(AAPL)和微軟(MSFT)各減持 15-20% 的部位","將資金重新分配至消費和醫療健康領域","考慮增加 VHT 醫療保健 ETF 的配置"],impact:"風險降低 15%，波動率降低 3%"},{type:"opportunity",title:"新興投資機會",priority:"medium",subtitle:"綠能產業增長潛力",description:"根據最新產業分析和市場趨勢，綠能產業正處於成長階段，政策支持力度增強。",actions:["分配約 5% 資金至 ICLN 清潔能源 ETF","考慮布局特斯拉(TSLA)或相關產業鏈企業"],impact:"潛在年化收益 +3.2%"},{type:"risk",title:"市場風險提示",priority:"high",subtitle:"通膨風險防禦不足",description:"面對持續攀升的通膨數據，您的投資組合缺少足夠的防禦性資產配置，可能導致實際收益被侵蝕。",actions:["增加實物資產配置，如 GLD 黃金 ETF (建議配置 5-8%)","考慮增加抗通膨債券 TIPS 的比重","適當增加不動產投資信託 (REITs) 的配置"],impact:"通膨保護能力提升 40%"},{type:"adjustment",title:"債券投資調整",priority:"medium",subtitle:"降低長期債券風險",description:"當前利率環境下，您持有的長期債券 ETF (AGG) 面臨較高的利率風險，建議調整債券組合的存續期。",actions:["將部分 AGG 轉換為短期債券 ETF (如 SHY)","考慮分散投資於高信用等級企業債券"],impact:"降低利率風險 25%"},{type:"tax",title:"稅務優化建議",priority:"low",subtitle:"利用虧損實現稅務優化",description:"您的特斯拉 (TSLA) 持倉目前處於虧損狀態，可以考慮進行稅務虧損收割 (Tax Loss Harvesting)，同時保持相似的市場曝險。",actions:["賣出特斯拉 (TSLA) 實現稅務虧損","30天後重新建倉或購買相關 ETF 保持曝險","用實現的虧損抵消其他投資收益"],impact:"潛在稅務節省 NT$15,400"},{type:"opportunity",title:"國際市場配置",priority:"medium",subtitle:"增加國際市場曝險",description:"您的投資組合主要集中在台灣和美國市場，缺少足夠的國際市場多元化配置。新興市場估值具吸引力。",actions:["分配 5-10% 資金至新興市場 ETF (如 VWO)","考慮小幅配置歐洲市場 ETF (如 VGK)"],impact:"地區多元化提升 30%"}]}};var ea=()=>{let[e,s]=(0,l.useState)(null),t=[{id:"overview",name:"投資組合概覽",icon:r.Z},{id:"allocation",name:"資產配置",icon:i.Z},{id:"holdings",name:"持倉明細",icon:n.Z},{id:"performance",name:"績效分析",icon:d.Z},{id:"history",name:"交易歷史",icon:c.Z},{id:"risk_ai",name:"風險與建議",icon:g.Z}],[b,u]=(0,l.useState)("overview");return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"我的投資組合"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>{},className:"p-2 text-gray-400 hover:text-gray-500",title:"更新資料",children:(0,a.jsx)(m.Z,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>{},className:"p-2 text-gray-400 hover:text-gray-500",title:"匯出報表",children:(0,a.jsx)(o.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("button",{onClick:()=>{},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"新增資產"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:t.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(b===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"h-5 w-5 mr-2"}),e.name]},e.id)})})}),"overview"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(Z,{data:et.overview}),(0,a.jsx)(H,{data:et.performance,timeRange:"1M"})]}),"allocation"===b&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(R,{data:et.allocation})}),"holdings"===b&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(Y,{holdings:et.holdings,onSelectHolding:s,selectedHolding:e})}),"performance"===b&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(H,{data:et.performance,timeRange:"ALL",showBenchmark:!0,showDetails:!0})}),"history"===b&&(0,a.jsx)(ee,{transactions:et.transactions}),"risk_ai"===b&&(0,a.jsx)(es,{riskData:et.risk,aiData:et.aiRecommendations})]})]})}}},function(e){e.O(0,[196,421,68,888,774,179],function(){return e(e.s=1826)}),_N_E=e.O()}]);